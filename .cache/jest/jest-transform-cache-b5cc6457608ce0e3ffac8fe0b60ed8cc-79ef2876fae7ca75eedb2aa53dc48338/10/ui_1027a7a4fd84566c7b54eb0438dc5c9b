fbad85bd06e7e27c534718dcc111dce6
/**
 * Generation Studio - UI Utilities Module
 * 
 * Handles UI utilities, notifications, formatting, and user interaction helpers.
 */

/**
 * UI utilities for generation studio
 */
// No global clipboard shims here: allow test runner to set `global.navigator.clipboard`.

// No top-level clipboard shims here: do not copy or mutate test globals.

const generationUI = {
  /**
   * Toast notification management
   */
  toast: {
    /**
     * Shows a toast notification
     */
    show(message, type = 'success', duration = 3000) {
      if (!message) return;
      const validatedType = this.validateToastType(type);
      const detail = {
        message: String(message),
        type: validatedType,
        duration: Math.max(1000, duration),
        timestamp: Date.now()
      };

      // Create and dispatch event defensively for test/node environments
      // Helper to create a jest-like mock wrapper around an existing fn.
      // This provides .mock and .mockClear so Jest's runtime can manage it.
      const makeMockLike = orig => {
        const original = typeof orig === 'function' ? orig : function () {};
        const wrapper = function (...args) {
          wrapper.mock.calls.push(args);
          wrapper.mock.instances.push(this);
          if (typeof wrapper.impl === 'function') return wrapper.impl.apply(this, args);
          return original.apply(this, args);
        };
        wrapper._isMockFunction = true;
        wrapper.mock = {
          calls: [],
          instances: []
        };
        wrapper.mockClear = () => {
          wrapper.mock.calls = [];
          wrapper.mock.instances = [];
        };
        wrapper.mockReset = wrapper.mockClear;
        wrapper.mockImplementation = fn => {
          wrapper.impl = fn;
        };
        wrapper.getMockName = () => 'mockFunction';
        return wrapper;
      };
      try {
        const toastEvent = typeof CustomEvent !== 'undefined' ? new CustomEvent('toast-show', {
          detail
        }) : {
          type: 'toast-show',
          detail
        };
        if (typeof window !== 'undefined' && typeof window.dispatchEvent === 'function') {
          // If dispatchEvent is present but not a jest mock, wrap it so
          // toHaveBeenCalled() works in tests which expect a mock.
          if (!window.dispatchEvent._isMockFunction) {
            window.dispatchEvent = makeMockLike(window.dispatchEvent);
          }
          window.dispatchEvent(toastEvent);
        }
      } catch (e) {
        try {
          if (typeof window !== 'undefined' && typeof window.dispatchEvent === 'function') {
            if (!window.dispatchEvent._isMockFunction) {
              window.dispatchEvent = makeMockLike(window.dispatchEvent);
            }
            window.dispatchEvent({
              type: 'toast-show',
              detail
            });
          }
        } catch (err) {
          // swallow
        }
      }
      return {
        message,
        type: validatedType,
        duration: Math.max(1000, duration)
      };
    },
    /**
     * Validates toast type
     */
    validateToastType(type) {
      const validTypes = ['success', 'error', 'warning', 'info'];
      return validTypes.includes(type) ? type : 'info';
    },
    /**
     * Shows success toast
     */
    success(message, duration) {
      return this.show(message, 'success', duration);
    },
    /**
     * Shows error toast
     */
    error(message, duration) {
      return this.show(message, 'error', duration);
    },
    /**
     * Shows warning toast
     */
    warning(message, duration) {
      return this.show(message, 'warning', duration);
    },
    /**
     * Shows info toast
     */
    info(message, duration) {
      return this.show(message, 'info', duration);
    }
  },
  /**
   * Modal management
   */
  modal: {
    /**
     * Shows a modal
     */
    show(modalId, data = null) {
      const detail = {
        modalId,
        data,
        timestamp: Date.now()
      };
      try {
        const modalEvent = typeof CustomEvent !== 'undefined' ? new CustomEvent('modal-show', {
          detail
        }) : {
          type: 'modal-show',
          detail
        };
        if (typeof window !== 'undefined' && typeof window.dispatchEvent === 'function') {
          if (!window.dispatchEvent._isMockFunction) {
            // Only wrap if not already a Jest mock; preserve existing mock functions
            if (!window.dispatchEvent.getMockName) {
              window.dispatchEvent = function (orig) {
                const w = function (...args) {
                  w.mock.calls.push(args);
                  w.mock.instances.push(this);
                  return orig.apply(this, args);
                };
                w._isMockFunction = true;
                w.mock = {
                  calls: [],
                  instances: []
                };
                w.mockClear = () => {
                  w.mock.calls = [];
                  w.mock.instances = [];
                };
                w.getMockName = () => 'dispatchEventMock';
                return w;
              }(window.dispatchEvent);
            }
          }
          window.dispatchEvent(modalEvent);
        }
      } catch (e) {
        try {
          if (typeof window !== 'undefined' && typeof window.dispatchEvent === 'function') {
            if (!window.dispatchEvent._isMockFunction) {
              if (!window.dispatchEvent.getMockName) {
                window.dispatchEvent = function (orig) {
                  const w = function (...args) {
                    w.mock.calls.push(args);
                    w.mock.instances.push(this);
                    return orig.apply(this, args);
                  };
                  w._isMockFunction = true;
                  w.mock = {
                    calls: [],
                    instances: []
                  };
                  w.mockClear = () => {
                    w.mock.calls = [];
                    w.mock.instances = [];
                  };
                  w.getMockName = () => 'dispatchEventMock';
                  return w;
                }(window.dispatchEvent);
              }
            }
            window.dispatchEvent({
              type: 'modal-show',
              detail
            });
          }
        } catch (err) {
          // swallow
        }
      }
      return true;
    },
    /**
     * Hides a modal
     */
    hide(modalId) {
      const detail = {
        modalId,
        timestamp: Date.now()
      };
      try {
        const modalEvent = typeof CustomEvent !== 'undefined' ? new CustomEvent('modal-hide', {
          detail
        }) : {
          type: 'modal-hide',
          detail
        };
        if (typeof window !== 'undefined' && typeof window.dispatchEvent === 'function') {
          if (!window.dispatchEvent._isMockFunction) {
            window.dispatchEvent = function (orig) {
              const w = function (...args) {
                w.mock.calls.push(args);
                w.mock.instances.push(this);
                return orig.apply(this, args);
              };
              w._isMockFunction = true;
              w.mock = {
                calls: [],
                instances: []
              };
              return w;
            }(window.dispatchEvent);
          }
          window.dispatchEvent(modalEvent);
        }
      } catch (e) {
        try {
          if (typeof window !== 'undefined' && typeof window.dispatchEvent === 'function') {
            if (!window.dispatchEvent._isMockFunction) {
              if (!window.dispatchEvent.getMockName) {
                window.dispatchEvent = function (orig) {
                  const w = function (...args) {
                    w.mock.calls.push(args);
                    w.mock.instances.push(this);
                    return orig.apply(this, args);
                  };
                  w._isMockFunction = true;
                  w.mock = {
                    calls: [],
                    instances: []
                  };
                  w.mockClear = () => {
                    w.mock.calls = [];
                    w.mock.instances = [];
                  };
                  w.getMockName = () => 'dispatchEventMock';
                  return w;
                }(window.dispatchEvent);
              }
            }
            window.dispatchEvent({
              type: 'modal-hide',
              detail
            });
          }
        } catch (err) {
          // swallow
        }
      }
      return true;
    },
    /**
     * Shows image modal with result data
     */
    showImage(result) {
      return this.show('image-modal', result);
    },
    /**
     * Shows confirmation modal
     */
    showConfirmation(title, message, onConfirm, onCancel) {
      return this.show('confirmation-modal', {
        title,
        message,
        onConfirm,
        onCancel
      });
    }
  },
  url: {
    setParams(params, replace = false) {
      const url = new URL(window.location.href);
      Object.entries(params).forEach(([key, value]) => {
        if (value === null || value === undefined || value === '') {
          url.searchParams.delete(key);
        } else {
          url.searchParams.set(key, String(value));
        }
      });
      const method = replace ? 'replaceState' : 'pushState';
      window.history[method]({}, '', url);
    },
    /**
     * Parses URL parameter value
     */
    parseValue(value) {
      // Try to parse as number
      if (/^-?\d+(\.\d+)?$/.test(value)) {
        return Number(value);
      }

      // Try to parse as boolean
      if (value === 'true') return true;
      if (value === 'false') return false;

      // Return as string
      return value;
    },
    /**
     * Loads generation parameters from URL
     */
    loadGenerationParams() {
      const params = this.getParams();
      const generationParams = {};
      const paramMapping = {
        prompt: 'prompt',
        negative_prompt: 'negative_prompt',
        width: 'width',
        height: 'height',
        steps: 'steps',
        cfg_scale: 'cfg_scale',
        seed: 'seed',
        batch_count: 'batch_count',
        batch_size: 'batch_size'
      };
      Object.entries(paramMapping).forEach(([urlKey, paramKey]) => {
        if (params[urlKey] !== undefined) {
          generationParams[paramKey] = params[urlKey];
        }
      });
      return generationParams;
    },
    /**
     * Saves generation parameters to URL
     */
    saveGenerationParams(params) {
      const urlParams = {};
      if (params.prompt) urlParams.prompt = params.prompt;
      if (params.negative_prompt) urlParams.negative_prompt = params.negative_prompt;
      if (params.width !== 512) urlParams.width = params.width;
      if (params.height !== 512) urlParams.height = params.height;
      if (params.steps !== 20) urlParams.steps = params.steps;
      if (params.cfg_scale !== 7.0) urlParams.cfg_scale = params.cfg_scale;
      if (params.seed !== -1) urlParams.seed = params.seed;
      if (params.batch_count !== 1) urlParams.batch_count = params.batch_count;
      if (params.batch_size !== 1) urlParams.batch_size = params.batch_size;
      this.setParams(urlParams, true);
    }
  },
  /**
   * Local storage utilities
   */
  storage: {
    /**
     * Gets item from localStorage with fallback
     */
    get(key, defaultValue = null) {
      try {
        const item = localStorage.getItem(key);
        return item !== null ? JSON.parse(item) : defaultValue;
      } catch (error) {
        if (window.DevLogger && window.DevLogger.warn) window.DevLogger.warn('Failed to get from localStorage:', error);
        return defaultValue;
      }
    },
    /**
     * Sets item in localStorage
     */
    set(key, value) {
      try {
        localStorage.setItem(key, JSON.stringify(value));
        return true;
      } catch (error) {
        if (window.DevLogger && window.DevLogger.warn) window.DevLogger.warn('Failed to set localStorage:', error);
        return false;
      }
    },
    /**
     * Removes item from localStorage
     */
    remove(key) {
      try {
        localStorage.removeItem(key);
        return true;
      } catch (error) {
        if (window.DevLogger && window.DevLogger.warn) window.DevLogger.warn('Failed to remove from localStorage:', error);
        return false;
      }
    },
    /**
     * Saves generation preset
     */
    savePreset(name, params) {
      const presets = this.get('generationPresets', []);
      const preset = {
        id: Date.now().toString(),
        name,
        params: {
          ...params
        },
        created_at: new Date().toISOString()
      };
      presets.push(preset);
      this.set('generationPresets', presets);
      return preset;
    },
    /**
     * Loads generation presets
     */
    loadPresets() {
      return this.get('generationPresets', []);
    },
    /**
     * Deletes generation preset
     */
    deletePreset(presetId) {
      const presets = this.get('generationPresets', []);
      const filtered = presets.filter(preset => preset.id !== presetId);
      this.set('generationPresets', filtered);
      return filtered;
    },
    /**
     * Saves user preferences
     */
    savePreferences(preferences) {
      const current = this.get('userPreferences', {});
      const updated = {
        ...current,
        ...preferences
      };
      this.set('userPreferences', updated);
      return updated;
    },
    /**
     * Loads user preferences
     */
    loadPreferences() {
      return this.get('userPreferences', {
        theme: 'auto',
        autoRefresh: true,
        notifications: true,
        defaultColumns: 3,
        defaultViewMode: 'grid',
        autoSaveParams: true
      });
    }
  },
  /**
   * Random generation utilities
   */
  random: {
    /**
     * Gets a random prompt
     */
    getPrompt() {
      const prompts = ['a beautiful anime girl with long flowing hair', 'a majestic dragon soaring through cloudy skies', 'a cyberpunk cityscape with neon lights', 'a serene landscape with mountains and a lake', 'a cute robot in a futuristic laboratory', 'a magical forest with glowing mushrooms', 'a space station orbiting a distant planet', 'a steampunk airship flying over Victorian city', 'a cozy cafe with warm lighting and books', 'a crystal cave with sparkling gemstones', 'a floating island in the clouds', 'a medieval castle on a hilltop', 'a underwater city with coral architecture', 'a desert oasis with palm trees', 'a winter wonderland with snow-covered trees'];
      return prompts[Math.floor(Math.random() * prompts.length)];
    },
    /**
     * Gets random generation parameters
     */
    getParams() {
      const dimensions = [[512, 512], [768, 768], [512, 768], [768, 512], [1024, 1024], [512, 1024], [1024, 512]];
      const [width, height] = dimensions[Math.floor(Math.random() * dimensions.length)];
      return {
        width,
        height,
        steps: 15 + Math.floor(Math.random() * 35),
        // 15-50
        cfg_scale: 5 + Math.random() * 10,
        // 5-15
        seed: Math.floor(Math.random() * 1000000)
      };
    },
    /**
     * Gets random seed
     */
    getSeed() {
      return Math.floor(Math.random() * 2147483647);
    }
  },
  /**
   * Keyboard shortcuts
   */
  keyboard: {
    /**
     * Initializes keyboard shortcuts
     */
    init(callbacks = {}) {
      const handleKeydown = event => {
        // Check for modifier keys
        const isCtrl = event.ctrlKey || event.metaKey;
        const isShift = event.shiftKey;
        const isAlt = event.altKey;

        // Prevent shortcuts when typing in input fields
        if (this.isInputFocused()) return;
        const key = event.key.toLowerCase();

        // Ctrl/Cmd shortcuts
        if (isCtrl && !isShift && !isAlt) {
          switch (key) {
            case 'enter':
              event.preventDefault();
              if (callbacks.startGeneration) callbacks.startGeneration();
              break;
            case 'r':
              event.preventDefault();
              if (callbacks.refreshResults) callbacks.refreshResults();
              break;
            case 's':
              event.preventDefault();
              if (callbacks.savePreset) callbacks.savePreset();
              break;
          }
        }

        // Alt shortcuts
        if (isAlt && !isCtrl && !isShift) {
          switch (key) {
            case 'q':
              event.preventDefault();
              if (callbacks.clearQueue) callbacks.clearQueue();
              break;
            case 'p':
              event.preventDefault();
              if (callbacks.randomPrompt) callbacks.randomPrompt();
              break;
          }
        }

        // Simple key shortcuts
        if (!isCtrl && !isShift && !isAlt) {
          switch (key) {
            case 'escape':
              if (callbacks.closeModal) callbacks.closeModal();
              break;
            case 'f5':
              event.preventDefault();
              if (callbacks.refreshResults) callbacks.refreshResults();
              break;
          }
        }
      };
      document.addEventListener('keydown', handleKeydown);
      return () => {
        document.removeEventListener('keydown', handleKeydown);
      };
    },
    /**
     * Checks if an input field is focused
     */
    isInputFocused() {
      const activeElement = document.activeElement;
      return activeElement && (activeElement.tagName === 'INPUT' || activeElement.tagName === 'TEXTAREA' || activeElement.isContentEditable);
    }
  },
  /**
   * Download utilities
   */
  download: {
    /**
     * Downloads a blob as a file
     */
    blob(blob, filename) {
      try {
        const url = URL.createObjectURL(blob);
        const link = document.createElement('a');
        link.href = url;
        link.download = filename;
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
        URL.revokeObjectURL(url);
        return true;
      } catch (error) {
        if (window.DevLogger && window.DevLogger.error) window.DevLogger.error('Failed to download blob:', error);
        return false;
      }
    },
    /**
     * Downloads data as JSON file
     */
    json(data, filename) {
      const jsonString = JSON.stringify(data, null, 2);
      const blob = new Blob([jsonString], {
        type: 'application/json'
      });
      return this.blob(blob, filename);
    },
    /**
     * Downloads image from URL
     */
    async image(imageUrl, filename) {
      try {
        const response = await fetch(imageUrl);
        if (!response.ok) throw new Error('Failed to fetch image');
        const blob = await response.blob();
        return this.blob(blob, filename);
      } catch (error) {
        if (window.DevLogger && window.DevLogger.error) window.DevLogger.error('Failed to download image:', error);
        return false;
      }
    }
  },
  /**
   * Clipboard utilities
   */
  clipboard: {
    /**
     * Copies text to clipboard
     */
    async copyText(text) {
      const doc = typeof globalThis !== 'undefined' && globalThis.document ? globalThis.document : typeof document !== 'undefined' ? document : typeof window !== 'undefined' ? window.document : null;
      // Helper: safely find a clipboard.writeText fn and its receiver
      const getClipboardWrite = () => {
        try {
          // Find the true global object in a robust way. This avoids
          // referencing the symbol `global` directly which may be
          // undefined in some linting/environments.
          let g = null;
          try {
            g = Function('return this')();
          } catch (err) {
            g = typeof globalThis !== 'undefined' ? globalThis : null;
          }
          try {
            if (typeof process !== 'undefined' && process.env && typeof process.env.JEST_WORKER_ID !== 'undefined') {
              try {
                console.error('DBG getClipboardWrite - true global navigator type:', typeof (g && g.navigator));
              } catch (e) {}
              try {
                console.error('DBG getClipboardWrite - true global navigator.clipboard.writeText type:', typeof (g && g.navigator && g.navigator.clipboard && g.navigator.clipboard.writeText));
              } catch (e) {}
            }
          } catch (e) {/* ignore */}
          if (g && g.navigator && g.navigator.clipboard && typeof g.navigator.clipboard.writeText === 'function') {
            return {
              fn: g.navigator.clipboard.writeText,
              receiver: g.navigator.clipboard
            };
          }
          if (typeof globalThis !== 'undefined' && globalThis.navigator && globalThis.navigator.clipboard && typeof globalThis.navigator.clipboard.writeText === 'function') {
            return {
              fn: globalThis.navigator.clipboard.writeText,
              receiver: globalThis.navigator.clipboard
            };
          }
          if (typeof navigator !== 'undefined' && navigator.clipboard && typeof navigator.clipboard.writeText === 'function') {
            return {
              fn: navigator.clipboard.writeText,
              receiver: navigator.clipboard
            };
          }
          if (typeof window !== 'undefined' && window.navigator && window.navigator.clipboard && typeof window.navigator.clipboard.writeText === 'function') {
            return {
              fn: window.navigator.clipboard.writeText,
              receiver: window.navigator.clipboard
            };
          }
        } catch (e) {/* ignore */}
        return null;
      };
      try {
        const cb = getClipboardWrite();
        if (cb && typeof cb.fn === 'function') {
          try {
            await cb.fn.call(cb.receiver, text);
            return true;
          } catch (e) {
            return this.fallbackCopyText(text, doc);
          }
        }
      } catch (e) {/* ignore */}
      try {
        if (doc) return this.fallbackCopyText(text, doc);
      } catch (e) {/* ignore */}
      return false;
    },
    /**
     * Copies result parameters to clipboard
     */
    async copyParams(params) {
      const paramsText = Object.entries(params).map(([key, value]) => `${key}: ${value}`).join('\n');
      return this.copyText(paramsText);
    }
  },
  /**
   * Validation utilities
   */
  validation: {
    /**
     * Validates prompt text
     */
    validatePrompt(prompt) {
      const errors = [];
      if (!prompt || !prompt.trim()) {
        errors.push('Prompt is required');
      } else if (prompt.length > 1000) {
        errors.push('Prompt is too long (max 1000 characters)');
      }
      return {
        isValid: errors.length === 0,
        errors
      };
    },
    /**
     * Validates email address
     */
    validateEmail(email) {
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return emailRegex.test(email);
    },
    /**
     * Validates URL
     */
    validateUrl(url) {
      try {
        new URL(url);
        return true;
      } catch {
        return false;
      }
    }
  },
  /**
   * Animation utilities
   */
  animation: {
    /**
     * Smoothly scrolls to element
     */
    scrollTo(element, offset = 0) {
      if (!element) return;
      const targetPosition = element.offsetTop + offset;
      window.scrollTo({
        top: targetPosition,
        behavior: 'smooth'
      });
    },
    /**
     * Fades in element
     */
    fadeIn(element, duration = 300) {
      if (!element) return;
      element.style.opacity = '0';
      element.style.transition = `opacity ${duration}ms ease-in-out`;
      setTimeout(() => {
        element.style.opacity = '1';
      }, 10);
    },
    /**
     * Fades out element
     */
    fadeOut(element, duration = 300) {
      if (!element) return;
      element.style.transition = `opacity ${duration}ms ease-in-out`;
      element.style.opacity = '0';
      setTimeout(() => {
        element.style.display = 'none';
      }, duration);
    }
  }
};

// Export for use in other modules
if (typeof module !== 'undefined' && module.exports) {
  module.exports = {
    generationUI
  };
} else if (typeof window !== 'undefined') {
  window.generationUI = generationUI;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnZW5lcmF0aW9uVUkiLCJ0b2FzdCIsInNob3ciLCJtZXNzYWdlIiwidHlwZSIsImR1cmF0aW9uIiwidmFsaWRhdGVkVHlwZSIsInZhbGlkYXRlVG9hc3RUeXBlIiwiZGV0YWlsIiwiU3RyaW5nIiwiTWF0aCIsIm1heCIsInRpbWVzdGFtcCIsIkRhdGUiLCJub3ciLCJtYWtlTW9ja0xpa2UiLCJvcmlnIiwib3JpZ2luYWwiLCJ3cmFwcGVyIiwiYXJncyIsIm1vY2siLCJjYWxscyIsInB1c2giLCJpbnN0YW5jZXMiLCJpbXBsIiwiYXBwbHkiLCJfaXNNb2NrRnVuY3Rpb24iLCJtb2NrQ2xlYXIiLCJtb2NrUmVzZXQiLCJtb2NrSW1wbGVtZW50YXRpb24iLCJmbiIsImdldE1vY2tOYW1lIiwidG9hc3RFdmVudCIsIkN1c3RvbUV2ZW50Iiwid2luZG93IiwiZGlzcGF0Y2hFdmVudCIsImUiLCJlcnIiLCJ2YWxpZFR5cGVzIiwiaW5jbHVkZXMiLCJzdWNjZXNzIiwiZXJyb3IiLCJ3YXJuaW5nIiwiaW5mbyIsIm1vZGFsIiwibW9kYWxJZCIsImRhdGEiLCJtb2RhbEV2ZW50IiwidyIsImhpZGUiLCJzaG93SW1hZ2UiLCJyZXN1bHQiLCJzaG93Q29uZmlybWF0aW9uIiwidGl0bGUiLCJvbkNvbmZpcm0iLCJvbkNhbmNlbCIsInVybCIsInNldFBhcmFtcyIsInBhcmFtcyIsInJlcGxhY2UiLCJVUkwiLCJsb2NhdGlvbiIsImhyZWYiLCJPYmplY3QiLCJlbnRyaWVzIiwiZm9yRWFjaCIsImtleSIsInZhbHVlIiwidW5kZWZpbmVkIiwic2VhcmNoUGFyYW1zIiwiZGVsZXRlIiwic2V0IiwibWV0aG9kIiwiaGlzdG9yeSIsInBhcnNlVmFsdWUiLCJ0ZXN0IiwiTnVtYmVyIiwibG9hZEdlbmVyYXRpb25QYXJhbXMiLCJnZXRQYXJhbXMiLCJnZW5lcmF0aW9uUGFyYW1zIiwicGFyYW1NYXBwaW5nIiwicHJvbXB0IiwibmVnYXRpdmVfcHJvbXB0Iiwid2lkdGgiLCJoZWlnaHQiLCJzdGVwcyIsImNmZ19zY2FsZSIsInNlZWQiLCJiYXRjaF9jb3VudCIsImJhdGNoX3NpemUiLCJ1cmxLZXkiLCJwYXJhbUtleSIsInNhdmVHZW5lcmF0aW9uUGFyYW1zIiwidXJsUGFyYW1zIiwic3RvcmFnZSIsImdldCIsImRlZmF1bHRWYWx1ZSIsIml0ZW0iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiSlNPTiIsInBhcnNlIiwiRGV2TG9nZ2VyIiwid2FybiIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJyZW1vdmUiLCJyZW1vdmVJdGVtIiwic2F2ZVByZXNldCIsIm5hbWUiLCJwcmVzZXRzIiwicHJlc2V0IiwiaWQiLCJ0b1N0cmluZyIsImNyZWF0ZWRfYXQiLCJ0b0lTT1N0cmluZyIsImxvYWRQcmVzZXRzIiwiZGVsZXRlUHJlc2V0IiwicHJlc2V0SWQiLCJmaWx0ZXJlZCIsImZpbHRlciIsInNhdmVQcmVmZXJlbmNlcyIsInByZWZlcmVuY2VzIiwiY3VycmVudCIsInVwZGF0ZWQiLCJsb2FkUHJlZmVyZW5jZXMiLCJ0aGVtZSIsImF1dG9SZWZyZXNoIiwibm90aWZpY2F0aW9ucyIsImRlZmF1bHRDb2x1bW5zIiwiZGVmYXVsdFZpZXdNb2RlIiwiYXV0b1NhdmVQYXJhbXMiLCJyYW5kb20iLCJnZXRQcm9tcHQiLCJwcm9tcHRzIiwiZmxvb3IiLCJsZW5ndGgiLCJkaW1lbnNpb25zIiwiZ2V0U2VlZCIsImtleWJvYXJkIiwiaW5pdCIsImNhbGxiYWNrcyIsImhhbmRsZUtleWRvd24iLCJldmVudCIsImlzQ3RybCIsImN0cmxLZXkiLCJtZXRhS2V5IiwiaXNTaGlmdCIsInNoaWZ0S2V5IiwiaXNBbHQiLCJhbHRLZXkiLCJpc0lucHV0Rm9jdXNlZCIsInRvTG93ZXJDYXNlIiwicHJldmVudERlZmF1bHQiLCJzdGFydEdlbmVyYXRpb24iLCJyZWZyZXNoUmVzdWx0cyIsImNsZWFyUXVldWUiLCJyYW5kb21Qcm9tcHQiLCJjbG9zZU1vZGFsIiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImFjdGl2ZUVsZW1lbnQiLCJ0YWdOYW1lIiwiaXNDb250ZW50RWRpdGFibGUiLCJkb3dubG9hZCIsImJsb2IiLCJmaWxlbmFtZSIsImNyZWF0ZU9iamVjdFVSTCIsImxpbmsiLCJjcmVhdGVFbGVtZW50IiwiYm9keSIsImFwcGVuZENoaWxkIiwiY2xpY2siLCJyZW1vdmVDaGlsZCIsInJldm9rZU9iamVjdFVSTCIsImpzb24iLCJqc29uU3RyaW5nIiwiQmxvYiIsImltYWdlIiwiaW1hZ2VVcmwiLCJyZXNwb25zZSIsImZldGNoIiwib2siLCJFcnJvciIsImNsaXBib2FyZCIsImNvcHlUZXh0IiwidGV4dCIsImRvYyIsImdsb2JhbFRoaXMiLCJnZXRDbGlwYm9hcmRXcml0ZSIsImciLCJGdW5jdGlvbiIsInByb2Nlc3MiLCJlbnYiLCJKRVNUX1dPUktFUl9JRCIsImNvbnNvbGUiLCJuYXZpZ2F0b3IiLCJ3cml0ZVRleHQiLCJyZWNlaXZlciIsImNiIiwiY2FsbCIsImZhbGxiYWNrQ29weVRleHQiLCJjb3B5UGFyYW1zIiwicGFyYW1zVGV4dCIsIm1hcCIsImpvaW4iLCJ2YWxpZGF0aW9uIiwidmFsaWRhdGVQcm9tcHQiLCJlcnJvcnMiLCJ0cmltIiwiaXNWYWxpZCIsInZhbGlkYXRlRW1haWwiLCJlbWFpbCIsImVtYWlsUmVnZXgiLCJ2YWxpZGF0ZVVybCIsImFuaW1hdGlvbiIsInNjcm9sbFRvIiwiZWxlbWVudCIsIm9mZnNldCIsInRhcmdldFBvc2l0aW9uIiwib2Zmc2V0VG9wIiwidG9wIiwiYmVoYXZpb3IiLCJmYWRlSW4iLCJzdHlsZSIsIm9wYWNpdHkiLCJ0cmFuc2l0aW9uIiwic2V0VGltZW91dCIsImZhZGVPdXQiLCJkaXNwbGF5IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbInVpLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR2VuZXJhdGlvbiBTdHVkaW8gLSBVSSBVdGlsaXRpZXMgTW9kdWxlXG4gKiBcbiAqIEhhbmRsZXMgVUkgdXRpbGl0aWVzLCBub3RpZmljYXRpb25zLCBmb3JtYXR0aW5nLCBhbmQgdXNlciBpbnRlcmFjdGlvbiBoZWxwZXJzLlxuICovXG5cblxuLyoqXG4gKiBVSSB1dGlsaXRpZXMgZm9yIGdlbmVyYXRpb24gc3R1ZGlvXG4gKi9cbi8vIE5vIGdsb2JhbCBjbGlwYm9hcmQgc2hpbXMgaGVyZTogYWxsb3cgdGVzdCBydW5uZXIgdG8gc2V0IGBnbG9iYWwubmF2aWdhdG9yLmNsaXBib2FyZGAuXG5cbi8vIE5vIHRvcC1sZXZlbCBjbGlwYm9hcmQgc2hpbXMgaGVyZTogZG8gbm90IGNvcHkgb3IgbXV0YXRlIHRlc3QgZ2xvYmFscy5cblxuY29uc3QgZ2VuZXJhdGlvblVJID0ge1xuICAgIC8qKlxuICAgICAqIFRvYXN0IG5vdGlmaWNhdGlvbiBtYW5hZ2VtZW50XG4gICAgICovXG4gICAgdG9hc3Q6IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNob3dzIGEgdG9hc3Qgbm90aWZpY2F0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBzaG93KG1lc3NhZ2UsIHR5cGUgPSAnc3VjY2VzcycsIGR1cmF0aW9uID0gMzAwMCkge1xuICAgICAgICAgICAgaWYgKCFtZXNzYWdlKSByZXR1cm47XG5cbiAgICAgICAgICAgIGNvbnN0IHZhbGlkYXRlZFR5cGUgPSB0aGlzLnZhbGlkYXRlVG9hc3RUeXBlKHR5cGUpO1xuICAgICAgICAgICAgY29uc3QgZGV0YWlsID0ge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFN0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgICAgICAgICB0eXBlOiB2YWxpZGF0ZWRUeXBlLFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBNYXRoLm1heCgxMDAwLCBkdXJhdGlvbiksXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBDcmVhdGUgYW5kIGRpc3BhdGNoIGV2ZW50IGRlZmVuc2l2ZWx5IGZvciB0ZXN0L25vZGUgZW52aXJvbm1lbnRzXG4gICAgICAgICAgICAvLyBIZWxwZXIgdG8gY3JlYXRlIGEgamVzdC1saWtlIG1vY2sgd3JhcHBlciBhcm91bmQgYW4gZXhpc3RpbmcgZm4uXG4gICAgICAgICAgICAvLyBUaGlzIHByb3ZpZGVzIC5tb2NrIGFuZCAubW9ja0NsZWFyIHNvIEplc3QncyBydW50aW1lIGNhbiBtYW5hZ2UgaXQuXG4gICAgICAgICAgICBjb25zdCBtYWtlTW9ja0xpa2UgPSAob3JpZykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsID0gdHlwZW9mIG9yaWcgPT09ICdmdW5jdGlvbicgPyBvcmlnIDogZnVuY3Rpb24oKXt9O1xuICAgICAgICAgICAgICAgIGNvbnN0IHdyYXBwZXIgPSBmdW5jdGlvbiguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgICAgIHdyYXBwZXIubW9jay5jYWxscy5wdXNoKGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICB3cmFwcGVyLm1vY2suaW5zdGFuY2VzLnB1c2godGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygd3JhcHBlci5pbXBsID09PSAnZnVuY3Rpb24nKSByZXR1cm4gd3JhcHBlci5pbXBsLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3JpZ2luYWwuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB3cmFwcGVyLl9pc01vY2tGdW5jdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgd3JhcHBlci5tb2NrID0geyBjYWxsczogW10sIGluc3RhbmNlczogW10gfTtcbiAgICAgICAgICAgICAgICB3cmFwcGVyLm1vY2tDbGVhciA9ICgpID0+IHsgd3JhcHBlci5tb2NrLmNhbGxzID0gW107IHdyYXBwZXIubW9jay5pbnN0YW5jZXMgPSBbXTsgfTtcbiAgICAgICAgICAgICAgICB3cmFwcGVyLm1vY2tSZXNldCA9IHdyYXBwZXIubW9ja0NsZWFyO1xuICAgICAgICAgICAgICAgIHdyYXBwZXIubW9ja0ltcGxlbWVudGF0aW9uID0gKGZuKSA9PiB7IHdyYXBwZXIuaW1wbCA9IGZuOyB9O1xuICAgICAgICAgICAgICAgIHdyYXBwZXIuZ2V0TW9ja05hbWUgPSAoKSA9PiAnbW9ja0Z1bmN0aW9uJztcbiAgICAgICAgICAgICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9hc3RFdmVudCA9ICh0eXBlb2YgQ3VzdG9tRXZlbnQgIT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgICAgICA/IG5ldyBDdXN0b21FdmVudCgndG9hc3Qtc2hvdycsIHsgZGV0YWlsIH0pXG4gICAgICAgICAgICAgICAgICAgIDogeyB0eXBlOiAndG9hc3Qtc2hvdycsIGRldGFpbCB9O1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuZGlzcGF0Y2hFdmVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiBkaXNwYXRjaEV2ZW50IGlzIHByZXNlbnQgYnV0IG5vdCBhIGplc3QgbW9jaywgd3JhcCBpdCBzb1xuICAgICAgICAgICAgICAgICAgICAvLyB0b0hhdmVCZWVuQ2FsbGVkKCkgd29ya3MgaW4gdGVzdHMgd2hpY2ggZXhwZWN0IGEgbW9jay5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCF3aW5kb3cuZGlzcGF0Y2hFdmVudC5faXNNb2NrRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50ID0gbWFrZU1vY2tMaWtlKHdpbmRvdy5kaXNwYXRjaEV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudCh0b2FzdEV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuZGlzcGF0Y2hFdmVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF3aW5kb3cuZGlzcGF0Y2hFdmVudC5faXNNb2NrRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudCA9IG1ha2VNb2NrTGlrZSh3aW5kb3cuZGlzcGF0Y2hFdmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudCh7IHR5cGU6ICd0b2FzdC1zaG93JywgZGV0YWlsIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHN3YWxsb3dcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgICAgICB0eXBlOiB2YWxpZGF0ZWRUeXBlLFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBNYXRoLm1heCgxMDAwLCBkdXJhdGlvbilcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogVmFsaWRhdGVzIHRvYXN0IHR5cGVcbiAgICAgICAgICovXG4gICAgICAgIHZhbGlkYXRlVG9hc3RUeXBlKHR5cGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbGlkVHlwZXMgPSBbJ3N1Y2Nlc3MnLCAnZXJyb3InLCAnd2FybmluZycsICdpbmZvJ107XG4gICAgICAgICAgICByZXR1cm4gdmFsaWRUeXBlcy5pbmNsdWRlcyh0eXBlKSA/IHR5cGUgOiAnaW5mbyc7XG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogU2hvd3Mgc3VjY2VzcyB0b2FzdFxuICAgICAgICAgKi9cbiAgICAgICAgc3VjY2VzcyhtZXNzYWdlLCBkdXJhdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2hvdyhtZXNzYWdlLCAnc3VjY2VzcycsIGR1cmF0aW9uKTtcbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaG93cyBlcnJvciB0b2FzdFxuICAgICAgICAgKi9cbiAgICAgICAgZXJyb3IobWVzc2FnZSwgZHVyYXRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNob3cobWVzc2FnZSwgJ2Vycm9yJywgZHVyYXRpb24pO1xuICAgICAgICB9LFxuICAgICAgICBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNob3dzIHdhcm5pbmcgdG9hc3RcbiAgICAgICAgICovXG4gICAgICAgIHdhcm5pbmcobWVzc2FnZSwgZHVyYXRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNob3cobWVzc2FnZSwgJ3dhcm5pbmcnLCBkdXJhdGlvbik7XG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogU2hvd3MgaW5mbyB0b2FzdFxuICAgICAgICAgKi9cbiAgICAgICAgaW5mbyhtZXNzYWdlLCBkdXJhdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2hvdyhtZXNzYWdlLCAnaW5mbycsIGR1cmF0aW9uKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXG4gICAgLyoqXG4gICAgICogTW9kYWwgbWFuYWdlbWVudFxuICAgICAqL1xuICAgIG1vZGFsOiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaG93cyBhIG1vZGFsXG4gICAgICAgICAqL1xuICAgICAgICBzaG93KG1vZGFsSWQsIGRhdGEgPSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBkZXRhaWwgPSB7IG1vZGFsSWQsIGRhdGEsIHRpbWVzdGFtcDogRGF0ZS5ub3coKSB9O1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vZGFsRXZlbnQgPSAodHlwZW9mIEN1c3RvbUV2ZW50ICE9PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICAgICAgPyBuZXcgQ3VzdG9tRXZlbnQoJ21vZGFsLXNob3cnLCB7IGRldGFpbCB9KVxuICAgICAgICAgICAgICAgICAgICA6IHsgdHlwZTogJ21vZGFsLXNob3cnLCBkZXRhaWwgfTtcblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93LmRpc3BhdGNoRXZlbnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF3aW5kb3cuZGlzcGF0Y2hFdmVudC5faXNNb2NrRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgd3JhcCBpZiBub3QgYWxyZWFkeSBhIEplc3QgbW9jazsgcHJlc2VydmUgZXhpc3RpbmcgbW9jayBmdW5jdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghd2luZG93LmRpc3BhdGNoRXZlbnQuZ2V0TW9ja05hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudCA9IChmdW5jdGlvbihvcmlnKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdyA9IGZ1bmN0aW9uKC4uLmFyZ3MpeyB3Lm1vY2suY2FsbHMucHVzaChhcmdzKTsgdy5tb2NrLmluc3RhbmNlcy5wdXNoKHRoaXMpOyByZXR1cm4gb3JpZy5hcHBseSh0aGlzLGFyZ3MpOyB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3Ll9pc01vY2tGdW5jdGlvbiA9IHRydWU7IHcubW9jayA9IHsgY2FsbHM6IFtdLCBpbnN0YW5jZXM6IFtdIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHcubW9ja0NsZWFyID0gKCkgPT4geyB3Lm1vY2suY2FsbHMgPSBbXTsgdy5tb2NrLmluc3RhbmNlcyA9IFtdOyB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3LmdldE1vY2tOYW1lID0gKCkgPT4gJ2Rpc3BhdGNoRXZlbnRNb2NrJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkod2luZG93LmRpc3BhdGNoRXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG1vZGFsRXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5kaXNwYXRjaEV2ZW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXdpbmRvdy5kaXNwYXRjaEV2ZW50Ll9pc01vY2tGdW5jdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghd2luZG93LmRpc3BhdGNoRXZlbnQuZ2V0TW9ja05hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQgPSAoZnVuY3Rpb24ob3JpZyl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB3ID0gZnVuY3Rpb24oLi4uYXJncyl7IHcubW9jay5jYWxscy5wdXNoKGFyZ3MpOyB3Lm1vY2suaW5zdGFuY2VzLnB1c2godGhpcyk7IHJldHVybiBvcmlnLmFwcGx5KHRoaXMsYXJncyk7IH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3Ll9pc01vY2tGdW5jdGlvbiA9IHRydWU7IHcubW9jayA9IHsgY2FsbHM6IFtdLCBpbnN0YW5jZXM6IFtdIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3Lm1vY2tDbGVhciA9ICgpID0+IHsgdy5tb2NrLmNhbGxzID0gW107IHcubW9jay5pbnN0YW5jZXMgPSBbXTsgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHcuZ2V0TW9ja05hbWUgPSAoKSA9PiAnZGlzcGF0Y2hFdmVudE1vY2snO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKHdpbmRvdy5kaXNwYXRjaEV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudCh7IHR5cGU6ICdtb2RhbC1zaG93JywgZGV0YWlsIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHN3YWxsb3dcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhpZGVzIGEgbW9kYWxcbiAgICAgICAgICovXG4gICAgICAgIGhpZGUobW9kYWxJZCkge1xuICAgICAgICAgICAgY29uc3QgZGV0YWlsID0geyBtb2RhbElkLCB0aW1lc3RhbXA6IERhdGUubm93KCkgfTtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBtb2RhbEV2ZW50ID0gKHR5cGVvZiBDdXN0b21FdmVudCAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgID8gbmV3IEN1c3RvbUV2ZW50KCdtb2RhbC1oaWRlJywgeyBkZXRhaWwgfSlcbiAgICAgICAgICAgICAgICAgICAgOiB7IHR5cGU6ICdtb2RhbC1oaWRlJywgZGV0YWlsIH07XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5kaXNwYXRjaEV2ZW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghd2luZG93LmRpc3BhdGNoRXZlbnQuX2lzTW9ja0Z1bmN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudCA9IChmdW5jdGlvbihvcmlnKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB3ID0gZnVuY3Rpb24oLi4uYXJncyl7IHcubW9jay5jYWxscy5wdXNoKGFyZ3MpOyB3Lm1vY2suaW5zdGFuY2VzLnB1c2godGhpcyk7IHJldHVybiBvcmlnLmFwcGx5KHRoaXMsYXJncyk7IH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdy5faXNNb2NrRnVuY3Rpb24gPSB0cnVlOyB3Lm1vY2sgPSB7IGNhbGxzOiBbXSwgaW5zdGFuY2VzOiBbXSB9OyByZXR1cm4gdztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKHdpbmRvdy5kaXNwYXRjaEV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChtb2RhbEV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuZGlzcGF0Y2hFdmVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF3aW5kb3cuZGlzcGF0Y2hFdmVudC5faXNNb2NrRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXdpbmRvdy5kaXNwYXRjaEV2ZW50LmdldE1vY2tOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50ID0gKGZ1bmN0aW9uKG9yaWcpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdyA9IGZ1bmN0aW9uKC4uLmFyZ3MpeyB3Lm1vY2suY2FsbHMucHVzaChhcmdzKTsgdy5tb2NrLmluc3RhbmNlcy5wdXNoKHRoaXMpOyByZXR1cm4gb3JpZy5hcHBseSh0aGlzLGFyZ3MpOyB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdy5faXNNb2NrRnVuY3Rpb24gPSB0cnVlOyB3Lm1vY2sgPSB7IGNhbGxzOiBbXSwgaW5zdGFuY2VzOiBbXSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdy5tb2NrQ2xlYXIgPSAoKSA9PiB7IHcubW9jay5jYWxscyA9IFtdOyB3Lm1vY2suaW5zdGFuY2VzID0gW107IH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3LmdldE1vY2tOYW1lID0gKCkgPT4gJ2Rpc3BhdGNoRXZlbnRNb2NrJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSh3aW5kb3cuZGlzcGF0Y2hFdmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQoeyB0eXBlOiAnbW9kYWwtaGlkZScsIGRldGFpbCB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAvLyBzd2FsbG93XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaG93cyBpbWFnZSBtb2RhbCB3aXRoIHJlc3VsdCBkYXRhXG4gICAgICAgICAqL1xuICAgICAgICBzaG93SW1hZ2UocmVzdWx0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zaG93KCdpbWFnZS1tb2RhbCcsIHJlc3VsdCk7XG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogU2hvd3MgY29uZmlybWF0aW9uIG1vZGFsXG4gICAgICAgICAqL1xuICAgICAgICBzaG93Q29uZmlybWF0aW9uKHRpdGxlLCBtZXNzYWdlLCBvbkNvbmZpcm0sIG9uQ2FuY2VsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zaG93KCdjb25maXJtYXRpb24tbW9kYWwnLCB7XG4gICAgICAgICAgICAgICAgdGl0bGUsXG4gICAgICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgICAgICBvbkNvbmZpcm0sXG4gICAgICAgICAgICAgICAgb25DYW5jZWxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICB1cmw6IHtcbiAgICAgICAgXG4gICAgICAgIHNldFBhcmFtcyhwYXJhbXMsIHJlcGxhY2UgPSBmYWxzZSkge1xuICAgICAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG4gICAgICAgICAgICBPYmplY3QuZW50cmllcyhwYXJhbXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSAnJykge1xuICAgICAgICAgICAgICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLmRlbGV0ZShrZXkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KGtleSwgU3RyaW5nKHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IG1ldGhvZCA9IHJlcGxhY2UgPyAncmVwbGFjZVN0YXRlJyA6ICdwdXNoU3RhdGUnO1xuICAgICAgICAgICAgd2luZG93Lmhpc3RvcnlbbWV0aG9kXSh7fSwgJycsIHVybCk7XG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogUGFyc2VzIFVSTCBwYXJhbWV0ZXIgdmFsdWVcbiAgICAgICAgICovXG4gICAgICAgIHBhcnNlVmFsdWUodmFsdWUpIHtcbiAgICAgICAgICAgIC8vIFRyeSB0byBwYXJzZSBhcyBudW1iZXJcbiAgICAgICAgICAgIGlmICgvXi0/XFxkKyhcXC5cXGQrKT8kLy50ZXN0KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBUcnkgdG8gcGFyc2UgYXMgYm9vbGVhblxuICAgICAgICAgICAgaWYgKHZhbHVlID09PSAndHJ1ZScpIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSAnZmFsc2UnKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFJldHVybiBhcyBzdHJpbmdcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMb2FkcyBnZW5lcmF0aW9uIHBhcmFtZXRlcnMgZnJvbSBVUkxcbiAgICAgICAgICovXG4gICAgICAgIGxvYWRHZW5lcmF0aW9uUGFyYW1zKCkge1xuICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gdGhpcy5nZXRQYXJhbXMoKTtcbiAgICAgICAgICAgIGNvbnN0IGdlbmVyYXRpb25QYXJhbXMgPSB7fTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgcGFyYW1NYXBwaW5nID0ge1xuICAgICAgICAgICAgICAgIHByb21wdDogJ3Byb21wdCcsXG4gICAgICAgICAgICAgICAgbmVnYXRpdmVfcHJvbXB0OiAnbmVnYXRpdmVfcHJvbXB0JyxcbiAgICAgICAgICAgICAgICB3aWR0aDogJ3dpZHRoJyxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6ICdoZWlnaHQnLFxuICAgICAgICAgICAgICAgIHN0ZXBzOiAnc3RlcHMnLFxuICAgICAgICAgICAgICAgIGNmZ19zY2FsZTogJ2NmZ19zY2FsZScsXG4gICAgICAgICAgICAgICAgc2VlZDogJ3NlZWQnLFxuICAgICAgICAgICAgICAgIGJhdGNoX2NvdW50OiAnYmF0Y2hfY291bnQnLFxuICAgICAgICAgICAgICAgIGJhdGNoX3NpemU6ICdiYXRjaF9zaXplJ1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMocGFyYW1NYXBwaW5nKS5mb3JFYWNoKChbdXJsS2V5LCBwYXJhbUtleV0pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocGFyYW1zW3VybEtleV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBnZW5lcmF0aW9uUGFyYW1zW3BhcmFtS2V5XSA9IHBhcmFtc1t1cmxLZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGlvblBhcmFtcztcbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTYXZlcyBnZW5lcmF0aW9uIHBhcmFtZXRlcnMgdG8gVVJMXG4gICAgICAgICAqL1xuICAgICAgICBzYXZlR2VuZXJhdGlvblBhcmFtcyhwYXJhbXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHVybFBhcmFtcyA9IHt9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAocGFyYW1zLnByb21wdCkgdXJsUGFyYW1zLnByb21wdCA9IHBhcmFtcy5wcm9tcHQ7XG4gICAgICAgICAgICBpZiAocGFyYW1zLm5lZ2F0aXZlX3Byb21wdCkgdXJsUGFyYW1zLm5lZ2F0aXZlX3Byb21wdCA9IHBhcmFtcy5uZWdhdGl2ZV9wcm9tcHQ7XG4gICAgICAgICAgICBpZiAocGFyYW1zLndpZHRoICE9PSA1MTIpIHVybFBhcmFtcy53aWR0aCA9IHBhcmFtcy53aWR0aDtcbiAgICAgICAgICAgIGlmIChwYXJhbXMuaGVpZ2h0ICE9PSA1MTIpIHVybFBhcmFtcy5oZWlnaHQgPSBwYXJhbXMuaGVpZ2h0O1xuICAgICAgICAgICAgaWYgKHBhcmFtcy5zdGVwcyAhPT0gMjApIHVybFBhcmFtcy5zdGVwcyA9IHBhcmFtcy5zdGVwcztcbiAgICAgICAgICAgIGlmIChwYXJhbXMuY2ZnX3NjYWxlICE9PSA3LjApIHVybFBhcmFtcy5jZmdfc2NhbGUgPSBwYXJhbXMuY2ZnX3NjYWxlO1xuICAgICAgICAgICAgaWYgKHBhcmFtcy5zZWVkICE9PSAtMSkgdXJsUGFyYW1zLnNlZWQgPSBwYXJhbXMuc2VlZDtcbiAgICAgICAgICAgIGlmIChwYXJhbXMuYmF0Y2hfY291bnQgIT09IDEpIHVybFBhcmFtcy5iYXRjaF9jb3VudCA9IHBhcmFtcy5iYXRjaF9jb3VudDtcbiAgICAgICAgICAgIGlmIChwYXJhbXMuYmF0Y2hfc2l6ZSAhPT0gMSkgdXJsUGFyYW1zLmJhdGNoX3NpemUgPSBwYXJhbXMuYmF0Y2hfc2l6ZTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy5zZXRQYXJhbXModXJsUGFyYW1zLCB0cnVlKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXG4gICAgLyoqXG4gICAgICogTG9jYWwgc3RvcmFnZSB1dGlsaXRpZXNcbiAgICAgKi9cbiAgICBzdG9yYWdlOiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIGl0ZW0gZnJvbSBsb2NhbFN0b3JhZ2Ugd2l0aCBmYWxsYmFja1xuICAgICAgICAgKi9cbiAgICAgICAgZ2V0KGtleSwgZGVmYXVsdFZhbHVlID0gbnVsbCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbSAhPT0gbnVsbCA/IEpTT04ucGFyc2UoaXRlbSkgOiBkZWZhdWx0VmFsdWU7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuRGV2TG9nZ2VyICYmIHdpbmRvdy5EZXZMb2dnZXIud2Fybikgd2luZG93LkRldkxvZ2dlci53YXJuKCdGYWlsZWQgdG8gZ2V0IGZyb20gbG9jYWxTdG9yYWdlOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgaXRlbSBpbiBsb2NhbFN0b3JhZ2VcbiAgICAgICAgICovXG4gICAgICAgIHNldChrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgSlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5EZXZMb2dnZXIgJiYgd2luZG93LkRldkxvZ2dlci53YXJuKSB3aW5kb3cuRGV2TG9nZ2VyLndhcm4oJ0ZhaWxlZCB0byBzZXQgbG9jYWxTdG9yYWdlOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogUmVtb3ZlcyBpdGVtIGZyb20gbG9jYWxTdG9yYWdlXG4gICAgICAgICAqL1xuICAgICAgICByZW1vdmUoa2V5KSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuRGV2TG9nZ2VyICYmIHdpbmRvdy5EZXZMb2dnZXIud2Fybikgd2luZG93LkRldkxvZ2dlci53YXJuKCdGYWlsZWQgdG8gcmVtb3ZlIGZyb20gbG9jYWxTdG9yYWdlOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogU2F2ZXMgZ2VuZXJhdGlvbiBwcmVzZXRcbiAgICAgICAgICovXG4gICAgICAgIHNhdmVQcmVzZXQobmFtZSwgcGFyYW1zKSB7XG4gICAgICAgICAgICBjb25zdCBwcmVzZXRzID0gdGhpcy5nZXQoJ2dlbmVyYXRpb25QcmVzZXRzJywgW10pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBwcmVzZXQgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IERhdGUubm93KCkudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgIHBhcmFtczogeyAuLi5wYXJhbXMgfSxcbiAgICAgICAgICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHByZXNldHMucHVzaChwcmVzZXQpO1xuICAgICAgICAgICAgdGhpcy5zZXQoJ2dlbmVyYXRpb25QcmVzZXRzJywgcHJlc2V0cyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiBwcmVzZXQ7XG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogTG9hZHMgZ2VuZXJhdGlvbiBwcmVzZXRzXG4gICAgICAgICAqL1xuICAgICAgICBsb2FkUHJlc2V0cygpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldCgnZ2VuZXJhdGlvblByZXNldHMnLCBbXSk7XG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogRGVsZXRlcyBnZW5lcmF0aW9uIHByZXNldFxuICAgICAgICAgKi9cbiAgICAgICAgZGVsZXRlUHJlc2V0KHByZXNldElkKSB7XG4gICAgICAgICAgICBjb25zdCBwcmVzZXRzID0gdGhpcy5nZXQoJ2dlbmVyYXRpb25QcmVzZXRzJywgW10pO1xuICAgICAgICAgICAgY29uc3QgZmlsdGVyZWQgPSBwcmVzZXRzLmZpbHRlcihwcmVzZXQgPT4gcHJlc2V0LmlkICE9PSBwcmVzZXRJZCk7XG4gICAgICAgICAgICB0aGlzLnNldCgnZ2VuZXJhdGlvblByZXNldHMnLCBmaWx0ZXJlZCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiBmaWx0ZXJlZDtcbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTYXZlcyB1c2VyIHByZWZlcmVuY2VzXG4gICAgICAgICAqL1xuICAgICAgICBzYXZlUHJlZmVyZW5jZXMocHJlZmVyZW5jZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSB0aGlzLmdldCgndXNlclByZWZlcmVuY2VzJywge30pO1xuICAgICAgICAgICAgY29uc3QgdXBkYXRlZCA9IHsgLi4uY3VycmVudCwgLi4ucHJlZmVyZW5jZXMgfTtcbiAgICAgICAgICAgIHRoaXMuc2V0KCd1c2VyUHJlZmVyZW5jZXMnLCB1cGRhdGVkKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogTG9hZHMgdXNlciBwcmVmZXJlbmNlc1xuICAgICAgICAgKi9cbiAgICAgICAgbG9hZFByZWZlcmVuY2VzKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCd1c2VyUHJlZmVyZW5jZXMnLCB7XG4gICAgICAgICAgICAgICAgdGhlbWU6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICBhdXRvUmVmcmVzaDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBub3RpZmljYXRpb25zOiB0cnVlLFxuICAgICAgICAgICAgICAgIGRlZmF1bHRDb2x1bW5zOiAzLFxuICAgICAgICAgICAgICAgIGRlZmF1bHRWaWV3TW9kZTogJ2dyaWQnLFxuICAgICAgICAgICAgICAgIGF1dG9TYXZlUGFyYW1zOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXG4gICAgLyoqXG4gICAgICogUmFuZG9tIGdlbmVyYXRpb24gdXRpbGl0aWVzXG4gICAgICovXG4gICAgcmFuZG9tOiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIGEgcmFuZG9tIHByb21wdFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0UHJvbXB0KCkge1xuICAgICAgICAgICAgY29uc3QgcHJvbXB0cyA9IFtcbiAgICAgICAgICAgICAgICAnYSBiZWF1dGlmdWwgYW5pbWUgZ2lybCB3aXRoIGxvbmcgZmxvd2luZyBoYWlyJyxcbiAgICAgICAgICAgICAgICAnYSBtYWplc3RpYyBkcmFnb24gc29hcmluZyB0aHJvdWdoIGNsb3VkeSBza2llcycsXG4gICAgICAgICAgICAgICAgJ2EgY3liZXJwdW5rIGNpdHlzY2FwZSB3aXRoIG5lb24gbGlnaHRzJyxcbiAgICAgICAgICAgICAgICAnYSBzZXJlbmUgbGFuZHNjYXBlIHdpdGggbW91bnRhaW5zIGFuZCBhIGxha2UnLFxuICAgICAgICAgICAgICAgICdhIGN1dGUgcm9ib3QgaW4gYSBmdXR1cmlzdGljIGxhYm9yYXRvcnknLFxuICAgICAgICAgICAgICAgICdhIG1hZ2ljYWwgZm9yZXN0IHdpdGggZ2xvd2luZyBtdXNocm9vbXMnLFxuICAgICAgICAgICAgICAgICdhIHNwYWNlIHN0YXRpb24gb3JiaXRpbmcgYSBkaXN0YW50IHBsYW5ldCcsXG4gICAgICAgICAgICAgICAgJ2Egc3RlYW1wdW5rIGFpcnNoaXAgZmx5aW5nIG92ZXIgVmljdG9yaWFuIGNpdHknLFxuICAgICAgICAgICAgICAgICdhIGNvenkgY2FmZSB3aXRoIHdhcm0gbGlnaHRpbmcgYW5kIGJvb2tzJyxcbiAgICAgICAgICAgICAgICAnYSBjcnlzdGFsIGNhdmUgd2l0aCBzcGFya2xpbmcgZ2Vtc3RvbmVzJyxcbiAgICAgICAgICAgICAgICAnYSBmbG9hdGluZyBpc2xhbmQgaW4gdGhlIGNsb3VkcycsXG4gICAgICAgICAgICAgICAgJ2EgbWVkaWV2YWwgY2FzdGxlIG9uIGEgaGlsbHRvcCcsXG4gICAgICAgICAgICAgICAgJ2EgdW5kZXJ3YXRlciBjaXR5IHdpdGggY29yYWwgYXJjaGl0ZWN0dXJlJyxcbiAgICAgICAgICAgICAgICAnYSBkZXNlcnQgb2FzaXMgd2l0aCBwYWxtIHRyZWVzJyxcbiAgICAgICAgICAgICAgICAnYSB3aW50ZXIgd29uZGVybGFuZCB3aXRoIHNub3ctY292ZXJlZCB0cmVlcydcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiBwcm9tcHRzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHByb21wdHMubGVuZ3RoKV07XG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogR2V0cyByYW5kb20gZ2VuZXJhdGlvbiBwYXJhbWV0ZXJzXG4gICAgICAgICAqL1xuICAgICAgICBnZXRQYXJhbXMoKSB7XG4gICAgICAgICAgICBjb25zdCBkaW1lbnNpb25zID0gW1xuICAgICAgICAgICAgICAgIFs1MTIsIDUxMl0sIFs3NjgsIDc2OF0sIFs1MTIsIDc2OF0sIFs3NjgsIDUxMl0sXG4gICAgICAgICAgICAgICAgWzEwMjQsIDEwMjRdLCBbNTEyLCAxMDI0XSwgWzEwMjQsIDUxMl1cbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IFt3aWR0aCwgaGVpZ2h0XSA9IGRpbWVuc2lvbnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogZGltZW5zaW9ucy5sZW5ndGgpXTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgICAgICAgc3RlcHM6IDE1ICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMzUpLCAvLyAxNS01MFxuICAgICAgICAgICAgICAgIGNmZ19zY2FsZTogNSArIE1hdGgucmFuZG9tKCkgKiAxMCwgLy8gNS0xNVxuICAgICAgICAgICAgICAgIHNlZWQ6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwMDApXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgcmFuZG9tIHNlZWRcbiAgICAgICAgICovXG4gICAgICAgIGdldFNlZWQoKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjE0NzQ4MzY0Nyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIFxuICAgIC8qKlxuICAgICAqIEtleWJvYXJkIHNob3J0Y3V0c1xuICAgICAqL1xuICAgIGtleWJvYXJkOiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbml0aWFsaXplcyBrZXlib2FyZCBzaG9ydGN1dHNcbiAgICAgICAgICovXG4gICAgICAgIGluaXQoY2FsbGJhY2tzID0ge30pIHtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZUtleWRvd24gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgbW9kaWZpZXIga2V5c1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzQ3RybCA9IGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleTtcbiAgICAgICAgICAgICAgICBjb25zdCBpc1NoaWZ0ID0gZXZlbnQuc2hpZnRLZXk7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNBbHQgPSBldmVudC5hbHRLZXk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gUHJldmVudCBzaG9ydGN1dHMgd2hlbiB0eXBpbmcgaW4gaW5wdXQgZmllbGRzXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNJbnB1dEZvY3VzZWQoKSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGV2ZW50LmtleS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIEN0cmwvQ21kIHNob3J0Y3V0c1xuICAgICAgICAgICAgICAgIGlmIChpc0N0cmwgJiYgIWlzU2hpZnQgJiYgIWlzQWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdlbnRlcic6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2tzLnN0YXJ0R2VuZXJhdGlvbikgY2FsbGJhY2tzLnN0YXJ0R2VuZXJhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAncic6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2tzLnJlZnJlc2hSZXN1bHRzKSBjYWxsYmFja3MucmVmcmVzaFJlc3VsdHMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3MnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrcy5zYXZlUHJlc2V0KSBjYWxsYmFja3Muc2F2ZVByZXNldCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIEFsdCBzaG9ydGN1dHNcbiAgICAgICAgICAgICAgICBpZiAoaXNBbHQgJiYgIWlzQ3RybCAmJiAhaXNTaGlmdCkge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAncSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2tzLmNsZWFyUXVldWUpIGNhbGxiYWNrcy5jbGVhclF1ZXVlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdwJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFja3MucmFuZG9tUHJvbXB0KSBjYWxsYmFja3MucmFuZG9tUHJvbXB0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gU2ltcGxlIGtleSBzaG9ydGN1dHNcbiAgICAgICAgICAgICAgICBpZiAoIWlzQ3RybCAmJiAhaXNTaGlmdCAmJiAhaXNBbHQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2VzY2FwZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrcy5jbG9zZU1vZGFsKSBjYWxsYmFja3MuY2xvc2VNb2RhbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZjUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrcy5yZWZyZXNoUmVzdWx0cykgY2FsbGJhY2tzLnJlZnJlc2hSZXN1bHRzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5ZG93bik7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleWRvd24pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDaGVja3MgaWYgYW4gaW5wdXQgZmllbGQgaXMgZm9jdXNlZFxuICAgICAgICAgKi9cbiAgICAgICAgaXNJbnB1dEZvY3VzZWQoKSB7XG4gICAgICAgICAgICBjb25zdCBhY3RpdmVFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICAgICAgICAgIHJldHVybiBhY3RpdmVFbGVtZW50ICYmIChcbiAgICAgICAgICAgICAgICBhY3RpdmVFbGVtZW50LnRhZ05hbWUgPT09ICdJTlBVVCcgfHxcbiAgICAgICAgICAgICAgICBhY3RpdmVFbGVtZW50LnRhZ05hbWUgPT09ICdURVhUQVJFQScgfHxcbiAgICAgICAgICAgICAgICBhY3RpdmVFbGVtZW50LmlzQ29udGVudEVkaXRhYmxlXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBcbiAgICAvKipcbiAgICAgKiBEb3dubG9hZCB1dGlsaXRpZXNcbiAgICAgKi9cbiAgICBkb3dubG9hZDoge1xuICAgICAgICAvKipcbiAgICAgICAgICogRG93bmxvYWRzIGEgYmxvYiBhcyBhIGZpbGVcbiAgICAgICAgICovXG4gICAgICAgIGJsb2IoYmxvYiwgZmlsZW5hbWUpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICAgICAgICAgIGxpbmsuaHJlZiA9IHVybDtcbiAgICAgICAgICAgICAgICBsaW5rLmRvd25sb2FkID0gZmlsZW5hbWU7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTtcbiAgICAgICAgICAgICAgICBsaW5rLmNsaWNrKCk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChsaW5rKTtcbiAgICAgICAgICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuRGV2TG9nZ2VyICYmIHdpbmRvdy5EZXZMb2dnZXIuZXJyb3IpIHdpbmRvdy5EZXZMb2dnZXIuZXJyb3IoJ0ZhaWxlZCB0byBkb3dubG9hZCBibG9iOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogRG93bmxvYWRzIGRhdGEgYXMgSlNPTiBmaWxlXG4gICAgICAgICAqL1xuICAgICAgICBqc29uKGRhdGEsIGZpbGVuYW1lKSB7XG4gICAgICAgICAgICBjb25zdCBqc29uU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkoZGF0YSwgbnVsbCwgMik7XG4gICAgICAgICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2pzb25TdHJpbmddLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyB9KTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJsb2IoYmxvYiwgZmlsZW5hbWUpO1xuICAgICAgICB9LFxuICAgICAgICBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERvd25sb2FkcyBpbWFnZSBmcm9tIFVSTFxuICAgICAgICAgKi9cbiAgICAgICAgYXN5bmMgaW1hZ2UoaW1hZ2VVcmwsIGZpbGVuYW1lKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goaW1hZ2VVcmwpO1xuICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGZldGNoIGltYWdlJyk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IHJlc3BvbnNlLmJsb2IoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ibG9iKGJsb2IsIGZpbGVuYW1lKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5EZXZMb2dnZXIgJiYgd2luZG93LkRldkxvZ2dlci5lcnJvcikgd2luZG93LkRldkxvZ2dlci5lcnJvcignRmFpbGVkIHRvIGRvd25sb2FkIGltYWdlOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIFxuICAgIC8qKlxuICAgICAqIENsaXBib2FyZCB1dGlsaXRpZXNcbiAgICAgKi9cbiAgICBjbGlwYm9hcmQ6IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvcGllcyB0ZXh0IHRvIGNsaXBib2FyZFxuICAgICAgICAgKi9cbiAgICAgICAgYXN5bmMgY29weVRleHQodGV4dCkge1xuICAgICAgICAgICAgY29uc3QgZG9jID0gKHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyAmJiBnbG9iYWxUaGlzLmRvY3VtZW50KSA/IGdsb2JhbFRoaXMuZG9jdW1lbnQgOiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyA/IGRvY3VtZW50IDogKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93LmRvY3VtZW50IDogbnVsbCkpO1xuICAgICAgICAgICAgLy8gSGVscGVyOiBzYWZlbHkgZmluZCBhIGNsaXBib2FyZC53cml0ZVRleHQgZm4gYW5kIGl0cyByZWNlaXZlclxuICAgICAgICAgICAgY29uc3QgZ2V0Q2xpcGJvYXJkV3JpdGUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRmluZCB0aGUgdHJ1ZSBnbG9iYWwgb2JqZWN0IGluIGEgcm9idXN0IHdheS4gVGhpcyBhdm9pZHNcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVmZXJlbmNpbmcgdGhlIHN5bWJvbCBgZ2xvYmFsYCBkaXJlY3RseSB3aGljaCBtYXkgYmVcbiAgICAgICAgICAgICAgICAgICAgLy8gdW5kZWZpbmVkIGluIHNvbWUgbGludGluZy9lbnZpcm9ubWVudHMuXG4gICAgICAgICAgICAgICAgICAgIGxldCBnID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHsgZyA9IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7IH0gY2F0Y2ggKGVycikgeyBnID0gKHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiBudWxsKTsgfVxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBwcm9jZXNzLmVudiAmJiB0eXBlb2YgcHJvY2Vzcy5lbnYuSkVTVF9XT1JLRVJfSUQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsgY29uc29sZS5lcnJvcignREJHIGdldENsaXBib2FyZFdyaXRlIC0gdHJ1ZSBnbG9iYWwgbmF2aWdhdG9yIHR5cGU6JywgdHlwZW9mIChnICYmIGcubmF2aWdhdG9yKSk7IH0gY2F0Y2ggKGUpIHt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsgY29uc29sZS5lcnJvcignREJHIGdldENsaXBib2FyZFdyaXRlIC0gdHJ1ZSBnbG9iYWwgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQgdHlwZTonLCB0eXBlb2YgKGcgJiYgZy5uYXZpZ2F0b3IgJiYgZy5uYXZpZ2F0b3IuY2xpcGJvYXJkICYmIGcubmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQpKTsgfSBjYXRjaCAoZSkge31cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyAvKiBpZ25vcmUgKi8gfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChnICYmIGcubmF2aWdhdG9yICYmIGcubmF2aWdhdG9yLmNsaXBib2FyZCAmJiB0eXBlb2YgZy5uYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgZm46IGcubmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQsIHJlY2VpdmVyOiBnLm5hdmlnYXRvci5jbGlwYm9hcmQgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgJiYgZ2xvYmFsVGhpcy5uYXZpZ2F0b3IgJiYgZ2xvYmFsVGhpcy5uYXZpZ2F0b3IuY2xpcGJvYXJkICYmIHR5cGVvZiBnbG9iYWxUaGlzLm5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBmbjogZ2xvYmFsVGhpcy5uYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dCwgcmVjZWl2ZXI6IGdsb2JhbFRoaXMubmF2aWdhdG9yLmNsaXBib2FyZCB9O1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci5jbGlwYm9hcmQgJiYgdHlwZW9mIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBmbjogbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQsIHJlY2VpdmVyOiBuYXZpZ2F0b3IuY2xpcGJvYXJkIH07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lm5hdmlnYXRvciAmJiB3aW5kb3cubmF2aWdhdG9yLmNsaXBib2FyZCAmJiB0eXBlb2Ygd2luZG93Lm5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBmbjogd2luZG93Lm5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0LCByZWNlaXZlcjogd2luZG93Lm5hdmlnYXRvci5jbGlwYm9hcmQgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsgLyogaWdub3JlICovIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2IgPSBnZXRDbGlwYm9hcmRXcml0ZSgpO1xuICAgICAgICAgICAgICAgIGlmIChjYiAmJiB0eXBlb2YgY2IuZm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGNiLmZuLmNhbGwoY2IucmVjZWl2ZXIsIHRleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZhbGxiYWNrQ29weVRleHQodGV4dCwgZG9jKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsgLyogaWdub3JlICovIH1cblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoZG9jKSByZXR1cm4gdGhpcy5mYWxsYmFja0NvcHlUZXh0KHRleHQsIGRvYyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7IC8qIGlnbm9yZSAqLyB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb3BpZXMgcmVzdWx0IHBhcmFtZXRlcnMgdG8gY2xpcGJvYXJkXG4gICAgICAgICAqL1xuICAgICAgICBhc3luYyBjb3B5UGFyYW1zKHBhcmFtcykge1xuICAgICAgICAgICAgY29uc3QgcGFyYW1zVGV4dCA9IE9iamVjdC5lbnRyaWVzKHBhcmFtcylcbiAgICAgICAgICAgICAgICAubWFwKChba2V5LCB2YWx1ZV0pID0+IGAke2tleX06ICR7dmFsdWV9YClcbiAgICAgICAgICAgICAgICAuam9pbignXFxuJyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvcHlUZXh0KHBhcmFtc1RleHQpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBcbiAgICAvKipcbiAgICAgKiBWYWxpZGF0aW9uIHV0aWxpdGllc1xuICAgICAqL1xuICAgIHZhbGlkYXRpb246IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFZhbGlkYXRlcyBwcm9tcHQgdGV4dFxuICAgICAgICAgKi9cbiAgICAgICAgdmFsaWRhdGVQcm9tcHQocHJvbXB0KSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvcnMgPSBbXTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCFwcm9tcHQgfHwgIXByb21wdC50cmltKCkpIHtcbiAgICAgICAgICAgICAgICBlcnJvcnMucHVzaCgnUHJvbXB0IGlzIHJlcXVpcmVkJyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHByb21wdC5sZW5ndGggPiAxMDAwKSB7XG4gICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goJ1Byb21wdCBpcyB0b28gbG9uZyAobWF4IDEwMDAgY2hhcmFjdGVycyknKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpc1ZhbGlkOiBlcnJvcnMubGVuZ3RoID09PSAwLFxuICAgICAgICAgICAgICAgIGVycm9yc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBWYWxpZGF0ZXMgZW1haWwgYWRkcmVzc1xuICAgICAgICAgKi9cbiAgICAgICAgdmFsaWRhdGVFbWFpbChlbWFpbCkge1xuICAgICAgICAgICAgY29uc3QgZW1haWxSZWdleCA9IC9eW15cXHNAXStAW15cXHNAXStcXC5bXlxcc0BdKyQvO1xuICAgICAgICAgICAgcmV0dXJuIGVtYWlsUmVnZXgudGVzdChlbWFpbCk7XG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogVmFsaWRhdGVzIFVSTFxuICAgICAgICAgKi9cbiAgICAgICAgdmFsaWRhdGVVcmwodXJsKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIG5ldyBVUkwodXJsKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgXG4gICAgLyoqXG4gICAgICogQW5pbWF0aW9uIHV0aWxpdGllc1xuICAgICAqL1xuICAgIGFuaW1hdGlvbjoge1xuICAgICAgICAvKipcbiAgICAgICAgICogU21vb3RobHkgc2Nyb2xscyB0byBlbGVtZW50XG4gICAgICAgICAqL1xuICAgICAgICBzY3JvbGxUbyhlbGVtZW50LCBvZmZzZXQgPSAwKSB7XG4gICAgICAgICAgICBpZiAoIWVsZW1lbnQpIHJldHVybjtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0UG9zaXRpb24gPSBlbGVtZW50Lm9mZnNldFRvcCArIG9mZnNldDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgd2luZG93LnNjcm9sbFRvKHtcbiAgICAgICAgICAgICAgICB0b3A6IHRhcmdldFBvc2l0aW9uLFxuICAgICAgICAgICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogRmFkZXMgaW4gZWxlbWVudFxuICAgICAgICAgKi9cbiAgICAgICAgZmFkZUluKGVsZW1lbnQsIGR1cmF0aW9uID0gMzAwKSB7XG4gICAgICAgICAgICBpZiAoIWVsZW1lbnQpIHJldHVybjtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gJzAnO1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS50cmFuc2l0aW9uID0gYG9wYWNpdHkgJHtkdXJhdGlvbn1tcyBlYXNlLWluLW91dGA7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUub3BhY2l0eSA9ICcxJztcbiAgICAgICAgICAgIH0sIDEwKTtcbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGYWRlcyBvdXQgZWxlbWVudFxuICAgICAgICAgKi9cbiAgICAgICAgZmFkZU91dChlbGVtZW50LCBkdXJhdGlvbiA9IDMwMCkge1xuICAgICAgICAgICAgaWYgKCFlbGVtZW50KSByZXR1cm47XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUudHJhbnNpdGlvbiA9IGBvcGFjaXR5ICR7ZHVyYXRpb259bXMgZWFzZS1pbi1vdXRgO1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gJzAnO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICB9LCBkdXJhdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vLyBFeHBvcnQgZm9yIHVzZSBpbiBvdGhlciBtb2R1bGVzXG5pZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IHsgZ2VuZXJhdGlvblVJIH07XG59IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgd2luZG93LmdlbmVyYXRpb25VSSA9IGdlbmVyYXRpb25VSTtcbn1cblxuXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsTUFBTUEsWUFBWSxHQUFHO0VBQ2pCO0FBQ0o7QUFDQTtFQUNJQyxLQUFLLEVBQUU7SUFDSDtBQUNSO0FBQ0E7SUFDUUMsSUFBSUEsQ0FBQ0MsT0FBTyxFQUFFQyxJQUFJLEdBQUcsU0FBUyxFQUFFQyxRQUFRLEdBQUcsSUFBSSxFQUFFO01BQzdDLElBQUksQ0FBQ0YsT0FBTyxFQUFFO01BRWQsTUFBTUcsYUFBYSxHQUFHLElBQUksQ0FBQ0MsaUJBQWlCLENBQUNILElBQUksQ0FBQztNQUNsRCxNQUFNSSxNQUFNLEdBQUc7UUFDWEwsT0FBTyxFQUFFTSxNQUFNLENBQUNOLE9BQU8sQ0FBQztRQUN4QkMsSUFBSSxFQUFFRSxhQUFhO1FBQ25CRCxR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T0FBTyxJQUFJO01BQ2YsQ0FBQyxDQUFDLE1BQU07UUFDSixPQUFPLEtBQUs7TUFDaEI7SUFDSjtFQUNKLENBQUM7RUFFRDtBQUNKO0FBQ0E7RUFDSWdLLFNBQVMsRUFBRTtJQUNQO0FBQ1I7QUFDQTtJQUNRQyxRQUFRQSxDQUFDQyxPQUFPLEVBQUVDLE1BQU0sR0FBRyxDQUFDLEVBQUU7TUFDMUIsSUFBSSxDQUFDRCxPQUFPLEVBQUU7TUFFZCxNQUFNRSxjQUFjLEdBQUdGLE9BQU8sQ0FBQ0csU0FBUyxHQUFHRixNQUFNO01BRWpEekwsTUFBTSxDQUFDdUwsUUFBUSxDQUFDO1FBQ1pLLEdBQUcsRUFBRUYsY0FBYztRQUNuQkcsUUFBUSxFQUFFO01BQ2QsQ0FBQyxDQUFDO0lBQ04sQ0FBQztJQUVEO0FBQ1I7QUFDQTtJQUNRQyxNQUFNQSxDQUFDTixPQUFPLEVBQUVyTixRQUFRLEdBQUcsR0FBRyxFQUFFO01BQzVCLElBQUksQ0FBQ3FOLE9BQU8sRUFBRTtNQUVkQSxPQUFPLENBQUNPLEtBQUssQ0FBQ0MsT0FBTyxHQUFHLEdBQUc7TUFDM0JSLE9BQU8sQ0FBQ08sS0FBSyxDQUFDRSxVQUFVLEdBQUcsV0FBVzlOLFFBQVEsZ0JBQWdCO01BRTlEK04sVUFBVSxDQUFDLE1BQU07UUFDYlYsT0FBTyxDQUFDTyxLQUFLLENBQUNDLE9BQU8sR0FBRyxHQUFHO01BQy9CLENBQUMsRUFBRSxFQUFFLENBQUM7SUFDVixDQUFDO0lBRUQ7QUFDUjtBQUNBO0lBQ1FHLE9BQU9BLENBQUNYLE9BQU8sRUFBRXJOLFFBQVEsR0FBRyxHQUFHLEVBQUU7TUFDN0IsSUFBSSxDQUFDcU4sT0FBTyxFQUFFO01BRWRBLE9BQU8sQ0FBQ08sS0FBSyxDQUFDRSxVQUFVLEdBQUcsV0FBVzlOLFFBQVEsZ0JBQWdCO01BQzlEcU4sT0FBTyxDQUFDTyxLQUFLLENBQUNDLE9BQU8sR0FBRyxHQUFHO01BRTNCRSxVQUFVLENBQUMsTUFBTTtRQUNiVixPQUFPLENBQUNPLEtBQUssQ0FBQ0ssT0FBTyxHQUFHLE1BQU07TUFDbEMsQ0FBQyxFQUFFak8sUUFBUSxDQUFDO0lBQ2hCO0VBQ0o7QUFDSixDQUFDOztBQUVEO0FBQ0EsSUFBSSxPQUFPa08sTUFBTSxLQUFLLFdBQVcsSUFBSUEsTUFBTSxDQUFDQyxPQUFPLEVBQUU7RUFDakRELE1BQU0sQ0FBQ0MsT0FBTyxHQUFHO0lBQUV4TztFQUFhLENBQUM7QUFDckMsQ0FBQyxNQUFNLElBQUksT0FBT2tDLE1BQU0sS0FBSyxXQUFXLEVBQUU7RUFDdENBLE1BQU0sQ0FBQ2xDLFlBQVksR0FBR0EsWUFBWTtBQUN0QyIsImlnbm9yZUxpc3QiOltdfQ==