{"version":3,"names":["mockLocalStorage","getItem","jest","fn","setItem","removeItem","clear","global","localStorage","window","DevLogger","info","warn","error","pwaServiceWorker","require","pwaInstallation","pwaOffline","pwaCache","pwaUI","PWAManager","document","querySelector","createElement","className","innerHTML","appendChild","id","body","addEventListener","documentElement","style","setProperty","describe","beforeEach","clearAllMocks","mockReturnValue","test","expect","toBeDefined","manager","enableLogging","status","getStatus","toHaveProperty"],"sources":["pwa-manager-modular.test.js"],"sourcesContent":["/**\n * Clean PWA Manager modular test suite\n */\n\nconst mockLocalStorage = {\n    getItem: jest.fn(),\n    setItem: jest.fn(),\n    removeItem: jest.fn(),\n    clear: jest.fn()\n};\n\nglobal.localStorage = mockLocalStorage;\nglobal.window = global.window || {};\nglobal.window.DevLogger = global.window.DevLogger || { info: jest.fn(), warn: jest.fn(), error: jest.fn() };\n\n// Load modules\nconst { pwaServiceWorker } = require('../../../app/frontend/static/js/components/pwa-manager/service-worker.js');\nconst { pwaInstallation } = require('../../../app/frontend/static/js/components/pwa-manager/installation.js');\nconst { pwaOffline } = require('../../../app/frontend/static/js/components/pwa-manager/offline.js');\nconst { pwaCache } = require('../../../app/frontend/static/js/components/pwa-manager/cache.js');\nconst { pwaUI } = require('../../../app/frontend/static/js/components/pwa-manager/ui.js');\nconst { PWAManager } = require('../../../app/frontend/static/js/components/pwa-manager/index.js');\n\n// Minimal DOM mocks used by modules\nglobal.document = global.document || {\n    querySelector: jest.fn(),\n    createElement: jest.fn(() => ({ className: '', innerHTML: '', appendChild: jest.fn(), id: 'mock' })),\n    body: { appendChild: jest.fn() },\n    addEventListener: jest.fn(),\n    documentElement: { style: { setProperty: jest.fn() } }\n};\n\nglobal.window.pwaServiceWorker = pwaServiceWorker;\nglobal.window.pwaInstallation = pwaInstallation;\nglobal.window.pwaOffline = pwaOffline;\nglobal.window.pwaCache = pwaCache;\nglobal.window.pwaUI = pwaUI;\nglobal.window.PWAManager = PWAManager;\n\ndescribe('PWA Manager Modular Components', () => {\n    beforeEach(() => {\n        jest.clearAllMocks();\n        mockLocalStorage.getItem.mockReturnValue(null);\n    });\n\n    test('modules load and expose expected APIs', () => {\n        expect(global.window.pwaServiceWorker).toBeDefined();\n        expect(global.window.pwaInstallation).toBeDefined();\n        expect(global.window.pwaOffline).toBeDefined();\n        expect(global.window.pwaCache).toBeDefined();\n        expect(global.window.pwaUI).toBeDefined();\n        expect(global.window.PWAManager).toBeDefined();\n    });\n\n    test('PWAManager constructs and returns status', () => {\n        const manager = new global.window.PWAManager({ enableLogging: false });\n        const status = manager.getStatus();\n        expect(status).toHaveProperty('isInitialized');\n        expect(status).toHaveProperty('isOnline');\n    });\n});\n"],"mappings":"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","ignoreList":[]}