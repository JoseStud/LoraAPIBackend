3a0ca427fb47646bdad46cbc7a7f4eae
/**
 * PWA Manager - UI Management Module
 * 
 * Handles notifications, indicators, prompts, and other UI elements for PWA.
 */

/**
 * UI management operations for PWA components
 */
const pwaUI = {
  /**
   * Shows a notification toast
   */
  showNotification(title, message, type = 'info', options = {}) {
    const {
      duration = 5000,
      position = 'top-right',
      dismissible = true,
      className = 'pwa-notification'
    } = options;
    const toast = this.createNotificationElement(title, message, type, className, dismissible);
    this.positionNotification(toast, position);
    document.body.appendChild(toast);

    // Animate in
    setTimeout(() => toast.classList.add('enter-active'), 100);

    // Auto-remove
    if (duration > 0) {
      setTimeout(() => this.removeNotification(toast), duration);
    }
    return {
      element: toast,
      remove: () => this.removeNotification(toast)
    };
  },
  /**
   * Creates notification element
   */
  createNotificationElement(title, message, type, className, dismissible) {
    const toast = document.createElement('div');
    toast.className = `${className} mobile-toast ${type}`;
    const dismissButton = dismissible ? `
            <button class="toast-dismiss ml-2 text-gray-400 hover:text-gray-600">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
            </button>
        ` : '';
    toast.innerHTML = `
            <div class="flex items-start space-x-3">
                <div class="flex-shrink-0">
                    ${this.getNotificationIcon(type)}
                </div>
                <div class="flex-1 min-w-0">
                    <div class="font-semibold">${title}</div>
                    <div class="text-sm opacity-90">${message}</div>
                </div>
                ${dismissButton}
            </div>
        `;

    // Add dismiss functionality
    if (dismissible) {
      const dismissBtn = toast.querySelector('.toast-dismiss');
      if (dismissBtn) {
        dismissBtn.addEventListener('click', () => this.removeNotification(toast));
      }
    }
    return toast;
  },
  /**
   * Positions notification based on preference
   */
  positionNotification(toast, position) {
    const positions = {
      'top-left': 'fixed top-4 left-4 z-50',
      'top-right': 'fixed top-4 right-4 z-50',
      'top-center': 'fixed top-4 left-1/2 transform -translate-x-1/2 z-50',
      'bottom-left': 'fixed bottom-4 left-4 z-50',
      'bottom-right': 'fixed bottom-4 right-4 z-50',
      'bottom-center': 'fixed bottom-4 left-1/2 transform -translate-x-1/2 z-50'
    };
    toast.className += ` ${positions[position] || positions['top-right']}`;
  },
  /**
   * Removes notification with animation
   */
  removeNotification(toast) {
    if (!toast || !toast.parentNode) return;
    toast.classList.remove('enter-active');
    toast.classList.add('exit-active');
    setTimeout(() => {
      if (toast.parentNode) {
        toast.remove();
      }
    }, 300);
  },
  /**
   * Gets notification icon based on type
   */
  getNotificationIcon(type) {
    const icons = {
      success: '<svg class="w-5 h-5 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>',
      error: '<svg class="w-5 h-5 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>',
      warning: '<svg class="w-5 h-5 text-yellow-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg>',
      info: '<svg class="w-5 h-5 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>'
    };
    return icons[type] || icons.info;
  },
  /**
   * Shows update available banner
   */
  showUpdateBanner(onUpdate, onDismiss) {
    const existingBanner = document.getElementById('update-banner');
    if (existingBanner) existingBanner.remove();
    const banner = document.createElement('div');
    banner.id = 'update-banner';
    banner.className = 'fixed top-0 left-0 right-0 bg-blue-600 text-white text-center py-3 z-50 transform -translate-y-full transition-transform duration-300';
    banner.innerHTML = `
            <div class="flex items-center justify-center space-x-4">
                <span class="text-sm font-medium">A new version is available!</span>
                <button id="update-app-btn" class="bg-white text-blue-600 px-3 py-1 rounded text-sm font-medium hover:bg-gray-100 transition-colors">
                    Update Now
                </button>
                <button id="dismiss-update-btn" class="text-blue-200 hover:text-white transition-colors">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
        `;
    document.body.appendChild(banner);

    // Animate in
    setTimeout(() => banner.classList.remove('-translate-y-full'), 100);

    // Event listeners
    banner.querySelector('#update-app-btn').addEventListener('click', () => {
      if (onUpdate) onUpdate();
      this.removeUpdateBanner();
    });
    banner.querySelector('#dismiss-update-btn').addEventListener('click', () => {
      if (onDismiss) onDismiss();
      this.removeUpdateBanner();
    });
    return banner;
  },
  /**
   * Removes update banner
   */
  removeUpdateBanner() {
    const banner = document.getElementById('update-banner');
    if (banner) {
      banner.classList.add('-translate-y-full');
      setTimeout(() => banner.remove(), 300);
    }
  },
  /**
   * Creates loading indicator
   */
  createLoadingIndicator(options = {}) {
    const {
      message = 'Loading...',
      size = 'medium',
      overlay = false,
      className = 'pwa-loading'
    } = options;
    const sizeClasses = {
      small: 'w-4 h-4',
      medium: 'w-8 h-8',
      large: 'w-12 h-12'
    };
    const container = document.createElement('div');
    container.className = `${className} ${overlay ? 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50' : 'flex items-center justify-center'}`;
    container.innerHTML = `
            <div class="flex flex-col items-center space-y-2">
                <div class="animate-spin ${sizeClasses[size]} border-2 border-blue-600 border-t-transparent rounded-full"></div>
                ${message ? `<span class="text-sm text-gray-600">${message}</span>` : ''}
            </div>
        `;
    return container;
  },
  /**
   * Shows loading overlay
   */
  showLoading(message = 'Loading...') {
    const existing = document.getElementById('pwa-loading-overlay');
    if (existing) existing.remove();
    const loader = this.createLoadingIndicator({
      message,
      overlay: true,
      className: 'pwa-loading-overlay'
    });
    loader.id = 'pwa-loading-overlay';
    document.body.appendChild(loader);
    return {
      remove: () => {
        if (loader.parentNode) loader.remove();
      }
    };
  },
  /**
   * Hides loading overlay
   */
  hideLoading() {
    const loader = document.getElementById('pwa-loading-overlay');
    if (loader) loader.remove();
  },
  /**
   * Creates modal dialog
   */
  createModal(options = {}) {
    const {
      title = 'Modal',
      content = '',
      actions = [],
      dismissible = true,
      className = 'pwa-modal'
    } = options;
    const modal = document.createElement('div');
    modal.className = `${className} fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4`;
    const actionsHTML = actions.map(action => `
            <button class="modal-action btn ${action.className || 'btn-primary'}" data-action="${action.id}">
                ${action.text}
            </button>
        `).join('');
    const dismissButton = dismissible ? `
            <button class="modal-close absolute top-4 right-4 text-gray-400 hover:text-gray-600">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
            </button>
        ` : '';
    modal.innerHTML = `
            <div class="modal-content bg-white rounded-lg shadow-xl max-w-md w-full max-h-full overflow-auto relative">
                ${dismissButton}
                <div class="modal-header p-6 pb-4">
                    <h2 class="text-xl font-semibold text-gray-900">${title}</h2>
                </div>
                <div class="modal-body p-6 pt-0">
                    ${content}
                </div>
                ${actions.length > 0 ? `
                    <div class="modal-footer p-6 pt-0 flex space-x-2 justify-end">
                        ${actionsHTML}
                    </div>
                ` : ''}
            </div>
        `;

    // Event delegation for actions
    modal.addEventListener('click', e => {
      if (e.target.classList.contains('modal-action')) {
        const actionId = e.target.dataset.action;
        const action = actions.find(a => a.id === actionId);
        if (action && action.handler) {
          action.handler();
        }
      }
      if (dismissible && (e.target.classList.contains('modal-close') || e.target === modal)) {
        this.removeModal(modal);
      }
    });
    return modal;
  },
  /**
   * Shows modal dialog
   */
  showModal(options) {
    const modal = this.createModal(options);
    document.body.appendChild(modal);

    // Animate in
    setTimeout(() => modal.classList.add('modal-enter-active'), 100);
    return {
      element: modal,
      remove: () => this.removeModal(modal)
    };
  },
  /**
   * Removes modal dialog
   */
  removeModal(modal) {
    if (!modal || !modal.parentNode) return;
    modal.classList.remove('modal-enter-active');
    modal.classList.add('modal-exit-active');
    setTimeout(() => {
      if (modal.parentNode) {
        modal.remove();
      }
    }, 300);
  },
  /**
   * Creates progress bar
   */
  createProgressBar(options = {}) {
    const {
      value = 0,
      max = 100,
      label = '',
      showPercent = true,
      className = 'pwa-progress'
    } = options;
    const percent = Math.round(value / max * 100);
    const progress = document.createElement('div');
    progress.className = `${className} w-full`;
    progress.innerHTML = `
            <div class="flex justify-between items-center mb-1">
                <span class="text-sm font-medium text-gray-700">${label}</span>
                ${showPercent ? `<span class="text-sm text-gray-500">${percent}%</span>` : ''}
            </div>
            <div class="w-full bg-gray-200 rounded-full h-2">
                <div class="bg-blue-600 h-2 rounded-full transition-all duration-300" style="width: ${percent}%"></div>
            </div>
        `;
    return {
      element: progress,
      update: newValue => {
        const newPercent = Math.round(newValue / max * 100);
        const bar = progress.querySelector('.bg-blue-600');
        const percentText = progress.querySelector('.text-gray-500');
        if (bar) bar.style.width = `${newPercent}%`;
        if (percentText && showPercent) percentText.textContent = `${newPercent}%`;
      }
    };
  },
  /**
   * Shows confirmation dialog
   */
  showConfirmation(message, title = 'Confirm', options = {}) {
    const {
      confirmText = 'Confirm',
      cancelText = 'Cancel',
      type = 'primary'
    } = options;
    return new Promise(resolve => {
      const modal = this.showModal({
        title,
        content: `<p class="text-gray-700">${message}</p>`,
        actions: [{
          id: 'cancel',
          text: cancelText,
          className: 'btn-ghost',
          handler: () => {
            modal.remove();
            resolve(false);
          }
        }, {
          id: 'confirm',
          text: confirmText,
          className: `btn-${type}`,
          handler: () => {
            modal.remove();
            resolve(true);
          }
        }]
      });
    });
  },
  /**
   * Shows alert dialog
   */
  showAlert(message, title = 'Alert', type = 'info') {
    return new Promise(resolve => {
      const modal = this.showModal({
        title,
        content: `<p class="text-gray-700">${message}</p>`,
        actions: [{
          id: 'ok',
          text: 'OK',
          className: `btn-${type}`,
          handler: () => {
            modal.remove();
            resolve();
          }
        }]
      });
    });
  },
  /**
   * Manages notification queue
   */
  createNotificationQueue(maxVisible = 3) {
    const queue = [];
    let visibleCount = 0;
    return {
      add: (title, message, type, options = {}) => {
        const notification = {
          title,
          message,
          type,
          options
        };
        if (visibleCount < maxVisible) {
          this.showNotificationFromQueue(notification);
          visibleCount++;
        } else {
          queue.push(notification);
        }
      },
      processQueue: () => {
        if (queue.length > 0 && visibleCount < maxVisible) {
          const notification = queue.shift();
          this.showNotificationFromQueue(notification);
          visibleCount++;
        }
      },
      clear: () => {
        queue.length = 0;
        visibleCount = 0;
      },
      getQueueLength: () => queue.length
    };
  },
  /**
   * Shows notification from queue
   */
  showNotificationFromQueue(notification) {
    const toast = this.showNotification(notification.title, notification.message, notification.type, notification.options);

    // Track when notification is removed to process queue
    const originalRemove = toast.remove;
    toast.remove = () => {
      originalRemove();
      // Process next in queue after a short delay
      setTimeout(() => {
        if (this.notificationQueue) {
          this.notificationQueue.processQueue();
        }
      }, 300);
    };
  },
  /**
   * Creates responsive design utilities
   */
  getResponsiveConfig() {
    const width = window.innerWidth;
    return {
      isMobile: width < 768,
      isTablet: width >= 768 && width < 1024,
      isDesktop: width >= 1024,
      notificationPosition: width < 768 ? 'bottom-center' : 'top-right',
      modalSize: width < 640 ? 'full' : 'medium',
      maxNotifications: width < 768 ? 2 : 3
    };
  },
  /**
   * Applies responsive styles
   */
  applyResponsiveStyles() {
    const config = this.getResponsiveConfig();
    const root = document.documentElement;
    root.style.setProperty('--notification-position', config.notificationPosition);
    root.style.setProperty('--modal-size', config.modalSize);
    root.style.setProperty('--max-notifications', config.maxNotifications);
    document.body.classList.toggle('mobile-layout', config.isMobile);
    document.body.classList.toggle('tablet-layout', config.isTablet);
    document.body.classList.toggle('desktop-layout', config.isDesktop);
  }
};

// Export for use in other modules
if (typeof module !== 'undefined' && module.exports) {
  module.exports = {
    pwaUI
  };
} else if (typeof window !== 'undefined') {
  window.pwaUI = pwaUI;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwd2FVSSIsInNob3dOb3RpZmljYXRpb24iLCJ0aXRsZSIsIm1lc3NhZ2UiLCJ0eXBlIiwib3B0aW9ucyIsImR1cmF0aW9uIiwicG9zaXRpb24iLCJkaXNtaXNzaWJsZSIsImNsYXNzTmFtZSIsInRvYXN0IiwiY3JlYXRlTm90aWZpY2F0aW9uRWxlbWVudCIsInBvc2l0aW9uTm90aWZpY2F0aW9uIiwiZG9jdW1lbnQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJzZXRUaW1lb3V0IiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlTm90aWZpY2F0aW9uIiwiZWxlbWVudCIsInJlbW92ZSIsImNyZWF0ZUVsZW1lbnQiLCJkaXNtaXNzQnV0dG9uIiwiaW5uZXJIVE1MIiwiZ2V0Tm90aWZpY2F0aW9uSWNvbiIsImRpc21pc3NCdG4iLCJxdWVyeVNlbGVjdG9yIiwiYWRkRXZlbnRMaXN0ZW5lciIsInBvc2l0aW9ucyIsInBhcmVudE5vZGUiLCJpY29ucyIsInN1Y2Nlc3MiLCJlcnJvciIsIndhcm5pbmciLCJpbmZvIiwic2hvd1VwZGF0ZUJhbm5lciIsIm9uVXBkYXRlIiwib25EaXNtaXNzIiwiZXhpc3RpbmdCYW5uZXIiLCJnZXRFbGVtZW50QnlJZCIsImJhbm5lciIsImlkIiwicmVtb3ZlVXBkYXRlQmFubmVyIiwiY3JlYXRlTG9hZGluZ0luZGljYXRvciIsInNpemUiLCJvdmVybGF5Iiwic2l6ZUNsYXNzZXMiLCJzbWFsbCIsIm1lZGl1bSIsImxhcmdlIiwiY29udGFpbmVyIiwic2hvd0xvYWRpbmciLCJleGlzdGluZyIsImxvYWRlciIsImhpZGVMb2FkaW5nIiwiY3JlYXRlTW9kYWwiLCJjb250ZW50IiwiYWN0aW9ucyIsIm1vZGFsIiwiYWN0aW9uc0hUTUwiLCJtYXAiLCJhY3Rpb24iLCJ0ZXh0Iiwiam9pbiIsImxlbmd0aCIsImUiLCJ0YXJnZXQiLCJjb250YWlucyIsImFjdGlvbklkIiwiZGF0YXNldCIsImZpbmQiLCJhIiwiaGFuZGxlciIsInJlbW92ZU1vZGFsIiwic2hvd01vZGFsIiwiY3JlYXRlUHJvZ3Jlc3NCYXIiLCJ2YWx1ZSIsIm1heCIsImxhYmVsIiwic2hvd1BlcmNlbnQiLCJwZXJjZW50IiwiTWF0aCIsInJvdW5kIiwicHJvZ3Jlc3MiLCJ1cGRhdGUiLCJuZXdWYWx1ZSIsIm5ld1BlcmNlbnQiLCJiYXIiLCJwZXJjZW50VGV4dCIsInN0eWxlIiwid2lkdGgiLCJ0ZXh0Q29udGVudCIsInNob3dDb25maXJtYXRpb24iLCJjb25maXJtVGV4dCIsImNhbmNlbFRleHQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNob3dBbGVydCIsImNyZWF0ZU5vdGlmaWNhdGlvblF1ZXVlIiwibWF4VmlzaWJsZSIsInF1ZXVlIiwidmlzaWJsZUNvdW50Iiwibm90aWZpY2F0aW9uIiwic2hvd05vdGlmaWNhdGlvbkZyb21RdWV1ZSIsInB1c2giLCJwcm9jZXNzUXVldWUiLCJzaGlmdCIsImNsZWFyIiwiZ2V0UXVldWVMZW5ndGgiLCJvcmlnaW5hbFJlbW92ZSIsIm5vdGlmaWNhdGlvblF1ZXVlIiwiZ2V0UmVzcG9uc2l2ZUNvbmZpZyIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJpc01vYmlsZSIsImlzVGFibGV0IiwiaXNEZXNrdG9wIiwibm90aWZpY2F0aW9uUG9zaXRpb24iLCJtb2RhbFNpemUiLCJtYXhOb3RpZmljYXRpb25zIiwiYXBwbHlSZXNwb25zaXZlU3R5bGVzIiwiY29uZmlnIiwicm9vdCIsImRvY3VtZW50RWxlbWVudCIsInNldFByb3BlcnR5IiwidG9nZ2xlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbInVpLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogUFdBIE1hbmFnZXIgLSBVSSBNYW5hZ2VtZW50IE1vZHVsZVxuICogXG4gKiBIYW5kbGVzIG5vdGlmaWNhdGlvbnMsIGluZGljYXRvcnMsIHByb21wdHMsIGFuZCBvdGhlciBVSSBlbGVtZW50cyBmb3IgUFdBLlxuICovXG5cbi8qKlxuICogVUkgbWFuYWdlbWVudCBvcGVyYXRpb25zIGZvciBQV0EgY29tcG9uZW50c1xuICovXG5jb25zdCBwd2FVSSA9IHtcbiAgICAvKipcbiAgICAgKiBTaG93cyBhIG5vdGlmaWNhdGlvbiB0b2FzdFxuICAgICAqL1xuICAgIHNob3dOb3RpZmljYXRpb24odGl0bGUsIG1lc3NhZ2UsIHR5cGUgPSAnaW5mbycsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBkdXJhdGlvbiA9IDUwMDAsXG4gICAgICAgICAgICBwb3NpdGlvbiA9ICd0b3AtcmlnaHQnLFxuICAgICAgICAgICAgZGlzbWlzc2libGUgPSB0cnVlLFxuICAgICAgICAgICAgY2xhc3NOYW1lID0gJ3B3YS1ub3RpZmljYXRpb24nXG4gICAgICAgIH0gPSBvcHRpb25zO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgdG9hc3QgPSB0aGlzLmNyZWF0ZU5vdGlmaWNhdGlvbkVsZW1lbnQodGl0bGUsIG1lc3NhZ2UsIHR5cGUsIGNsYXNzTmFtZSwgZGlzbWlzc2libGUpO1xuICAgICAgICB0aGlzLnBvc2l0aW9uTm90aWZpY2F0aW9uKHRvYXN0LCBwb3NpdGlvbik7XG4gICAgICAgIFxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRvYXN0KTtcbiAgICAgICAgXG4gICAgICAgIC8vIEFuaW1hdGUgaW5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0b2FzdC5jbGFzc0xpc3QuYWRkKCdlbnRlci1hY3RpdmUnKSwgMTAwKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEF1dG8tcmVtb3ZlXG4gICAgICAgIGlmIChkdXJhdGlvbiA+IDApIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5yZW1vdmVOb3RpZmljYXRpb24odG9hc3QpLCBkdXJhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBlbGVtZW50OiB0b2FzdCxcbiAgICAgICAgICAgIHJlbW92ZTogKCkgPT4gdGhpcy5yZW1vdmVOb3RpZmljYXRpb24odG9hc3QpXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIG5vdGlmaWNhdGlvbiBlbGVtZW50XG4gICAgICovXG4gICAgY3JlYXRlTm90aWZpY2F0aW9uRWxlbWVudCh0aXRsZSwgbWVzc2FnZSwgdHlwZSwgY2xhc3NOYW1lLCBkaXNtaXNzaWJsZSkge1xuICAgICAgICBjb25zdCB0b2FzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0b2FzdC5jbGFzc05hbWUgPSBgJHtjbGFzc05hbWV9IG1vYmlsZS10b2FzdCAke3R5cGV9YDtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGRpc21pc3NCdXR0b24gPSBkaXNtaXNzaWJsZSA/IGBcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJ0b2FzdC1kaXNtaXNzIG1sLTIgdGV4dC1ncmF5LTQwMCBob3Zlcjp0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInctNCBoLTRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNiAxOEwxOCA2TTYgNmwxMiAxMlwiPjwvcGF0aD5cbiAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICBgIDogJyc7XG4gICAgICAgIFxuICAgICAgICB0b2FzdC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1zdGFydCBzcGFjZS14LTNcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC1zaHJpbmstMFwiPlxuICAgICAgICAgICAgICAgICAgICAke3RoaXMuZ2V0Tm90aWZpY2F0aW9uSWNvbih0eXBlKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIG1pbi13LTBcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvbnQtc2VtaWJvbGRcIj4ke3RpdGxlfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1zbSBvcGFjaXR5LTkwXCI+JHttZXNzYWdlfTwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICR7ZGlzbWlzc0J1dHRvbn1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgICAgICBcbiAgICAgICAgLy8gQWRkIGRpc21pc3MgZnVuY3Rpb25hbGl0eVxuICAgICAgICBpZiAoZGlzbWlzc2libGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpc21pc3NCdG4gPSB0b2FzdC5xdWVyeVNlbGVjdG9yKCcudG9hc3QtZGlzbWlzcycpO1xuICAgICAgICAgICAgaWYgKGRpc21pc3NCdG4pIHtcbiAgICAgICAgICAgICAgICBkaXNtaXNzQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5yZW1vdmVOb3RpZmljYXRpb24odG9hc3QpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHRvYXN0O1xuICAgIH0sXG4gICAgXG4gICAgLyoqXG4gICAgICogUG9zaXRpb25zIG5vdGlmaWNhdGlvbiBiYXNlZCBvbiBwcmVmZXJlbmNlXG4gICAgICovXG4gICAgcG9zaXRpb25Ob3RpZmljYXRpb24odG9hc3QsIHBvc2l0aW9uKSB7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9ucyA9IHtcbiAgICAgICAgICAgICd0b3AtbGVmdCc6ICdmaXhlZCB0b3AtNCBsZWZ0LTQgei01MCcsXG4gICAgICAgICAgICAndG9wLXJpZ2h0JzogJ2ZpeGVkIHRvcC00IHJpZ2h0LTQgei01MCcsXG4gICAgICAgICAgICAndG9wLWNlbnRlcic6ICdmaXhlZCB0b3AtNCBsZWZ0LTEvMiB0cmFuc2Zvcm0gLXRyYW5zbGF0ZS14LTEvMiB6LTUwJyxcbiAgICAgICAgICAgICdib3R0b20tbGVmdCc6ICdmaXhlZCBib3R0b20tNCBsZWZ0LTQgei01MCcsXG4gICAgICAgICAgICAnYm90dG9tLXJpZ2h0JzogJ2ZpeGVkIGJvdHRvbS00IHJpZ2h0LTQgei01MCcsXG4gICAgICAgICAgICAnYm90dG9tLWNlbnRlcic6ICdmaXhlZCBib3R0b20tNCBsZWZ0LTEvMiB0cmFuc2Zvcm0gLXRyYW5zbGF0ZS14LTEvMiB6LTUwJ1xuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgdG9hc3QuY2xhc3NOYW1lICs9IGAgJHtwb3NpdGlvbnNbcG9zaXRpb25dIHx8IHBvc2l0aW9uc1sndG9wLXJpZ2h0J119YDtcbiAgICB9LFxuICAgIFxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgbm90aWZpY2F0aW9uIHdpdGggYW5pbWF0aW9uXG4gICAgICovXG4gICAgcmVtb3ZlTm90aWZpY2F0aW9uKHRvYXN0KSB7XG4gICAgICAgIGlmICghdG9hc3QgfHwgIXRvYXN0LnBhcmVudE5vZGUpIHJldHVybjtcbiAgICAgICAgXG4gICAgICAgIHRvYXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2VudGVyLWFjdGl2ZScpO1xuICAgICAgICB0b2FzdC5jbGFzc0xpc3QuYWRkKCdleGl0LWFjdGl2ZScpO1xuICAgICAgICBcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAodG9hc3QucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgIHRvYXN0LnJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAzMDApO1xuICAgIH0sXG4gICAgXG4gICAgLyoqXG4gICAgICogR2V0cyBub3RpZmljYXRpb24gaWNvbiBiYXNlZCBvbiB0eXBlXG4gICAgICovXG4gICAgZ2V0Tm90aWZpY2F0aW9uSWNvbih0eXBlKSB7XG4gICAgICAgIGNvbnN0IGljb25zID0ge1xuICAgICAgICAgICAgc3VjY2VzczogJzxzdmcgY2xhc3M9XCJ3LTUgaC01IHRleHQtZ3JlZW4tNTAwXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNSAxM2w0IDRMMTkgN1wiPjwvcGF0aD48L3N2Zz4nLFxuICAgICAgICAgICAgZXJyb3I6ICc8c3ZnIGNsYXNzPVwidy01IGgtNSB0ZXh0LXJlZC01MDBcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk02IDE4TDE4IDZNNiA2bDEyIDEyXCI+PC9wYXRoPjwvc3ZnPicsXG4gICAgICAgICAgICB3YXJuaW5nOiAnPHN2ZyBjbGFzcz1cInctNSBoLTUgdGV4dC15ZWxsb3ctNTAwXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTIgOXYybTAgNGguMDFtLTYuOTM4IDRoMTMuODU2YzEuNTQgMCAyLjUwMi0xLjY2NyAxLjczMi0yLjVMMTMuNzMyIDRjLS43Ny0uODMzLTEuOTY0LS44MzMtMi43MzIgMEw0LjA4MiAxNi41Yy0uNzcuODMzLjE5MiAyLjUgMS43MzIgMi41elwiPjwvcGF0aD48L3N2Zz4nLFxuICAgICAgICAgICAgaW5mbzogJzxzdmcgY2xhc3M9XCJ3LTUgaC01IHRleHQtYmx1ZS01MDBcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xMyAxNmgtMXYtNGgtMW0xLTRoLjAxTTIxIDEyYTkgOSAwIDExLTE4IDAgOSA5IDAgMDExOCAwelwiPjwvcGF0aD48L3N2Zz4nXG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gaWNvbnNbdHlwZV0gfHwgaWNvbnMuaW5mbztcbiAgICB9LFxuICAgIFxuICAgIC8qKlxuICAgICAqIFNob3dzIHVwZGF0ZSBhdmFpbGFibGUgYmFubmVyXG4gICAgICovXG4gICAgc2hvd1VwZGF0ZUJhbm5lcihvblVwZGF0ZSwgb25EaXNtaXNzKSB7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nQmFubmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VwZGF0ZS1iYW5uZXInKTtcbiAgICAgICAgaWYgKGV4aXN0aW5nQmFubmVyKSBleGlzdGluZ0Jhbm5lci5yZW1vdmUoKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGJhbm5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBiYW5uZXIuaWQgPSAndXBkYXRlLWJhbm5lcic7XG4gICAgICAgIGJhbm5lci5jbGFzc05hbWUgPSAnZml4ZWQgdG9wLTAgbGVmdC0wIHJpZ2h0LTAgYmctYmx1ZS02MDAgdGV4dC13aGl0ZSB0ZXh0LWNlbnRlciBweS0zIHotNTAgdHJhbnNmb3JtIC10cmFuc2xhdGUteS1mdWxsIHRyYW5zaXRpb24tdHJhbnNmb3JtIGR1cmF0aW9uLTMwMCc7XG4gICAgICAgIFxuICAgICAgICBiYW5uZXIuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHNwYWNlLXgtNFwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1zbSBmb250LW1lZGl1bVwiPkEgbmV3IHZlcnNpb24gaXMgYXZhaWxhYmxlITwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwidXBkYXRlLWFwcC1idG5cIiBjbGFzcz1cImJnLXdoaXRlIHRleHQtYmx1ZS02MDAgcHgtMyBweS0xIHJvdW5kZWQgdGV4dC1zbSBmb250LW1lZGl1bSBob3ZlcjpiZy1ncmF5LTEwMCB0cmFuc2l0aW9uLWNvbG9yc1wiPlxuICAgICAgICAgICAgICAgICAgICBVcGRhdGUgTm93XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImRpc21pc3MtdXBkYXRlLWJ0blwiIGNsYXNzPVwidGV4dC1ibHVlLTIwMCBob3Zlcjp0ZXh0LXdoaXRlIHRyYW5zaXRpb24tY29sb3JzXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTUgaC01XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk02IDE4TDE4IDZNNiA2bDEyIDEyXCI+PC9wYXRoPlxuICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgICAgICBcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChiYW5uZXIpO1xuICAgICAgICBcbiAgICAgICAgLy8gQW5pbWF0ZSBpblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IGJhbm5lci5jbGFzc0xpc3QucmVtb3ZlKCctdHJhbnNsYXRlLXktZnVsbCcpLCAxMDApO1xuICAgICAgICBcbiAgICAgICAgLy8gRXZlbnQgbGlzdGVuZXJzXG4gICAgICAgIGJhbm5lci5xdWVyeVNlbGVjdG9yKCcjdXBkYXRlLWFwcC1idG4nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIGlmIChvblVwZGF0ZSkgb25VcGRhdGUoKTtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlVXBkYXRlQmFubmVyKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgYmFubmVyLnF1ZXJ5U2VsZWN0b3IoJyNkaXNtaXNzLXVwZGF0ZS1idG4nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIGlmIChvbkRpc21pc3MpIG9uRGlzbWlzcygpO1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVVcGRhdGVCYW5uZXIoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gYmFubmVyO1xuICAgIH0sXG4gICAgXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB1cGRhdGUgYmFubmVyXG4gICAgICovXG4gICAgcmVtb3ZlVXBkYXRlQmFubmVyKCkge1xuICAgICAgICBjb25zdCBiYW5uZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXBkYXRlLWJhbm5lcicpO1xuICAgICAgICBpZiAoYmFubmVyKSB7XG4gICAgICAgICAgICBiYW5uZXIuY2xhc3NMaXN0LmFkZCgnLXRyYW5zbGF0ZS15LWZ1bGwnKTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gYmFubmVyLnJlbW92ZSgpLCAzMDApO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGxvYWRpbmcgaW5kaWNhdG9yXG4gICAgICovXG4gICAgY3JlYXRlTG9hZGluZ0luZGljYXRvcihvcHRpb25zID0ge30pIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgbWVzc2FnZSA9ICdMb2FkaW5nLi4uJyxcbiAgICAgICAgICAgIHNpemUgPSAnbWVkaXVtJyxcbiAgICAgICAgICAgIG92ZXJsYXkgPSBmYWxzZSxcbiAgICAgICAgICAgIGNsYXNzTmFtZSA9ICdwd2EtbG9hZGluZydcbiAgICAgICAgfSA9IG9wdGlvbnM7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBzaXplQ2xhc3NlcyA9IHtcbiAgICAgICAgICAgIHNtYWxsOiAndy00IGgtNCcsXG4gICAgICAgICAgICBtZWRpdW06ICd3LTggaC04JyxcbiAgICAgICAgICAgIGxhcmdlOiAndy0xMiBoLTEyJ1xuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGNvbnRhaW5lci5jbGFzc05hbWUgPSBgJHtjbGFzc05hbWV9ICR7b3ZlcmxheSA/ICdmaXhlZCBpbnNldC0wIGJnLWJsYWNrIGJnLW9wYWNpdHktNTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgei01MCcgOiAnZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXInfWA7XG4gICAgICAgIFxuICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIHNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhbmltYXRlLXNwaW4gJHtzaXplQ2xhc3Nlc1tzaXplXX0gYm9yZGVyLTIgYm9yZGVyLWJsdWUtNjAwIGJvcmRlci10LXRyYW5zcGFyZW50IHJvdW5kZWQtZnVsbFwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICR7bWVzc2FnZSA/IGA8c3BhbiBjbGFzcz1cInRleHQtc20gdGV4dC1ncmF5LTYwMFwiPiR7bWVzc2FnZX08L3NwYW4+YCA6ICcnfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgIH0sXG4gICAgXG4gICAgLyoqXG4gICAgICogU2hvd3MgbG9hZGluZyBvdmVybGF5XG4gICAgICovXG4gICAgc2hvd0xvYWRpbmcobWVzc2FnZSA9ICdMb2FkaW5nLi4uJykge1xuICAgICAgICBjb25zdCBleGlzdGluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwd2EtbG9hZGluZy1vdmVybGF5Jyk7XG4gICAgICAgIGlmIChleGlzdGluZykgZXhpc3RpbmcucmVtb3ZlKCk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBsb2FkZXIgPSB0aGlzLmNyZWF0ZUxvYWRpbmdJbmRpY2F0b3Ioe1xuICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgIG92ZXJsYXk6IHRydWUsXG4gICAgICAgICAgICBjbGFzc05hbWU6ICdwd2EtbG9hZGluZy1vdmVybGF5J1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGxvYWRlci5pZCA9ICdwd2EtbG9hZGluZy1vdmVybGF5JztcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsb2FkZXIpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlbW92ZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChsb2FkZXIucGFyZW50Tm9kZSkgbG9hZGVyLnJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0sXG4gICAgXG4gICAgLyoqXG4gICAgICogSGlkZXMgbG9hZGluZyBvdmVybGF5XG4gICAgICovXG4gICAgaGlkZUxvYWRpbmcoKSB7XG4gICAgICAgIGNvbnN0IGxvYWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwd2EtbG9hZGluZy1vdmVybGF5Jyk7XG4gICAgICAgIGlmIChsb2FkZXIpIGxvYWRlci5yZW1vdmUoKTtcbiAgICB9LFxuICAgIFxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgbW9kYWwgZGlhbG9nXG4gICAgICovXG4gICAgY3JlYXRlTW9kYWwob3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIHRpdGxlID0gJ01vZGFsJyxcbiAgICAgICAgICAgIGNvbnRlbnQgPSAnJyxcbiAgICAgICAgICAgIGFjdGlvbnMgPSBbXSxcbiAgICAgICAgICAgIGRpc21pc3NpYmxlID0gdHJ1ZSxcbiAgICAgICAgICAgIGNsYXNzTmFtZSA9ICdwd2EtbW9kYWwnXG4gICAgICAgIH0gPSBvcHRpb25zO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgbW9kYWwuY2xhc3NOYW1lID0gYCR7Y2xhc3NOYW1lfSBmaXhlZCBpbnNldC0wIGJnLWJsYWNrIGJnLW9wYWNpdHktNTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgei01MCBwLTRgO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgYWN0aW9uc0hUTUwgPSBhY3Rpb25zLm1hcChhY3Rpb24gPT4gYFxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cIm1vZGFsLWFjdGlvbiBidG4gJHthY3Rpb24uY2xhc3NOYW1lIHx8ICdidG4tcHJpbWFyeSd9XCIgZGF0YS1hY3Rpb249XCIke2FjdGlvbi5pZH1cIj5cbiAgICAgICAgICAgICAgICAke2FjdGlvbi50ZXh0fVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIGApLmpvaW4oJycpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgZGlzbWlzc0J1dHRvbiA9IGRpc21pc3NpYmxlID8gYFxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cIm1vZGFsLWNsb3NlIGFic29sdXRlIHRvcC00IHJpZ2h0LTQgdGV4dC1ncmF5LTQwMCBob3Zlcjp0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInctNiBoLTZcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNiAxOEwxOCA2TTYgNmwxMiAxMlwiPjwvcGF0aD5cbiAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICBgIDogJyc7XG4gICAgICAgIFxuICAgICAgICBtb2RhbC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtY29udGVudCBiZy13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdy14bCBtYXgtdy1tZCB3LWZ1bGwgbWF4LWgtZnVsbCBvdmVyZmxvdy1hdXRvIHJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgICAgJHtkaXNtaXNzQnV0dG9ufVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXIgcC02IHBiLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzPVwidGV4dC14bCBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDBcIj4ke3RpdGxlfTwvaDI+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHkgcC02IHB0LTBcIj5cbiAgICAgICAgICAgICAgICAgICAgJHtjb250ZW50fVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICR7YWN0aW9ucy5sZW5ndGggPiAwID8gYFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyIHAtNiBwdC0wIGZsZXggc3BhY2UteC0yIGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAke2FjdGlvbnNIVE1MfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICBgIDogJyd9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcbiAgICAgICAgXG4gICAgICAgIC8vIEV2ZW50IGRlbGVnYXRpb24gZm9yIGFjdGlvbnNcbiAgICAgICAgbW9kYWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbW9kYWwtYWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhY3Rpb25JZCA9IGUudGFyZ2V0LmRhdGFzZXQuYWN0aW9uO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjdGlvbiA9IGFjdGlvbnMuZmluZChhID0+IGEuaWQgPT09IGFjdGlvbklkKTtcbiAgICAgICAgICAgICAgICBpZiAoYWN0aW9uICYmIGFjdGlvbi5oYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbi5oYW5kbGVyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoZGlzbWlzc2libGUgJiYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbW9kYWwtY2xvc2UnKSB8fCBlLnRhcmdldCA9PT0gbW9kYWwpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVNb2RhbChtb2RhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIG1vZGFsO1xuICAgIH0sXG4gICAgXG4gICAgLyoqXG4gICAgICogU2hvd3MgbW9kYWwgZGlhbG9nXG4gICAgICovXG4gICAgc2hvd01vZGFsKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgbW9kYWwgPSB0aGlzLmNyZWF0ZU1vZGFsKG9wdGlvbnMpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1vZGFsKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEFuaW1hdGUgaW5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiBtb2RhbC5jbGFzc0xpc3QuYWRkKCdtb2RhbC1lbnRlci1hY3RpdmUnKSwgMTAwKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBlbGVtZW50OiBtb2RhbCxcbiAgICAgICAgICAgIHJlbW92ZTogKCkgPT4gdGhpcy5yZW1vdmVNb2RhbChtb2RhbClcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIFxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgbW9kYWwgZGlhbG9nXG4gICAgICovXG4gICAgcmVtb3ZlTW9kYWwobW9kYWwpIHtcbiAgICAgICAgaWYgKCFtb2RhbCB8fCAhbW9kYWwucGFyZW50Tm9kZSkgcmV0dXJuO1xuICAgICAgICBcbiAgICAgICAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnbW9kYWwtZW50ZXItYWN0aXZlJyk7XG4gICAgICAgIG1vZGFsLmNsYXNzTGlzdC5hZGQoJ21vZGFsLWV4aXQtYWN0aXZlJyk7XG4gICAgICAgIFxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlmIChtb2RhbC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgbW9kYWwucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDMwMCk7XG4gICAgfSxcbiAgICBcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHByb2dyZXNzIGJhclxuICAgICAqL1xuICAgIGNyZWF0ZVByb2dyZXNzQmFyKG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICB2YWx1ZSA9IDAsXG4gICAgICAgICAgICBtYXggPSAxMDAsXG4gICAgICAgICAgICBsYWJlbCA9ICcnLFxuICAgICAgICAgICAgc2hvd1BlcmNlbnQgPSB0cnVlLFxuICAgICAgICAgICAgY2xhc3NOYW1lID0gJ3B3YS1wcm9ncmVzcydcbiAgICAgICAgfSA9IG9wdGlvbnM7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBwZXJjZW50ID0gTWF0aC5yb3VuZCgodmFsdWUgLyBtYXgpICogMTAwKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHByb2dyZXNzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHByb2dyZXNzLmNsYXNzTmFtZSA9IGAke2NsYXNzTmFtZX0gdy1mdWxsYDtcbiAgICAgICAgXG4gICAgICAgIHByb2dyZXNzLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbWItMVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwXCI+JHtsYWJlbH08L3NwYW4+XG4gICAgICAgICAgICAgICAgJHtzaG93UGVyY2VudCA/IGA8c3BhbiBjbGFzcz1cInRleHQtc20gdGV4dC1ncmF5LTUwMFwiPiR7cGVyY2VudH0lPC9zcGFuPmAgOiAnJ31cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInctZnVsbCBiZy1ncmF5LTIwMCByb3VuZGVkLWZ1bGwgaC0yXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJnLWJsdWUtNjAwIGgtMiByb3VuZGVkLWZ1bGwgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwXCIgc3R5bGU9XCJ3aWR0aDogJHtwZXJjZW50fSVcIj48L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IHByb2dyZXNzLFxuICAgICAgICAgICAgdXBkYXRlOiAobmV3VmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdQZXJjZW50ID0gTWF0aC5yb3VuZCgobmV3VmFsdWUgLyBtYXgpICogMTAwKTtcbiAgICAgICAgICAgICAgICBjb25zdCBiYXIgPSBwcm9ncmVzcy5xdWVyeVNlbGVjdG9yKCcuYmctYmx1ZS02MDAnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwZXJjZW50VGV4dCA9IHByb2dyZXNzLnF1ZXJ5U2VsZWN0b3IoJy50ZXh0LWdyYXktNTAwJyk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKGJhcikgYmFyLnN0eWxlLndpZHRoID0gYCR7bmV3UGVyY2VudH0lYDtcbiAgICAgICAgICAgICAgICBpZiAocGVyY2VudFRleHQgJiYgc2hvd1BlcmNlbnQpIHBlcmNlbnRUZXh0LnRleHRDb250ZW50ID0gYCR7bmV3UGVyY2VudH0lYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9LFxuICAgIFxuICAgIC8qKlxuICAgICAqIFNob3dzIGNvbmZpcm1hdGlvbiBkaWFsb2dcbiAgICAgKi9cbiAgICBzaG93Q29uZmlybWF0aW9uKG1lc3NhZ2UsIHRpdGxlID0gJ0NvbmZpcm0nLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgY29uZmlybVRleHQgPSAnQ29uZmlybScsXG4gICAgICAgICAgICBjYW5jZWxUZXh0ID0gJ0NhbmNlbCcsXG4gICAgICAgICAgICB0eXBlID0gJ3ByaW1hcnknXG4gICAgICAgIH0gPSBvcHRpb25zO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtb2RhbCA9IHRoaXMuc2hvd01vZGFsKHtcbiAgICAgICAgICAgICAgICB0aXRsZSxcbiAgICAgICAgICAgICAgICBjb250ZW50OiBgPHAgY2xhc3M9XCJ0ZXh0LWdyYXktNzAwXCI+JHttZXNzYWdlfTwvcD5gLFxuICAgICAgICAgICAgICAgIGFjdGlvbnM6IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdjYW5jZWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogY2FuY2VsVGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2J0bi1naG9zdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVyOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kYWwucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnY29uZmlybScsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBjb25maXJtVGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogYGJ0bi0ke3R5cGV9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXI6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RhbC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgXG4gICAgLyoqXG4gICAgICogU2hvd3MgYWxlcnQgZGlhbG9nXG4gICAgICovXG4gICAgc2hvd0FsZXJ0KG1lc3NhZ2UsIHRpdGxlID0gJ0FsZXJ0JywgdHlwZSA9ICdpbmZvJykge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1vZGFsID0gdGhpcy5zaG93TW9kYWwoe1xuICAgICAgICAgICAgICAgIHRpdGxlLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGA8cCBjbGFzcz1cInRleHQtZ3JheS03MDBcIj4ke21lc3NhZ2V9PC9wPmAsXG4gICAgICAgICAgICAgICAgYWN0aW9uczogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogJ29rJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdPSycsXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGBidG4tJHt0eXBlfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVyOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kYWwucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgXG4gICAgLyoqXG4gICAgICogTWFuYWdlcyBub3RpZmljYXRpb24gcXVldWVcbiAgICAgKi9cbiAgICBjcmVhdGVOb3RpZmljYXRpb25RdWV1ZShtYXhWaXNpYmxlID0gMykge1xuICAgICAgICBjb25zdCBxdWV1ZSA9IFtdO1xuICAgICAgICBsZXQgdmlzaWJsZUNvdW50ID0gMDtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhZGQ6ICh0aXRsZSwgbWVzc2FnZSwgdHlwZSwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm90aWZpY2F0aW9uID0geyB0aXRsZSwgbWVzc2FnZSwgdHlwZSwgb3B0aW9ucyB9O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmICh2aXNpYmxlQ291bnQgPCBtYXhWaXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd05vdGlmaWNhdGlvbkZyb21RdWV1ZShub3RpZmljYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB2aXNpYmxlQ291bnQrKztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKG5vdGlmaWNhdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcHJvY2Vzc1F1ZXVlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHF1ZXVlLmxlbmd0aCA+IDAgJiYgdmlzaWJsZUNvdW50IDwgbWF4VmlzaWJsZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBub3RpZmljYXRpb24gPSBxdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dOb3RpZmljYXRpb25Gcm9tUXVldWUobm90aWZpY2F0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZUNvdW50Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY2xlYXI6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBxdWV1ZS5sZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgIHZpc2libGVDb3VudCA9IDA7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBnZXRRdWV1ZUxlbmd0aDogKCkgPT4gcXVldWUubGVuZ3RoXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBcbiAgICAvKipcbiAgICAgKiBTaG93cyBub3RpZmljYXRpb24gZnJvbSBxdWV1ZVxuICAgICAqL1xuICAgIHNob3dOb3RpZmljYXRpb25Gcm9tUXVldWUobm90aWZpY2F0aW9uKSB7XG4gICAgICAgIGNvbnN0IHRvYXN0ID0gdGhpcy5zaG93Tm90aWZpY2F0aW9uKFxuICAgICAgICAgICAgbm90aWZpY2F0aW9uLnRpdGxlLFxuICAgICAgICAgICAgbm90aWZpY2F0aW9uLm1lc3NhZ2UsXG4gICAgICAgICAgICBub3RpZmljYXRpb24udHlwZSxcbiAgICAgICAgICAgIG5vdGlmaWNhdGlvbi5vcHRpb25zXG4gICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICAvLyBUcmFjayB3aGVuIG5vdGlmaWNhdGlvbiBpcyByZW1vdmVkIHRvIHByb2Nlc3MgcXVldWVcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxSZW1vdmUgPSB0b2FzdC5yZW1vdmU7XG4gICAgICAgIHRvYXN0LnJlbW92ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIG9yaWdpbmFsUmVtb3ZlKCk7XG4gICAgICAgICAgICAvLyBQcm9jZXNzIG5leHQgaW4gcXVldWUgYWZ0ZXIgYSBzaG9ydCBkZWxheVxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubm90aWZpY2F0aW9uUXVldWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ub3RpZmljYXRpb25RdWV1ZS5wcm9jZXNzUXVldWUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAzMDApO1xuICAgICAgICB9O1xuICAgIH0sXG4gICAgXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyByZXNwb25zaXZlIGRlc2lnbiB1dGlsaXRpZXNcbiAgICAgKi9cbiAgICBnZXRSZXNwb25zaXZlQ29uZmlnKCkge1xuICAgICAgICBjb25zdCB3aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlzTW9iaWxlOiB3aWR0aCA8IDc2OCxcbiAgICAgICAgICAgIGlzVGFibGV0OiB3aWR0aCA+PSA3NjggJiYgd2lkdGggPCAxMDI0LFxuICAgICAgICAgICAgaXNEZXNrdG9wOiB3aWR0aCA+PSAxMDI0LFxuICAgICAgICAgICAgbm90aWZpY2F0aW9uUG9zaXRpb246IHdpZHRoIDwgNzY4ID8gJ2JvdHRvbS1jZW50ZXInIDogJ3RvcC1yaWdodCcsXG4gICAgICAgICAgICBtb2RhbFNpemU6IHdpZHRoIDwgNjQwID8gJ2Z1bGwnIDogJ21lZGl1bScsXG4gICAgICAgICAgICBtYXhOb3RpZmljYXRpb25zOiB3aWR0aCA8IDc2OCA/IDIgOiAzXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBcbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHJlc3BvbnNpdmUgc3R5bGVzXG4gICAgICovXG4gICAgYXBwbHlSZXNwb25zaXZlU3R5bGVzKCkge1xuICAgICAgICBjb25zdCBjb25maWcgPSB0aGlzLmdldFJlc3BvbnNpdmVDb25maWcoKTtcbiAgICAgICAgY29uc3Qgcm9vdCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgXG4gICAgICAgIHJvb3Quc3R5bGUuc2V0UHJvcGVydHkoJy0tbm90aWZpY2F0aW9uLXBvc2l0aW9uJywgY29uZmlnLm5vdGlmaWNhdGlvblBvc2l0aW9uKTtcbiAgICAgICAgcm9vdC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1tb2RhbC1zaXplJywgY29uZmlnLm1vZGFsU2l6ZSk7XG4gICAgICAgIHJvb3Quc3R5bGUuc2V0UHJvcGVydHkoJy0tbWF4LW5vdGlmaWNhdGlvbnMnLCBjb25maWcubWF4Tm90aWZpY2F0aW9ucyk7XG4gICAgICAgIFxuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC50b2dnbGUoJ21vYmlsZS1sYXlvdXQnLCBjb25maWcuaXNNb2JpbGUpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC50b2dnbGUoJ3RhYmxldC1sYXlvdXQnLCBjb25maWcuaXNUYWJsZXQpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC50b2dnbGUoJ2Rlc2t0b3AtbGF5b3V0JywgY29uZmlnLmlzRGVza3RvcCk7XG4gICAgfVxufTtcblxuLy8gRXhwb3J0IGZvciB1c2UgaW4gb3RoZXIgbW9kdWxlc1xuaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSB7IHB3YVVJIH07XG59IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgd2luZG93LnB3YVVJID0gcHdhVUk7XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTUEsS0FBSyxHQUFHO0VBQ1Y7QUFDSjtBQUNBO0VBQ0lDLGdCQUFnQkEsQ0FBQ0MsS0FBSyxFQUFFQyxPQUFPLEVBQUVDLElBQUksR0FBRyxNQUFNLEVBQUVDLE9BQU8sR0FBRyxDQUFDLENBQUMsRUFBRTtJQUMxRCxNQUFNO01BQ0ZDLFFBQVEsR0FBRyxJQUFJO01BQ2ZDLFFBQVEsR0FBRyxXQUFXO01BQ3RCQyxXQUFXLEdBQUcsSUFBSTtNQUNsQkMsU0FBUyxHQUFHO0lBQ2hCLENBQUMsR0FBR0osT0FBTztJQUVYLE1BQU1LLEtBQUssR0FBRyxJQUFJLENBQUNDLHlCQUF5QixDQUFDVCxLQUFLLEVBQUVDLE9BQU8sRUFBRUMsSUFBSSxFQUFFSyxTQUFTLEVBQUVELFdBQVcsQ0FBQztJQUMxRixJQUFJLENBQUNJLG9CQUFvQixDQUFDRixLQUFLLEVBQUVILFFBQVEsQ0FBQztJQUUxQ00sUUFBUSxDQUFDQyxJQUFJLENBQUNDLFdBQVcsQ0FBQ0wsS0FBSyxDQUFDOztJQUVoQztJQUNBTSxVQUFVLENBQUMsTUFBTU4sS0FBSyxDQUFDTyxTQUFTLENBQUNDLEdBQUcsQ0FBQyxjQUFjLENBQUMsRUFBRSxHQUFHLENBQUM7O0lBRTFEO0lBQ0EsSUFBSVosUUFBUSxHQUFHLENBQUMsRUFBRTtNQUNkVSxVQUFVLENBQUMsTUFBTSxJQUFJLENBQUNHLGtCQUFrQixDQUFDVCxLQUFLLENBQUMsRUFBRUosUUFBUSxDQUFDO0lBQzlEO0lBRUEsT0FBTztNQUNIYyxPQUFPLEVBQUVWLEtBQUs7TUFDZFcsTUFBTSxFQUFFQSxD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