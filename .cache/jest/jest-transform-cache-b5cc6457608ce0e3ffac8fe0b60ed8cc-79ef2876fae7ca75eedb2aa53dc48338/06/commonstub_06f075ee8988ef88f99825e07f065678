16a18226a42df8e039cb1d989dc3359d
/**
 * Common Stub Factory for Alpine.js Components
 * 
 * Provides a centralized way to create stub components with safe defaults
 * for all common properties used across the LoRA Manager frontend.
 * 
 * This module is used by the component loader to create placeholder
 * components before real implementations are loaded.
 */

/**
 * Creates a common stub object with all typical properties and safe defaults.
 * 
 * @param {string} componentName - Name of the component (for debugging)
 * @returns {Object} Stub object with common properties and no-op methods
 */
function getCommonStub(componentName) {
  const stub = {
    init() {
      // Default initialization - can be overridden by real components
    }
  };

  // Basic UI state management
  stub.isLoading = false;
  stub.loading = false; // some templates reference `loading` directly
  stub.hasError = false;
  stub.errorMessage = '';

  // Data collections and selections
  stub.selectedLoras = [];
  stub.availableLoras = [];
  stub.availableTags = [];
  stub.selectedLoraId = '';
  stub.selectedLora = null;

  // Recommendation engine defaults
  stub.weights = {
    semantic: 0.6,
    artistic: 0.3,
    technical: 0.1
  };
  stub.similarityLimit = 10;
  stub.similarityThreshold = 0.1;

  // Prompt management
  stub.promptText = '';
  stub.promptLimit = 10;
  stub.promptIncludeInactive = false;
  stub.promptSuggestions = [];

  // Embedding and indexing state
  stub.embeddingProgress = 0;
  stub.embeddingStatus = '';
  stub.computingEmbeddings = false;
  stub.rebuildingIndex = false;

  // UI state and navigation
  stub.activeTab = 'default';
  stub.bulkMode = false;
  stub.viewMode = 'grid';
  stub.searchTerm = '';
  stub.showAllTags = false;
  stub.sortBy = 'created_at';

  // Filter configuration
  stub.filters = {
    activeOnly: false,
    hasEmbeddings: false,
    tags: [],
    sortBy: stub.sortBy
  };

  // Selection and bulk operations
  stub.selectedItems = [];
  stub.selectAll = false;
  stub.allSelected = false;

  // Results and pagination
  stub.results = [];
  stub.filteredResults = [];
  stub.currentPage = 1;
  stub.pageSize = 50;
  stub.hasMore = false;

  // Import/Export configuration
  stub.exportConfig = {
    loras: false,
    lora_files: false,
    lora_metadata: false,
    lora_embeddings: false,
    generations: false,
    generation_range: 'all',
    date_from: '',
    date_to: '',
    user_data: false,
    system_config: false,
    analytics: false,
    format: 'zip',
    compression: 'balanced',
    split_archives: false,
    max_size_mb: 1024,
    encrypt: false,
    password: ''
  };
  stub.importConfig = {
    mode: 'merge',
    conflict_resolution: 'ask',
    validate: true,
    backup_before: true,
    password: ''
  };
  stub.migrationConfig = {
    from_version: '',
    to_version: '',
    source_platform: '',
    source_path: ''
  };

  // Operation states
  stub.isExporting = false;
  stub.isImporting = false;
  stub.estimatedSize = '0 MB';
  stub.estimatedTime = '0 minutes';
  stub.importFiles = [];
  stub.importPreview = [];
  stub.backupHistory = [];
  stub.hasEncryptedFiles = false;

  // Progress tracking
  stub.showProgress = false;
  stub.progressTitle = '';
  stub.progressStep = '';
  stub.progressPercent = 0;
  stub.progressMessages = [];
  stub.migrationProgress = {
    active: false,
    current_step: '',
    completed: 0,
    total: 100,
    status: 'idle',
    logs: []
  };

  // Toast notifications
  stub.showToast = false;
  stub.toastMessage = '';
  stub.toastType = 'success';

  // System admin specific
  stub.systemStatus = {
    overall: 'healthy',
    last_check: new Date().toISOString()
  };
  stub.systemStats = {
    uptime: '0d 0h 0m',
    active_workers: 0,
    total_workers: 0,
    database_size: 0,
    total_records: 0,
    gpu_memory_used: '0GB',
    gpu_memory_total: '0GB'
  };
  stub.systemMetrics = {
    cpu_percent: 0,
    memory_percent: 0,
    memory_used: 0,
    disk_percent: 0,
    disk_used: 0,
    gpus: []
  };
  stub.workers = [];
  stub.dbStats = {
    total_loras: 0,
    total_generations: 0,
    database_size: 0
  };

  // Create no-op helper functions for common actions
  // Real components will override these with actual implementations
  const noOpMethods = ['loadAvailableLoras', 'loadSelectedLora', 'updateRecommendations', 'searchByPrompt', 'resetWeights', 'computeAllEmbeddings', 'rebuildIndex', 'viewHealthReport', 'loadBackupHistory', 'updateEstimates', 'canExport', 'validateExport', 'startExport', 'startImport', 'formatFileSize', 'generateImportPreview', 'showSuccess', 'handleError', 'refresh', 'toggleTab', 'selectItem', 'clearSelection', 'applyFilters', 'resetFilters', 'search', 'loadMore', 'save', 'cancel', 'close'];

  // Add no-op methods to stub
  noOpMethods.forEach(methodName => {
    stub[methodName] = function (...args) {
      // Silent no-op - real component will override
      if (window.DevLogger && window.DevLogger.debug) {
        window.DevLogger.debug(`Stub method called: ${componentName}.${methodName}`, args);
      }
    };
  });
  return stub;
}

// Export for use in other modules
if (typeof module !== 'undefined' && module.exports) {
  module.exports = {
    getCommonStub
  };
} else if (typeof window !== 'undefined') {
  window.getCommonStub = getCommonStub;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnZXRDb21tb25TdHViIiwiY29tcG9uZW50TmFtZSIsInN0dWIiLCJpbml0IiwiaXNMb2FkaW5nIiwibG9hZGluZyIsImhhc0Vycm9yIiwiZXJyb3JNZXNzYWdlIiwic2VsZWN0ZWRMb3JhcyIsImF2YWlsYWJsZUxvcmFzIiwiYXZhaWxhYmxlVGFncyIsInNlbGVjdGVkTG9yYUlkIiwic2VsZWN0ZWRMb3JhIiwid2VpZ2h0cyIsInNlbWFudGljIiwiYXJ0aXN0aWMiLCJ0ZWNobmljYWwiLCJzaW1pbGFyaXR5TGltaXQiLCJzaW1pbGFyaXR5VGhyZXNob2xkIiwicHJvbXB0VGV4dCIsInByb21wdExpbWl0IiwicHJvbXB0SW5jbHVkZUluYWN0aXZlIiwicHJvbXB0U3VnZ2VzdGlvbnMiLCJlbWJlZGRpbmdQcm9ncmVzcyIsImVtYmVkZGluZ1N0YXR1cyIsImNvbXB1dGluZ0VtYmVkZGluZ3MiLCJyZWJ1aWxkaW5nSW5kZXgiLCJhY3RpdmVUYWIiLCJidWxrTW9kZSIsInZpZXdNb2RlIiwic2VhcmNoVGVybSIsInNob3dBbGxUYWdzIiwic29ydEJ5IiwiZmlsdGVycyIsImFjdGl2ZU9ubHkiLCJoYXNFbWJlZGRpbmdzIiwidGFncyIsInNlbGVjdGVkSXRlbXMiLCJzZWxlY3RBbGwiLCJhbGxTZWxlY3RlZCIsInJlc3VsdHMiLCJmaWx0ZXJlZFJlc3VsdHMiLCJjdXJyZW50UGFnZSIsInBhZ2VTaXplIiwiaGFzTW9yZSIsImV4cG9ydENvbmZpZyIsImxvcmFzIiwibG9yYV9maWxlcyIsImxvcmFfbWV0YWRhdGEiLCJsb3JhX2VtYmVkZGluZ3MiLCJnZW5lcmF0aW9ucyIsImdlbmVyYXRpb25fcmFuZ2UiLCJkYXRlX2Zyb20iLCJkYXRlX3RvIiwidXNlcl9kYXRhIiwic3lzdGVtX2NvbmZpZyIsImFuYWx5dGljcyIsImZvcm1hdCIsImNvbXByZXNzaW9uIiwic3BsaXRfYXJjaGl2ZXMiLCJtYXhfc2l6ZV9tYiIsImVuY3J5cHQiLCJwYXNzd29yZCIsImltcG9ydENvbmZpZyIsIm1vZGUiLCJjb25mbGljdF9yZXNvbHV0aW9uIiwidmFsaWRhdGUiLCJiYWNrdXBfYmVmb3JlIiwibWlncmF0aW9uQ29uZmlnIiwiZnJvbV92ZXJzaW9uIiwidG9fdmVyc2lvbiIsInNvdXJjZV9wbGF0Zm9ybSIsInNvdXJjZV9wYXRoIiwiaXNFeHBvcnRpbmciLCJpc0ltcG9ydGluZyIsImVzdGltYXRlZFNpemUiLCJlc3RpbWF0ZWRUaW1lIiwiaW1wb3J0RmlsZXMiLCJpbXBvcnRQcmV2aWV3IiwiYmFja3VwSGlzdG9yeSIsImhhc0VuY3J5cHRlZEZpbGVzIiwic2hvd1Byb2dyZXNzIiwicHJvZ3Jlc3NUaXRsZSIsInByb2dyZXNzU3RlcCIsInByb2dyZXNzUGVyY2VudCIsInByb2dyZXNzTWVzc2FnZXMiLCJtaWdyYXRpb25Qcm9ncmVzcyIsImFjdGl2ZSIsImN1cnJlbnRfc3RlcCIsImNvbXBsZXRlZCIsInRvdGFsIiwic3RhdHVzIiwibG9ncyIsInNob3dUb2FzdCIsInRvYXN0TWVzc2FnZSIsInRvYXN0VHlwZSIsInN5c3RlbVN0YXR1cyIsIm92ZXJhbGwiLCJsYXN0X2NoZWNrIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwic3lzdGVtU3RhdHMiLCJ1cHRpbWUiLCJhY3RpdmVfd29ya2VycyIsInRvdGFsX3dvcmtlcnMiLCJkYXRhYmFzZV9zaXplIiwidG90YWxfcmVjb3JkcyIsImdwdV9tZW1vcnlfdXNlZCIsImdwdV9tZW1vcnlfdG90YWwiLCJzeXN0ZW1NZXRyaWNzIiwiY3B1X3BlcmNlbnQiLCJtZW1vcnlfcGVyY2VudCIsIm1lbW9yeV91c2VkIiwiZGlza19wZXJjZW50IiwiZGlza191c2VkIiwiZ3B1cyIsIndvcmtlcnMiLCJkYlN0YXRzIiwidG90YWxfbG9yYXMiLCJ0b3RhbF9nZW5lcmF0aW9ucyIsIm5vT3BNZXRob2RzIiwiZm9yRWFjaCIsIm1ldGhvZE5hbWUiLCJhcmdzIiwid2luZG93IiwiRGV2TG9nZ2VyIiwiZGVidWciLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiY29tbW9uLXN0dWIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb21tb24gU3R1YiBGYWN0b3J5IGZvciBBbHBpbmUuanMgQ29tcG9uZW50c1xuICogXG4gKiBQcm92aWRlcyBhIGNlbnRyYWxpemVkIHdheSB0byBjcmVhdGUgc3R1YiBjb21wb25lbnRzIHdpdGggc2FmZSBkZWZhdWx0c1xuICogZm9yIGFsbCBjb21tb24gcHJvcGVydGllcyB1c2VkIGFjcm9zcyB0aGUgTG9SQSBNYW5hZ2VyIGZyb250ZW5kLlxuICogXG4gKiBUaGlzIG1vZHVsZSBpcyB1c2VkIGJ5IHRoZSBjb21wb25lbnQgbG9hZGVyIHRvIGNyZWF0ZSBwbGFjZWhvbGRlclxuICogY29tcG9uZW50cyBiZWZvcmUgcmVhbCBpbXBsZW1lbnRhdGlvbnMgYXJlIGxvYWRlZC5cbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgYSBjb21tb24gc3R1YiBvYmplY3Qgd2l0aCBhbGwgdHlwaWNhbCBwcm9wZXJ0aWVzIGFuZCBzYWZlIGRlZmF1bHRzLlxuICogXG4gKiBAcGFyYW0ge3N0cmluZ30gY29tcG9uZW50TmFtZSAtIE5hbWUgb2YgdGhlIGNvbXBvbmVudCAoZm9yIGRlYnVnZ2luZylcbiAqIEByZXR1cm5zIHtPYmplY3R9IFN0dWIgb2JqZWN0IHdpdGggY29tbW9uIHByb3BlcnRpZXMgYW5kIG5vLW9wIG1ldGhvZHNcbiAqL1xuZnVuY3Rpb24gZ2V0Q29tbW9uU3R1Yihjb21wb25lbnROYW1lKSB7XG4gICAgY29uc3Qgc3R1YiA9IHsgXG4gICAgICAgIGluaXQoKSB7XG4gICAgICAgICAgICAvLyBEZWZhdWx0IGluaXRpYWxpemF0aW9uIC0gY2FuIGJlIG92ZXJyaWRkZW4gYnkgcmVhbCBjb21wb25lbnRzXG4gICAgICAgIH0gXG4gICAgfTtcblxuICAgIC8vIEJhc2ljIFVJIHN0YXRlIG1hbmFnZW1lbnRcbiAgICBzdHViLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgIHN0dWIubG9hZGluZyA9IGZhbHNlOyAvLyBzb21lIHRlbXBsYXRlcyByZWZlcmVuY2UgYGxvYWRpbmdgIGRpcmVjdGx5XG4gICAgc3R1Yi5oYXNFcnJvciA9IGZhbHNlO1xuICAgIHN0dWIuZXJyb3JNZXNzYWdlID0gJyc7XG5cbiAgICAvLyBEYXRhIGNvbGxlY3Rpb25zIGFuZCBzZWxlY3Rpb25zXG4gICAgc3R1Yi5zZWxlY3RlZExvcmFzID0gW107XG4gICAgc3R1Yi5hdmFpbGFibGVMb3JhcyA9IFtdO1xuICAgIHN0dWIuYXZhaWxhYmxlVGFncyA9IFtdO1xuICAgIHN0dWIuc2VsZWN0ZWRMb3JhSWQgPSAnJztcbiAgICBzdHViLnNlbGVjdGVkTG9yYSA9IG51bGw7XG5cbiAgICAvLyBSZWNvbW1lbmRhdGlvbiBlbmdpbmUgZGVmYXVsdHNcbiAgICBzdHViLndlaWdodHMgPSB7IFxuICAgICAgICBzZW1hbnRpYzogMC42LCBcbiAgICAgICAgYXJ0aXN0aWM6IDAuMywgXG4gICAgICAgIHRlY2huaWNhbDogMC4xIFxuICAgIH07XG4gICAgc3R1Yi5zaW1pbGFyaXR5TGltaXQgPSAxMDtcbiAgICBzdHViLnNpbWlsYXJpdHlUaHJlc2hvbGQgPSAwLjE7XG5cbiAgICAvLyBQcm9tcHQgbWFuYWdlbWVudFxuICAgIHN0dWIucHJvbXB0VGV4dCA9ICcnO1xuICAgIHN0dWIucHJvbXB0TGltaXQgPSAxMDtcbiAgICBzdHViLnByb21wdEluY2x1ZGVJbmFjdGl2ZSA9IGZhbHNlO1xuICAgIHN0dWIucHJvbXB0U3VnZ2VzdGlvbnMgPSBbXTtcblxuICAgIC8vIEVtYmVkZGluZyBhbmQgaW5kZXhpbmcgc3RhdGVcbiAgICBzdHViLmVtYmVkZGluZ1Byb2dyZXNzID0gMDtcbiAgICBzdHViLmVtYmVkZGluZ1N0YXR1cyA9ICcnO1xuICAgIHN0dWIuY29tcHV0aW5nRW1iZWRkaW5ncyA9IGZhbHNlO1xuICAgIHN0dWIucmVidWlsZGluZ0luZGV4ID0gZmFsc2U7XG5cbiAgICAvLyBVSSBzdGF0ZSBhbmQgbmF2aWdhdGlvblxuICAgIHN0dWIuYWN0aXZlVGFiID0gJ2RlZmF1bHQnO1xuICAgIHN0dWIuYnVsa01vZGUgPSBmYWxzZTtcbiAgICBzdHViLnZpZXdNb2RlID0gJ2dyaWQnO1xuICAgIHN0dWIuc2VhcmNoVGVybSA9ICcnO1xuICAgIHN0dWIuc2hvd0FsbFRhZ3MgPSBmYWxzZTtcbiAgICBzdHViLnNvcnRCeSA9ICdjcmVhdGVkX2F0JztcblxuICAgIC8vIEZpbHRlciBjb25maWd1cmF0aW9uXG4gICAgc3R1Yi5maWx0ZXJzID0ge1xuICAgICAgICBhY3RpdmVPbmx5OiBmYWxzZSxcbiAgICAgICAgaGFzRW1iZWRkaW5nczogZmFsc2UsXG4gICAgICAgIHRhZ3M6IFtdLFxuICAgICAgICBzb3J0Qnk6IHN0dWIuc29ydEJ5XG4gICAgfTtcblxuICAgIC8vIFNlbGVjdGlvbiBhbmQgYnVsayBvcGVyYXRpb25zXG4gICAgc3R1Yi5zZWxlY3RlZEl0ZW1zID0gW107XG4gICAgc3R1Yi5zZWxlY3RBbGwgPSBmYWxzZTtcbiAgICBzdHViLmFsbFNlbGVjdGVkID0gZmFsc2U7XG5cbiAgICAvLyBSZXN1bHRzIGFuZCBwYWdpbmF0aW9uXG4gICAgc3R1Yi5yZXN1bHRzID0gW107XG4gICAgc3R1Yi5maWx0ZXJlZFJlc3VsdHMgPSBbXTtcbiAgICBzdHViLmN1cnJlbnRQYWdlID0gMTtcbiAgICBzdHViLnBhZ2VTaXplID0gNTA7XG4gICAgc3R1Yi5oYXNNb3JlID0gZmFsc2U7XG5cbiAgICAvLyBJbXBvcnQvRXhwb3J0IGNvbmZpZ3VyYXRpb25cbiAgICBzdHViLmV4cG9ydENvbmZpZyA9IHtcbiAgICAgICAgbG9yYXM6IGZhbHNlLFxuICAgICAgICBsb3JhX2ZpbGVzOiBmYWxzZSxcbiAgICAgICAgbG9yYV9tZXRhZGF0YTogZmFsc2UsXG4gICAgICAgIGxvcmFfZW1iZWRkaW5nczogZmFsc2UsXG4gICAgICAgIGdlbmVyYXRpb25zOiBmYWxzZSxcbiAgICAgICAgZ2VuZXJhdGlvbl9yYW5nZTogJ2FsbCcsXG4gICAgICAgIGRhdGVfZnJvbTogJycsXG4gICAgICAgIGRhdGVfdG86ICcnLFxuICAgICAgICB1c2VyX2RhdGE6IGZhbHNlLFxuICAgICAgICBzeXN0ZW1fY29uZmlnOiBmYWxzZSxcbiAgICAgICAgYW5hbHl0aWNzOiBmYWxzZSxcbiAgICAgICAgZm9ybWF0OiAnemlwJyxcbiAgICAgICAgY29tcHJlc3Npb246ICdiYWxhbmNlZCcsXG4gICAgICAgIHNwbGl0X2FyY2hpdmVzOiBmYWxzZSxcbiAgICAgICAgbWF4X3NpemVfbWI6IDEwMjQsXG4gICAgICAgIGVuY3J5cHQ6IGZhbHNlLFxuICAgICAgICBwYXNzd29yZDogJydcbiAgICB9O1xuXG4gICAgc3R1Yi5pbXBvcnRDb25maWcgPSB7XG4gICAgICAgIG1vZGU6ICdtZXJnZScsXG4gICAgICAgIGNvbmZsaWN0X3Jlc29sdXRpb246ICdhc2snLFxuICAgICAgICB2YWxpZGF0ZTogdHJ1ZSxcbiAgICAgICAgYmFja3VwX2JlZm9yZTogdHJ1ZSxcbiAgICAgICAgcGFzc3dvcmQ6ICcnXG4gICAgfTtcblxuICAgIHN0dWIubWlncmF0aW9uQ29uZmlnID0ge1xuICAgICAgICBmcm9tX3ZlcnNpb246ICcnLFxuICAgICAgICB0b192ZXJzaW9uOiAnJyxcbiAgICAgICAgc291cmNlX3BsYXRmb3JtOiAnJyxcbiAgICAgICAgc291cmNlX3BhdGg6ICcnXG4gICAgfTtcblxuICAgIC8vIE9wZXJhdGlvbiBzdGF0ZXNcbiAgICBzdHViLmlzRXhwb3J0aW5nID0gZmFsc2U7XG4gICAgc3R1Yi5pc0ltcG9ydGluZyA9IGZhbHNlO1xuICAgIHN0dWIuZXN0aW1hdGVkU2l6ZSA9ICcwIE1CJztcbiAgICBzdHViLmVzdGltYXRlZFRpbWUgPSAnMCBtaW51dGVzJztcbiAgICBzdHViLmltcG9ydEZpbGVzID0gW107XG4gICAgc3R1Yi5pbXBvcnRQcmV2aWV3ID0gW107XG4gICAgc3R1Yi5iYWNrdXBIaXN0b3J5ID0gW107XG4gICAgc3R1Yi5oYXNFbmNyeXB0ZWRGaWxlcyA9IGZhbHNlO1xuXG4gICAgLy8gUHJvZ3Jlc3MgdHJhY2tpbmdcbiAgICBzdHViLnNob3dQcm9ncmVzcyA9IGZhbHNlO1xuICAgIHN0dWIucHJvZ3Jlc3NUaXRsZSA9ICcnO1xuICAgIHN0dWIucHJvZ3Jlc3NTdGVwID0gJyc7XG4gICAgc3R1Yi5wcm9ncmVzc1BlcmNlbnQgPSAwO1xuICAgIHN0dWIucHJvZ3Jlc3NNZXNzYWdlcyA9IFtdO1xuICAgIFxuICAgIHN0dWIubWlncmF0aW9uUHJvZ3Jlc3MgPSB7XG4gICAgICAgIGFjdGl2ZTogZmFsc2UsXG4gICAgICAgIGN1cnJlbnRfc3RlcDogJycsXG4gICAgICAgIGNvbXBsZXRlZDogMCxcbiAgICAgICAgdG90YWw6IDEwMCxcbiAgICAgICAgc3RhdHVzOiAnaWRsZScsXG4gICAgICAgIGxvZ3M6IFtdXG4gICAgfTtcblxuICAgIC8vIFRvYXN0IG5vdGlmaWNhdGlvbnNcbiAgICBzdHViLnNob3dUb2FzdCA9IGZhbHNlO1xuICAgIHN0dWIudG9hc3RNZXNzYWdlID0gJyc7XG4gICAgc3R1Yi50b2FzdFR5cGUgPSAnc3VjY2Vzcyc7XG5cbiAgICAvLyBTeXN0ZW0gYWRtaW4gc3BlY2lmaWNcbiAgICBzdHViLnN5c3RlbVN0YXR1cyA9IHtcbiAgICAgICAgb3ZlcmFsbDogJ2hlYWx0aHknLFxuICAgICAgICBsYXN0X2NoZWNrOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICB9O1xuXG4gICAgc3R1Yi5zeXN0ZW1TdGF0cyA9IHtcbiAgICAgICAgdXB0aW1lOiAnMGQgMGggMG0nLFxuICAgICAgICBhY3RpdmVfd29ya2VyczogMCxcbiAgICAgICAgdG90YWxfd29ya2VyczogMCxcbiAgICAgICAgZGF0YWJhc2Vfc2l6ZTogMCxcbiAgICAgICAgdG90YWxfcmVjb3JkczogMCxcbiAgICAgICAgZ3B1X21lbW9yeV91c2VkOiAnMEdCJyxcbiAgICAgICAgZ3B1X21lbW9yeV90b3RhbDogJzBHQidcbiAgICB9O1xuXG4gICAgc3R1Yi5zeXN0ZW1NZXRyaWNzID0ge1xuICAgICAgICBjcHVfcGVyY2VudDogMCxcbiAgICAgICAgbWVtb3J5X3BlcmNlbnQ6IDAsXG4gICAgICAgIG1lbW9yeV91c2VkOiAwLFxuICAgICAgICBkaXNrX3BlcmNlbnQ6IDAsXG4gICAgICAgIGRpc2tfdXNlZDogMCxcbiAgICAgICAgZ3B1czogW11cbiAgICB9O1xuXG4gICAgc3R1Yi53b3JrZXJzID0gW107XG4gICAgc3R1Yi5kYlN0YXRzID0ge1xuICAgICAgICB0b3RhbF9sb3JhczogMCxcbiAgICAgICAgdG90YWxfZ2VuZXJhdGlvbnM6IDAsXG4gICAgICAgIGRhdGFiYXNlX3NpemU6IDBcbiAgICB9O1xuXG4gICAgLy8gQ3JlYXRlIG5vLW9wIGhlbHBlciBmdW5jdGlvbnMgZm9yIGNvbW1vbiBhY3Rpb25zXG4gICAgLy8gUmVhbCBjb21wb25lbnRzIHdpbGwgb3ZlcnJpZGUgdGhlc2Ugd2l0aCBhY3R1YWwgaW1wbGVtZW50YXRpb25zXG4gICAgY29uc3Qgbm9PcE1ldGhvZHMgPSBbXG4gICAgICAgICdsb2FkQXZhaWxhYmxlTG9yYXMnLFxuICAgICAgICAnbG9hZFNlbGVjdGVkTG9yYScsXG4gICAgICAgICd1cGRhdGVSZWNvbW1lbmRhdGlvbnMnLFxuICAgICAgICAnc2VhcmNoQnlQcm9tcHQnLFxuICAgICAgICAncmVzZXRXZWlnaHRzJyxcbiAgICAgICAgJ2NvbXB1dGVBbGxFbWJlZGRpbmdzJyxcbiAgICAgICAgJ3JlYnVpbGRJbmRleCcsXG4gICAgICAgICd2aWV3SGVhbHRoUmVwb3J0JyxcbiAgICAgICAgJ2xvYWRCYWNrdXBIaXN0b3J5JyxcbiAgICAgICAgJ3VwZGF0ZUVzdGltYXRlcycsXG4gICAgICAgICdjYW5FeHBvcnQnLFxuICAgICAgICAndmFsaWRhdGVFeHBvcnQnLFxuICAgICAgICAnc3RhcnRFeHBvcnQnLFxuICAgICAgICAnc3RhcnRJbXBvcnQnLFxuICAgICAgICAnZm9ybWF0RmlsZVNpemUnLFxuICAgICAgICAnZ2VuZXJhdGVJbXBvcnRQcmV2aWV3JyxcbiAgICAgICAgJ3Nob3dTdWNjZXNzJyxcbiAgICAgICAgJ2hhbmRsZUVycm9yJyxcbiAgICAgICAgJ3JlZnJlc2gnLFxuICAgICAgICAndG9nZ2xlVGFiJyxcbiAgICAgICAgJ3NlbGVjdEl0ZW0nLFxuICAgICAgICAnY2xlYXJTZWxlY3Rpb24nLFxuICAgICAgICAnYXBwbHlGaWx0ZXJzJyxcbiAgICAgICAgJ3Jlc2V0RmlsdGVycycsXG4gICAgICAgICdzZWFyY2gnLFxuICAgICAgICAnbG9hZE1vcmUnLFxuICAgICAgICAnc2F2ZScsXG4gICAgICAgICdjYW5jZWwnLFxuICAgICAgICAnY2xvc2UnXG4gICAgXTtcblxuICAgIC8vIEFkZCBuby1vcCBtZXRob2RzIHRvIHN0dWJcbiAgICBub09wTWV0aG9kcy5mb3JFYWNoKG1ldGhvZE5hbWUgPT4ge1xuICAgICAgICBzdHViW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oLi4uYXJncykge1xuICAgICAgICAgICAgLy8gU2lsZW50IG5vLW9wIC0gcmVhbCBjb21wb25lbnQgd2lsbCBvdmVycmlkZVxuICAgICAgICAgICAgaWYgKHdpbmRvdy5EZXZMb2dnZXIgJiYgd2luZG93LkRldkxvZ2dlci5kZWJ1Zykge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5EZXZMb2dnZXIuZGVidWcoYFN0dWIgbWV0aG9kIGNhbGxlZDogJHtjb21wb25lbnROYW1lfS4ke21ldGhvZE5hbWV9YCwgYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfSk7XG5cbiAgICByZXR1cm4gc3R1Yjtcbn1cblxuLy8gRXhwb3J0IGZvciB1c2UgaW4gb3RoZXIgbW9kdWxlc1xuaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSB7IGdldENvbW1vblN0dWIgfTtcbn0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB3aW5kb3cuZ2V0Q29tbW9uU3R1YiA9IGdldENvbW1vblN0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