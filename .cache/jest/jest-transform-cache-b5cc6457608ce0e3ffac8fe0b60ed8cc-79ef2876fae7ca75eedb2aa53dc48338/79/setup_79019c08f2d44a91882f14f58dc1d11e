2130af4e35342fa6b0317238acca6fe3
/**
 * Jest Test Setup
 * Global test configuration and utilities
 */

require('@testing-library/jest-dom');

// Import API mocks for integration tests
require('./mocks/api-mocks');

// Mock Canvas for Chart.js
HTMLCanvasElement.prototype.getContext = jest.fn(() => ({
  fillRect: jest.fn(),
  clearRect: jest.fn(),
  getImageData: jest.fn(() => ({
    data: new Array(4)
  })),
  putImageData: jest.fn(),
  createImageData: jest.fn(() => []),
  setTransform: jest.fn(),
  drawImage: jest.fn(),
  save: jest.fn(),
  fillText: jest.fn(),
  restore: jest.fn(),
  beginPath: jest.fn(),
  moveTo: jest.fn(),
  lineTo: jest.fn(),
  closePath: jest.fn(),
  stroke: jest.fn(),
  translate: jest.fn(),
  scale: jest.fn(),
  rotate: jest.fn(),
  arc: jest.fn(),
  fill: jest.fn(),
  measureText: jest.fn(() => ({
    width: 0
  })),
  transform: jest.fn(),
  rect: jest.fn(),
  clip: jest.fn()
}));
HTMLCanvasElement.prototype.toDataURL = jest.fn(() => 'data:image/png;base64,mock');
HTMLCanvasElement.prototype.getBoundingClientRect = jest.fn(() => ({
  width: 300,
  height: 150,
  top: 0,
  left: 0,
  bottom: 150,
  right: 300
}));

// Mock Alpine.js for testing
global.Alpine = {
  data: jest.fn(),
  store: jest.fn(),
  start: jest.fn(),
  $data: jest.fn(),
  version: '3.13.3'
};

// Mock HTMX for testing
global.htmx = {
  process: jest.fn(),
  ajax: jest.fn(),
  trigger: jest.fn(),
  remove: jest.fn(),
  addClass: jest.fn(),
  removeClass: jest.fn(),
  find: jest.fn()
};

// Mock Chart.js for testing
global.Chart = {
  register: jest.fn(),
  getChart: jest.fn(),
  defaults: {
    responsive: true,
    maintainAspectRatio: false
  }
};

// Mock service worker for PWA tests
global.navigator.serviceWorker = {
  register: jest.fn(() => Promise.resolve({
    installing: null,
    waiting: null,
    active: {
      postMessage: jest.fn()
    },
    addEventListener: jest.fn(),
    update: jest.fn(() => Promise.resolve())
  })),
  ready: Promise.resolve({
    installing: null,
    waiting: null,
    active: {
      postMessage: jest.fn()
    }
  }),
  controller: null,
  addEventListener: jest.fn()
};

// Mock online/offline status
Object.defineProperty(global.navigator, 'onLine', {
  writable: true,
  value: true
});

// Mock vibration API
global.navigator.vibrate = jest.fn();

// Mock intersection observer
global.IntersectionObserver = jest.fn(() => ({
  observe: jest.fn(),
  unobserve: jest.fn(),
  disconnect: jest.fn()
}));

// Mock resize observer
global.ResizeObserver = jest.fn(() => ({
  observe: jest.fn(),
  unobserve: jest.fn(),
  disconnect: jest.fn()
}));

// Mock fetch for API tests
global.fetch = jest.fn();

// Mock local storage
const localStorageMock = {
  getItem: jest.fn(),
  setItem: jest.fn(),
  removeItem: jest.fn(),
  clear: jest.fn()
};
global.localStorage = localStorageMock;

// Mock session storage
const sessionStorageMock = {
  getItem: jest.fn(),
  setItem: jest.fn(),
  removeItem: jest.fn(),
  clear: jest.fn()
};
global.sessionStorage = sessionStorageMock;

// Mock window.matchMedia
global.matchMedia = jest.fn(query => ({
  matches: false,
  media: query,
  onchange: null,
  addListener: jest.fn(),
  removeListener: jest.fn(),
  addEventListener: jest.fn(),
  removeEventListener: jest.fn(),
  dispatchEvent: jest.fn()
}));

// Mock window.crypto for encryption tests
global.crypto = {
  getRandomValues: jest.fn(arr => {
    for (let i = 0; i < arr.length; i++) {
      arr[i] = Math.floor(Math.random() * 256);
    }
    return arr;
  }),
  subtle: {
    encrypt: jest.fn(),
    decrypt: jest.fn(),
    generateKey: jest.fn(),
    importKey: jest.fn(),
    exportKey: jest.fn()
  }
};

// Test utilities
global.testUtils = {
  // Create mock DOM element
  createMockElement: (tag = 'div', attributes = {}) => {
    const element = document.createElement(tag);
    Object.entries(attributes).forEach(([key, value]) => {
      element.setAttribute(key, value);
    });
    return element;
  },
  // Create mock Alpine component
  createMockAlpineComponent: (data = {}) => {
    return {
      ...data,
      $el: global.testUtils.createMockElement(),
      $watch: jest.fn(),
      $nextTick: jest.fn(callback => Promise.resolve().then(callback)),
      $dispatch: jest.fn()
    };
  },
  // Simulate user event
  simulateEvent: (element, eventType, eventData = {}) => {
    const event = new Event(eventType, {
      bubbles: true
    });
    Object.assign(event, eventData);
    element.dispatchEvent(event);
    return event;
  },
  // Wait for async operations
  waitFor: (condition, timeout = 5000) => {
    return new Promise((resolve, reject) => {
      const startTime = Date.now();
      const check = () => {
        if (condition()) {
          resolve();
        } else if (Date.now() - startTime > timeout) {
          reject(new Error('Timeout waiting for condition'));
        } else {
          setTimeout(check, 10);
        }
      };
      check();
    });
  },
  // Mock API response
  mockAPIResponse: (data, status = 200) => {
    return Promise.resolve({
      ok: status >= 200 && status < 300,
      status,
      json: () => Promise.resolve(data),
      text: () => Promise.resolve(JSON.stringify(data)),
      headers: new Headers()
    });
  },
  // Create test data
  createTestLoRA: (overrides = {}) => ({
    id: 'test-lora-1',
    name: 'Test LoRA',
    description: 'A test LoRA model',
    file_path: '/test/path/model.safetensors',
    file_size: 1024000,
    model_type: 'character',
    tags: ['test', 'character'],
    rating: 4.5,
    downloads: 1000,
    created_at: '2025-09-01T00:00:00Z',
    updated_at: '2025-09-03T00:00:00Z',
    ...overrides
  }),
  createTestGeneration: (overrides = {}) => ({
    id: 'test-gen-1',
    prompt: 'test prompt',
    negative_prompt: 'test negative',
    seed: 12345,
    steps: 20,
    cfg_scale: 7.5,
    width: 512,
    height: 512,
    sampler: 'DPM++ 2M Karras',
    loras: ['test-lora-1'],
    status: 'completed',
    created_at: '2025-09-03T00:00:00Z',
    completed_at: '2025-09-03T00:01:00Z',
    output_path: '/test/output/image.png',
    ...overrides
  })
};

// Console suppress for tests
const originalError = console.error;
beforeAll(() => {
  console.error = (...args) => {
    if (typeof args[0] === 'string' && args[0].includes('Warning: ReactDOM.render is no longer supported')) {
      return;
    }
    originalError.call(console, ...args);
  };
});
afterAll(() => {
  console.error = originalError;
});

// Clean up after each test
afterEach(() => {
  jest.clearAllMocks();
  document.body.innerHTML = '';
  localStorage.clear();
  sessionStorage.clear();
});

// Global test timeout
jest.setTimeout(10000);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiSFRNTENhbnZhc0VsZW1lbnQiLCJwcm90b3R5cGUiLCJnZXRDb250ZXh0IiwiamVzdCIsImZuIiwiZmlsbFJlY3QiLCJjbGVhclJlY3QiLCJnZXRJbWFnZURhdGEiLCJkYXRhIiwiQXJyYXkiLCJwdXRJbWFnZURhdGEiLCJjcmVhdGVJbWFnZURhdGEiLCJzZXRUcmFuc2Zvcm0iLCJkcmF3SW1hZ2UiLCJzYXZlIiwiZmlsbFRleHQiLCJyZXN0b3JlIiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwiY2xvc2VQYXRoIiwic3Ryb2tlIiwidHJhbnNsYXRlIiwic2NhbGUiLCJyb3RhdGUiLCJhcmMiLCJmaWxsIiwibWVhc3VyZVRleHQiLCJ3aWR0aCIsInRyYW5zZm9ybSIsInJlY3QiLCJjbGlwIiwidG9EYXRhVVJMIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiaGVpZ2h0IiwidG9wIiwibGVmdCIsImJvdHRvbSIsInJpZ2h0IiwiZ2xvYmFsIiwiQWxwaW5lIiwic3RvcmUiLCJzdGFydCIsIiRkYXRhIiwidmVyc2lvbiIsImh0bXgiLCJwcm9jZXNzIiwiYWpheCIsInRyaWdnZXIiLCJyZW1vdmUiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwiZmluZCIsIkNoYXJ0IiwicmVnaXN0ZXIiLCJnZXRDaGFydCIsImRlZmF1bHRzIiwicmVzcG9uc2l2ZSIsIm1haW50YWluQXNwZWN0UmF0aW8iLCJuYXZpZ2F0b3IiLCJzZXJ2aWNlV29ya2VyIiwiUHJvbWlzZSIsInJlc29sdmUiLCJpbnN0YWxsaW5nIiwid2FpdGluZyIsImFjdGl2ZSIsInBvc3RNZXNzYWdlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInVwZGF0ZSIsInJlYWR5IiwiY29udHJvbGxlciIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5Iiwid3JpdGFibGUiLCJ2YWx1ZSIsInZpYnJhdGUiLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsIm9ic2VydmUiLCJ1bm9ic2VydmUiLCJkaXNjb25uZWN0IiwiUmVzaXplT2JzZXJ2ZXIiLCJmZXRjaCIsImxvY2FsU3RvcmFnZU1vY2siLCJnZXRJdGVtIiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJjbGVhciIsImxvY2FsU3RvcmFnZSIsInNlc3Npb25TdG9yYWdlTW9jayIsInNlc3Npb25TdG9yYWdlIiwibWF0Y2hNZWRpYSIsInF1ZXJ5IiwibWF0Y2hlcyIsIm1lZGlhIiwib25jaGFuZ2UiLCJhZGRMaXN0ZW5lciIsInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRpc3BhdGNoRXZlbnQiLCJjcnlwdG8iLCJnZXRSYW5kb21WYWx1ZXMiLCJhcnIiLCJpIiwibGVuZ3RoIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwic3VidGxlIiwiZW5jcnlwdCIsImRlY3J5cHQiLCJnZW5lcmF0ZUtleSIsImltcG9ydEtleSIsImV4cG9ydEtleSIsInRlc3RVdGlscyIsImNyZWF0ZU1vY2tFbGVtZW50IiwidGFnIiwiYXR0cmlidXRlcyIsImVsZW1lbnQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJlbnRyaWVzIiwiZm9yRWFjaCIsImtleSIsInNldEF0dHJpYnV0ZSIsImNyZWF0ZU1vY2tBbHBpbmVDb21wb25lbnQiLCIkZWwiLCIkd2F0Y2giLCIkbmV4dFRpY2siLCJjYWxsYmFjayIsInRoZW4iLCIkZGlzcGF0Y2giLCJzaW11bGF0ZUV2ZW50IiwiZXZlbnRUeXBlIiwiZXZlbnREYXRhIiwiZXZlbnQiLCJFdmVudCIsImJ1YmJsZXMiLCJhc3NpZ24iLCJ3YWl0Rm9yIiwiY29uZGl0aW9uIiwidGltZW91dCIsInJlamVjdCIsInN0YXJ0VGltZSIsIkRhdGUiLCJub3ciLCJjaGVjayIsIkVycm9yIiwic2V0VGltZW91dCIsIm1vY2tBUElSZXNwb25zZSIsInN0YXR1cyIsIm9rIiwianNvbiIsInRleHQiLCJKU09OIiwic3RyaW5naWZ5IiwiaGVhZGVycyIsIkhlYWRlcnMiLCJjcmVhdGVUZXN0TG9SQSIsIm92ZXJyaWRlcyIsImlkIiwibmFtZSIsImRlc2NyaXB0aW9uIiwiZmlsZV9wYXRoIiwiZmlsZV9zaXplIiwibW9kZWxfdHlwZSIsInRhZ3MiLCJyYXRpbmciLCJkb3dubG9hZHMiLCJjcmVhdGVkX2F0IiwidXBkYXRlZF9hdCIsImNyZWF0ZVRlc3RHZW5lcmF0aW9uIiwicHJvbXB0IiwibmVnYXRpdmVfcHJvbXB0Iiwic2VlZCIsInN0ZXBzIiwiY2ZnX3NjYWxlIiwic2FtcGxlciIsImxvcmFzIiwiY29tcGxldGVkX2F0Iiwib3V0cHV0X3BhdGgiLCJvcmlnaW5hbEVycm9yIiwiY29uc29sZSIsImVycm9yIiwiYmVmb3JlQWxsIiwiYXJncyIsImluY2x1ZGVzIiwiY2FsbCIsImFmdGVyQWxsIiwiYWZ0ZXJFYWNoIiwiY2xlYXJBbGxNb2NrcyIsImJvZHkiLCJpbm5lckhUTUwiXSwic291cmNlcyI6WyJzZXR1cC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEplc3QgVGVzdCBTZXR1cFxuICogR2xvYmFsIHRlc3QgY29uZmlndXJhdGlvbiBhbmQgdXRpbGl0aWVzXG4gKi9cblxucmVxdWlyZSgnQHRlc3RpbmctbGlicmFyeS9qZXN0LWRvbScpO1xuXG4vLyBJbXBvcnQgQVBJIG1vY2tzIGZvciBpbnRlZ3JhdGlvbiB0ZXN0c1xucmVxdWlyZSgnLi9tb2Nrcy9hcGktbW9ja3MnKTtcblxuLy8gTW9jayBDYW52YXMgZm9yIENoYXJ0LmpzXG5IVE1MQ2FudmFzRWxlbWVudC5wcm90b3R5cGUuZ2V0Q29udGV4dCA9IGplc3QuZm4oKCkgPT4gKHtcbiAgICBmaWxsUmVjdDogamVzdC5mbigpLFxuICAgIGNsZWFyUmVjdDogamVzdC5mbigpLFxuICAgIGdldEltYWdlRGF0YTogamVzdC5mbigoKSA9PiAoe1xuICAgICAgICBkYXRhOiBuZXcgQXJyYXkoNClcbiAgICB9KSksXG4gICAgcHV0SW1hZ2VEYXRhOiBqZXN0LmZuKCksXG4gICAgY3JlYXRlSW1hZ2VEYXRhOiBqZXN0LmZuKCgpID0+IFtdKSxcbiAgICBzZXRUcmFuc2Zvcm06IGplc3QuZm4oKSxcbiAgICBkcmF3SW1hZ2U6IGplc3QuZm4oKSxcbiAgICBzYXZlOiBqZXN0LmZuKCksXG4gICAgZmlsbFRleHQ6IGplc3QuZm4oKSxcbiAgICByZXN0b3JlOiBqZXN0LmZuKCksXG4gICAgYmVnaW5QYXRoOiBqZXN0LmZuKCksXG4gICAgbW92ZVRvOiBqZXN0LmZuKCksXG4gICAgbGluZVRvOiBqZXN0LmZuKCksXG4gICAgY2xvc2VQYXRoOiBqZXN0LmZuKCksXG4gICAgc3Ryb2tlOiBqZXN0LmZuKCksXG4gICAgdHJhbnNsYXRlOiBqZXN0LmZuKCksXG4gICAgc2NhbGU6IGplc3QuZm4oKSxcbiAgICByb3RhdGU6IGplc3QuZm4oKSxcbiAgICBhcmM6IGplc3QuZm4oKSxcbiAgICBmaWxsOiBqZXN0LmZuKCksXG4gICAgbWVhc3VyZVRleHQ6IGplc3QuZm4oKCkgPT4gKHsgd2lkdGg6IDAgfSkpLFxuICAgIHRyYW5zZm9ybTogamVzdC5mbigpLFxuICAgIHJlY3Q6IGplc3QuZm4oKSxcbiAgICBjbGlwOiBqZXN0LmZuKClcbn0pKTtcblxuSFRNTENhbnZhc0VsZW1lbnQucHJvdG90eXBlLnRvRGF0YVVSTCA9IGplc3QuZm4oKCkgPT4gJ2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxtb2NrJyk7XG5IVE1MQ2FudmFzRWxlbWVudC5wcm90b3R5cGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0ID0gamVzdC5mbigoKSA9PiAoe1xuICAgIHdpZHRoOiAzMDAsXG4gICAgaGVpZ2h0OiAxNTAsXG4gICAgdG9wOiAwLFxuICAgIGxlZnQ6IDAsXG4gICAgYm90dG9tOiAxNTAsXG4gICAgcmlnaHQ6IDMwMFxufSkpO1xuXG4vLyBNb2NrIEFscGluZS5qcyBmb3IgdGVzdGluZ1xuZ2xvYmFsLkFscGluZSA9IHtcbiAgICBkYXRhOiBqZXN0LmZuKCksXG4gICAgc3RvcmU6IGplc3QuZm4oKSxcbiAgICBzdGFydDogamVzdC5mbigpLFxuICAgICRkYXRhOiBqZXN0LmZuKCksXG4gICAgdmVyc2lvbjogJzMuMTMuMydcbn07XG5cbi8vIE1vY2sgSFRNWCBmb3IgdGVzdGluZ1xuZ2xvYmFsLmh0bXggPSB7XG4gICAgcHJvY2VzczogamVzdC5mbigpLFxuICAgIGFqYXg6IGplc3QuZm4oKSxcbiAgICB0cmlnZ2VyOiBqZXN0LmZuKCksXG4gICAgcmVtb3ZlOiBqZXN0LmZuKCksXG4gICAgYWRkQ2xhc3M6IGplc3QuZm4oKSxcbiAgICByZW1vdmVDbGFzczogamVzdC5mbigpLFxuICAgIGZpbmQ6IGplc3QuZm4oKVxufTtcblxuLy8gTW9jayBDaGFydC5qcyBmb3IgdGVzdGluZ1xuZ2xvYmFsLkNoYXJ0ID0ge1xuICAgIHJlZ2lzdGVyOiBqZXN0LmZuKCksXG4gICAgZ2V0Q2hhcnQ6IGplc3QuZm4oKSxcbiAgICBkZWZhdWx0czoge1xuICAgICAgICByZXNwb25zaXZlOiB0cnVlLFxuICAgICAgICBtYWludGFpbkFzcGVjdFJhdGlvOiBmYWxzZVxuICAgIH1cbn07XG5cbi8vIE1vY2sgc2VydmljZSB3b3JrZXIgZm9yIFBXQSB0ZXN0c1xuZ2xvYmFsLm5hdmlnYXRvci5zZXJ2aWNlV29ya2VyID0ge1xuICAgIHJlZ2lzdGVyOiBqZXN0LmZuKCgpID0+IFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgIGluc3RhbGxpbmc6IG51bGwsXG4gICAgICAgIHdhaXRpbmc6IG51bGwsXG4gICAgICAgIGFjdGl2ZToge1xuICAgICAgICAgICAgcG9zdE1lc3NhZ2U6IGplc3QuZm4oKVxuICAgICAgICB9LFxuICAgICAgICBhZGRFdmVudExpc3RlbmVyOiBqZXN0LmZuKCksXG4gICAgICAgIHVwZGF0ZTogamVzdC5mbigoKSA9PiBQcm9taXNlLnJlc29sdmUoKSlcbiAgICB9KSksXG4gICAgcmVhZHk6IFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgIGluc3RhbGxpbmc6IG51bGwsXG4gICAgICAgIHdhaXRpbmc6IG51bGwsXG4gICAgICAgIGFjdGl2ZToge1xuICAgICAgICAgICAgcG9zdE1lc3NhZ2U6IGplc3QuZm4oKVxuICAgICAgICB9XG4gICAgfSksXG4gICAgY29udHJvbGxlcjogbnVsbCxcbiAgICBhZGRFdmVudExpc3RlbmVyOiBqZXN0LmZuKClcbn07XG5cbi8vIE1vY2sgb25saW5lL29mZmxpbmUgc3RhdHVzXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZ2xvYmFsLm5hdmlnYXRvciwgJ29uTGluZScsIHtcbiAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbi8vIE1vY2sgdmlicmF0aW9uIEFQSVxuZ2xvYmFsLm5hdmlnYXRvci52aWJyYXRlID0gamVzdC5mbigpO1xuXG4vLyBNb2NrIGludGVyc2VjdGlvbiBvYnNlcnZlclxuZ2xvYmFsLkludGVyc2VjdGlvbk9ic2VydmVyID0gamVzdC5mbigoKSA9PiAoe1xuICAgIG9ic2VydmU6IGplc3QuZm4oKSxcbiAgICB1bm9ic2VydmU6IGplc3QuZm4oKSxcbiAgICBkaXNjb25uZWN0OiBqZXN0LmZuKClcbn0pKTtcblxuLy8gTW9jayByZXNpemUgb2JzZXJ2ZXJcbmdsb2JhbC5SZXNpemVPYnNlcnZlciA9IGplc3QuZm4oKCkgPT4gKHtcbiAgICBvYnNlcnZlOiBqZXN0LmZuKCksXG4gICAgdW5vYnNlcnZlOiBqZXN0LmZuKCksXG4gICAgZGlzY29ubmVjdDogamVzdC5mbigpXG59KSk7XG5cbi8vIE1vY2sgZmV0Y2ggZm9yIEFQSSB0ZXN0c1xuZ2xvYmFsLmZldGNoID0gamVzdC5mbigpO1xuXG4vLyBNb2NrIGxvY2FsIHN0b3JhZ2VcbmNvbnN0IGxvY2FsU3RvcmFnZU1vY2sgPSB7XG4gICAgZ2V0SXRlbTogamVzdC5mbigpLFxuICAgIHNldEl0ZW06IGplc3QuZm4oKSxcbiAgICByZW1vdmVJdGVtOiBqZXN0LmZuKCksXG4gICAgY2xlYXI6IGplc3QuZm4oKVxufTtcbmdsb2JhbC5sb2NhbFN0b3JhZ2UgPSBsb2NhbFN0b3JhZ2VNb2NrO1xuXG4vLyBNb2NrIHNlc3Npb24gc3RvcmFnZVxuY29uc3Qgc2Vzc2lvblN0b3JhZ2VNb2NrID0ge1xuICAgIGdldEl0ZW06IGplc3QuZm4oKSxcbiAgICBzZXRJdGVtOiBqZXN0LmZuKCksXG4gICAgcmVtb3ZlSXRlbTogamVzdC5mbigpLFxuICAgIGNsZWFyOiBqZXN0LmZuKClcbn07XG5nbG9iYWwuc2Vzc2lvblN0b3JhZ2UgPSBzZXNzaW9uU3RvcmFnZU1vY2s7XG5cbi8vIE1vY2sgd2luZG93Lm1hdGNoTWVkaWFcbmdsb2JhbC5tYXRjaE1lZGlhID0gamVzdC5mbigocXVlcnkpID0+ICh7XG4gICAgbWF0Y2hlczogZmFsc2UsXG4gICAgbWVkaWE6IHF1ZXJ5LFxuICAgIG9uY2hhbmdlOiBudWxsLFxuICAgIGFkZExpc3RlbmVyOiBqZXN0LmZuKCksXG4gICAgcmVtb3ZlTGlzdGVuZXI6IGplc3QuZm4oKSxcbiAgICBhZGRFdmVudExpc3RlbmVyOiBqZXN0LmZuKCksXG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcjogamVzdC5mbigpLFxuICAgIGRpc3BhdGNoRXZlbnQ6IGplc3QuZm4oKVxufSkpO1xuXG4vLyBNb2NrIHdpbmRvdy5jcnlwdG8gZm9yIGVuY3J5cHRpb24gdGVzdHNcbmdsb2JhbC5jcnlwdG8gPSB7XG4gICAgZ2V0UmFuZG9tVmFsdWVzOiBqZXN0LmZuKChhcnIpID0+IHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFycltpXSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDI1Nik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFycjtcbiAgICB9KSxcbiAgICBzdWJ0bGU6IHtcbiAgICAgICAgZW5jcnlwdDogamVzdC5mbigpLFxuICAgICAgICBkZWNyeXB0OiBqZXN0LmZuKCksXG4gICAgICAgIGdlbmVyYXRlS2V5OiBqZXN0LmZuKCksXG4gICAgICAgIGltcG9ydEtleTogamVzdC5mbigpLFxuICAgICAgICBleHBvcnRLZXk6IGplc3QuZm4oKVxuICAgIH1cbn07XG5cbi8vIFRlc3QgdXRpbGl0aWVzXG5nbG9iYWwudGVzdFV0aWxzID0ge1xuICAgIC8vIENyZWF0ZSBtb2NrIERPTSBlbGVtZW50XG4gICAgY3JlYXRlTW9ja0VsZW1lbnQ6ICh0YWcgPSAnZGl2JywgYXR0cmlidXRlcyA9IHt9KSA9PiB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKGF0dHJpYnV0ZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoa2V5LCB2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9LFxuICAgIFxuICAgIC8vIENyZWF0ZSBtb2NrIEFscGluZSBjb21wb25lbnRcbiAgICBjcmVhdGVNb2NrQWxwaW5lQ29tcG9uZW50OiAoZGF0YSA9IHt9KSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5kYXRhLFxuICAgICAgICAgICAgJGVsOiBnbG9iYWwudGVzdFV0aWxzLmNyZWF0ZU1vY2tFbGVtZW50KCksXG4gICAgICAgICAgICAkd2F0Y2g6IGplc3QuZm4oKSxcbiAgICAgICAgICAgICRuZXh0VGljazogamVzdC5mbigoY2FsbGJhY2spID0+IFByb21pc2UucmVzb2x2ZSgpLnRoZW4oY2FsbGJhY2spKSxcbiAgICAgICAgICAgICRkaXNwYXRjaDogamVzdC5mbigpXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBcbiAgICAvLyBTaW11bGF0ZSB1c2VyIGV2ZW50XG4gICAgc2ltdWxhdGVFdmVudDogKGVsZW1lbnQsIGV2ZW50VHlwZSwgZXZlbnREYXRhID0ge30pID0+IHtcbiAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgRXZlbnQoZXZlbnRUeXBlLCB7IGJ1YmJsZXM6IHRydWUgfSk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24oZXZlbnQsIGV2ZW50RGF0YSk7XG4gICAgICAgIGVsZW1lbnQuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICAgIHJldHVybiBldmVudDtcbiAgICB9LFxuICAgIFxuICAgIC8vIFdhaXQgZm9yIGFzeW5jIG9wZXJhdGlvbnNcbiAgICB3YWl0Rm9yOiAoY29uZGl0aW9uLCB0aW1lb3V0ID0gNTAwMCkgPT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjb25kaXRpb24oKSkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChEYXRlLm5vdygpIC0gc3RhcnRUaW1lID4gdGltZW91dCkge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdUaW1lb3V0IHdhaXRpbmcgZm9yIGNvbmRpdGlvbicpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGNoZWNrLCAxMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNoZWNrKCk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgXG4gICAgLy8gTW9jayBBUEkgcmVzcG9uc2VcbiAgICBtb2NrQVBJUmVzcG9uc2U6IChkYXRhLCBzdGF0dXMgPSAyMDApID0+IHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICBvazogc3RhdHVzID49IDIwMCAmJiBzdGF0dXMgPCAzMDAsXG4gICAgICAgICAgICBzdGF0dXMsXG4gICAgICAgICAgICBqc29uOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoZGF0YSksXG4gICAgICAgICAgICB0ZXh0OiAoKSA9PiBQcm9taXNlLnJlc29sdmUoSlNPTi5zdHJpbmdpZnkoZGF0YSkpLFxuICAgICAgICAgICAgaGVhZGVyczogbmV3IEhlYWRlcnMoKVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIFxuICAgIC8vIENyZWF0ZSB0ZXN0IGRhdGFcbiAgICBjcmVhdGVUZXN0TG9SQTogKG92ZXJyaWRlcyA9IHt9KSA9PiAoe1xuICAgICAgICBpZDogJ3Rlc3QtbG9yYS0xJyxcbiAgICAgICAgbmFtZTogJ1Rlc3QgTG9SQScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQSB0ZXN0IExvUkEgbW9kZWwnLFxuICAgICAgICBmaWxlX3BhdGg6ICcvdGVzdC9wYXRoL21vZGVsLnNhZmV0ZW5zb3JzJyxcbiAgICAgICAgZmlsZV9zaXplOiAxMDI0MDAwLFxuICAgICAgICBtb2RlbF90eXBlOiAnY2hhcmFjdGVyJyxcbiAgICAgICAgdGFnczogWyd0ZXN0JywgJ2NoYXJhY3RlciddLFxuICAgICAgICByYXRpbmc6IDQuNSxcbiAgICAgICAgZG93bmxvYWRzOiAxMDAwLFxuICAgICAgICBjcmVhdGVkX2F0OiAnMjAyNS0wOS0wMVQwMDowMDowMFonLFxuICAgICAgICB1cGRhdGVkX2F0OiAnMjAyNS0wOS0wM1QwMDowMDowMFonLFxuICAgICAgICAuLi5vdmVycmlkZXNcbiAgICB9KSxcbiAgICBcbiAgICBjcmVhdGVUZXN0R2VuZXJhdGlvbjogKG92ZXJyaWRlcyA9IHt9KSA9PiAoe1xuICAgICAgICBpZDogJ3Rlc3QtZ2VuLTEnLFxuICAgICAgICBwcm9tcHQ6ICd0ZXN0IHByb21wdCcsXG4gICAgICAgIG5lZ2F0aXZlX3Byb21wdDogJ3Rlc3QgbmVnYXRpdmUnLFxuICAgICAgICBzZWVkOiAxMjM0NSxcbiAgICAgICAgc3RlcHM6IDIwLFxuICAgICAgICBjZmdfc2NhbGU6IDcuNSxcbiAgICAgICAgd2lkdGg6IDUxMixcbiAgICAgICAgaGVpZ2h0OiA1MTIsXG4gICAgICAgIHNhbXBsZXI6ICdEUE0rKyAyTSBLYXJyYXMnLFxuICAgICAgICBsb3JhczogWyd0ZXN0LWxvcmEtMSddLFxuICAgICAgICBzdGF0dXM6ICdjb21wbGV0ZWQnLFxuICAgICAgICBjcmVhdGVkX2F0OiAnMjAyNS0wOS0wM1QwMDowMDowMFonLFxuICAgICAgICBjb21wbGV0ZWRfYXQ6ICcyMDI1LTA5LTAzVDAwOjAxOjAwWicsXG4gICAgICAgIG91dHB1dF9wYXRoOiAnL3Rlc3Qvb3V0cHV0L2ltYWdlLnBuZycsXG4gICAgICAgIC4uLm92ZXJyaWRlc1xuICAgIH0pXG59O1xuXG4vLyBDb25zb2xlIHN1cHByZXNzIGZvciB0ZXN0c1xuY29uc3Qgb3JpZ2luYWxFcnJvciA9IGNvbnNvbGUuZXJyb3I7XG5iZWZvcmVBbGwoKCkgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IgPSAoLi4uYXJncykgPT4ge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICB0eXBlb2YgYXJnc1swXSA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgICAgIGFyZ3NbMF0uaW5jbHVkZXMoJ1dhcm5pbmc6IFJlYWN0RE9NLnJlbmRlciBpcyBubyBsb25nZXIgc3VwcG9ydGVkJylcbiAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgb3JpZ2luYWxFcnJvci5jYWxsKGNvbnNvbGUsIC4uLmFyZ3MpO1xuICAgIH07XG59KTtcblxuYWZ0ZXJBbGwoKCkgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IgPSBvcmlnaW5hbEVycm9yO1xufSk7XG5cbi8vIENsZWFuIHVwIGFmdGVyIGVhY2ggdGVzdFxuYWZ0ZXJFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgICBkb2N1bWVudC5ib2R5LmlubmVySFRNTCA9ICcnO1xuICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpO1xuICAgIHNlc3Npb25TdG9yYWdlLmNsZWFyKCk7XG59KTtcblxuLy8gR2xvYmFsIHRlc3QgdGltZW91dFxuamVzdC5zZXRUaW1lb3V0KDEwMDAwKTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUFBLE9BQU8sQ0FBQywyQkFBMkIsQ0FBQzs7QUFFcEM7QUFDQUEsT0FBTyxDQUFDLG1CQUFtQixDQUFDOztBQUU1QjtBQUNBQyxpQkFBaUIsQ0FBQ0MsU0FBUyxDQUFDQyxVQUFVLEdBQUdDLElBQUksQ0FBQ0MsRUFBRSxDQUFDLE9BQU87RUFDcERDLFFBQVEsRUFBRUYsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztFQUNuQkUsU0FBUyxFQUFFSCxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0VBQ3BCRyxZQUFZLEVBQUVKLElBQUksQ0FBQ0MsRUFBRSxDQUFDLE9BQU87SUFDekJJLElBQUksRUFBRSxJQUFJQyxLQUFLLENBQUMsQ0FBQztFQUNyQixDQUFDLENBQUMsQ0FBQztFQUNIQyxZQUFZLEVBQUVQLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7RUFDdkJPLGVBQWUsRUFBRVIsSUFBSSxDQUFDQyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUM7RUFDbENRLFlBQVksRUFBRVQsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztFQUN2QlMsU0FBUyxFQUFFVixJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0VBQ3BCVSxJQUFJLEVBQUVYLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7RUFDZlcsUUFBUSxFQUFFWixJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0VBQ25CWSxPQUFPLEVBQUViLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7RUFDbEJhLFNBQVMsRUFBRWQsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztFQUNwQmMsTUFBTSxFQUFFZixJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0VBQ2pCZSxNQUFNLEVBQUVoQixJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0VBQ2pCZ0IsU0FBUyxFQUFFakIsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztFQUNwQmlCLE1BQU0sRUFBRWxCLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7RUFDakJrQixTQUFTLEVBQUVuQixJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0VBQ3BCbUIsS0FBSyxFQUFFcEIsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztFQUNoQm9CLE1BQU0sRUFBRXJCLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7RUFDakJxQixHQUFHLEVBQUV0QixJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0VBQ2RzQixJQUFJLEVBQUV2QixJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0VBQ2Z1QixXQUFXLEVBQUV4QixJQUFJLENBQUNDLEVBQUUsQ0FBQyxPQUFPO0lBQUV3QixLQUFLLEVBQUU7RUFBRSxDQUFDLENBQUMsQ0FBQztFQUMxQ0MsU0FBUyxFQUFFMUIsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztFQUNwQjBCLElBQUksRUFBRTNCLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7RUFDZjJCLElBQUksRUFBRTVCLElBQUksQ0FBQ0MsRUFBRSxDQUFDO0FBQ2xCLENBQUMsQ0FBQyxDQUFDO0FBRUhKLGlCQUFpQixDQUFDQyxTQUFTLENBQUMrQixTQUFTLEdBQUc3QixJQUFJLENBQUNDLEVBQUUsQ0FBQyxNQUFNLDRCQUE0QixDQUFDO0FBQ25GSixpQkFBaUIsQ0FBQ0MsU0FBUyxDQUFDZ0MscUJBQXFCLEdBQUc5QixJQUFJLENBQUNDLEVBQUUsQ0FBQyxPQUFPO0VBQy9Ed0IsS0FBSyxFQUFFLEdBQUc7RUFDVk0sTUFBTSxFQUFFLEdBQUc7RUFDWEMsR0FBRyxFQUFFLENBQUM7RUFDTkMsSUFBSSxFQUFFLENBQUM7RUFDUEMsTUFBTSxFQUFFLEdBQUc7RUFDWEMsS0FBSyxFQUFFO0FBQ1gsQ0FBQyxDQUFDLENBQUM7O0FBRUg7QUFDQUMsTUFBTSxDQUFDQyxNQUFNLEdBQUc7RUFDWmhDLElBQUksRUFBRUwsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztFQUNmcUMsS0FBSyxFQUFFdEMsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztFQUNoQnNDLEtBQUssRUFBRXZDLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7RUFDaEJ1QyxLQUFLLEVBQUV4QyxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0VBQ2hCd0MsT0FBTyxFQUFFO0FBQ2IsQ0FBQzs7QUFFRDtBQUNBTCxNQUFNLENBQUNNLElBQUksR0FBRztFQUNWQyxPQUFPLEVBQUUzQyxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0VBQ2xCMkMsSUFBSSxFQUFFNUMsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztFQUNmNEMsT0FBTyxFQUFFN0MsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztFQUNsQjZDLE1BQU0sRUFBRTlDLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7RUFDakI4QyxRQUFRLEVBQUUvQyxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0VBQ25CK0MsV0FBVyxFQUFFaEQsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztFQUN0QmdELElBQUksRUFBRWpELElBQUksQ0FBQ0MsRUFBRSxDQUFDO0FBQ2xCLENBQUM7O0FBRUQ7QUFDQW1DLE1BQU0sQ0FBQ2MsS0FBSyxHQUFHO0VBQ1hDLFFBQVEsRUFBRW5ELElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7RUFDbkJtRCxRQUFRLEVBQUVwRCxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0VBQ25Cb0QsUUFBUSxFQUFFO0lBQ05DLFVBQVUsRUFBRSxJQUFJO0lBQ2hCQyxtQkFBbUIsRUFBRTtFQUN6QjtBQUNKLENBQUM7O0FBRUQ7QUFDQW5CLE1BQU0sQ0FBQ29CLFNBQVMsQ0FBQ0MsYUFBYSxHQUFHO0VBQzdCTixRQUFRLEVBQUVuRCxJQUFJLENBQUNDLEVBQUUsQ0FBQyxNQUFNeUQsT0FBTyxDQUFDQyxPQUFPLENBQUM7SUFDcENDLFVBQVUsRUFBRSxJQUFJO0lBQ2hCQyxPQUFPLEVBQUUsSUFBSTtJQUNiQyxNQUFNLEVBQUU7TUFDSkMsV0FBVyxFQUFFL0QsSUFBSSxDQUFDQyxFQUFFLENBQUM7SUFDekIsQ0FBQztJQUNEK0QsZ0JBQWdCLEVBQUVoRSxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0lBQzNCZ0UsTUFBTSxFQUFFakUsSUFBSSxDQUFDQyxFQUFFLENBQUMsTUFBTXlELE9BQU8sQ0FBQ0MsT0FBTyxDQUFDLENBQUM7RUFDM0MsQ0FBQyxDQUFDLENBQUM7RUFDSE8sS0FBSyxFQUFFUixPQUFPLENBQUNDLE9BQU8sQ0FBQztJQUNuQkMsVUFBVSxFQUFFLElBQUk7SUFDaEJDLE9BQU8sRUFBRSxJQUFJO0lBQ2JDLE1BQU0sRUFBRTtNQUNKQyxXQUFXLEVBQUUvRCxJQUFJLENBQUNDLEVBQUUsQ0FBQztJQUN6QjtFQUNKLENBQUMsQ0FBQztFQUNGa0UsVUFBVSxFQUFFLElBQUk7RUFDaEJILGdCQUFnQixFQUFFaEUsSUFBSSxDQUFDQyxFQUFFLENBQUM7QUFDOUIsQ0FBQzs7QUFFRDtBQUNBbUUsTUFBTSxDQUFDQyxjQUFjLENBQUNqQyxNQUFNLENBQUNvQixTQUFTLEVBQUUsUUFBUSxFQUFFO0VBQzlDYyxRQUFRLEVBQUUsSUFBSTtFQUNkQyxLQUFLLEVBQUU7QUFDWCxDQUFDLENBQUM7O0FBRUY7QUFDQW5DLE1BQU0sQ0FBQ29CLFNBQVMsQ0FBQ2dCLE9BQU8sR0FBR3hFLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7O0FBRXBDO0FBQ0FtQyxNQUFNLENBQUNxQyxvQkFBb0IsR0FBR3pFLElBQUksQ0FBQ0MsRUFBRSxDQUFDLE9BQU87RUFDekN5RSxPQUFPLEVBQUUxRSxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0VBQ2xCMEUsU0FBUyxFQUFFM0UsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztFQUNwQjJFLFVBQVUsRUFBRTVFLElBQUksQ0FBQ0MsRUFBRSxDQUFDO0FBQ3hCLENBQUMsQ0FBQyxDQUFDOztBQUVIO0FBQ0FtQyxNQUFNLENBQUN5QyxjQUFjLEdBQUc3RSxJQUFJLENBQUNDLEVBQUUsQ0FBQyxPQUFPO0VBQ25DeUUsT0FBTyxFQUFFMUUsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztFQUNsQjBFLFNBQVMsRUFBRTNFLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7RUFDcEIyRSxVQUFVLEVBQUU1RSxJQUFJLENBQUNDLEVBQUUsQ0FBQztBQUN4QixDQUFDLENBQUMsQ0FBQzs7QUFFSDtBQUNBbUMsTUFBTSxDQUFDMEMsS0FBSyxHQUFHOUUsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQzs7QUFFeEI7QUFDQSxNQUFNOEUsZ0JBQWdCLEdBQUc7RUFDckJDLE9BQU8sRUFBRWhGLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7RUFDbEJnRixPQUFPLEVBQUVqRixJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0VBQ2xCaUYsVUFBVSxFQUFFbEYsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztFQUNyQmtGLEtBQUssRUFBRW5GLElBQUksQ0FBQ0MsRUFBRSxDQUFDO0FBQ25CLENBQUM7QUFDRG1DLE1BQU0sQ0FBQ2dELFlBQVksR0FBR0wsZ0JBQWdCOztBQUV0QztBQUNBLE1BQU1NLGtCQUFrQixHQUFHO0VBQ3ZCTCxPQUFPLEVBQUVoRixJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0VBQ2xCZ0YsT0FBTyxFQUFFakYsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztFQUNsQmlGLFVBQVUsRUFBRWxGLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7RUFDckJrRixLQUFLLEVBQUVuRixJQUFJLENBQUNDLEVBQUUsQ0FBQztBQUNuQixDQUFDO0FBQ0RtQyxNQUFNLENBQUNrRCxjQUFjLEdBQUdELGtCQUFrQjs7QUFFMUM7QUFDQWpELE1BQU0sQ0FBQ21ELFVBQVUsR0FBR3ZGLElBQUksQ0FBQ0MsRUFBRSxDQUFFdUYsS0FBSyxLQUFNO0VBQ3BDQyxPQUFPLEVBQUUsS0FBSztFQUNkQyxLQUFLLEVBQUVGLEtBQUs7RUFDWkcsUUFBUSxFQUFFLElBQUk7RUFDZEMsV0FBVyxFQUFFNUYsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztFQUN0QjRGLGNBQWMsRUFBRTdGLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7RUFDekIrRCxnQkFBZ0IsRUFBRWhFLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7RUFDM0I2RixtQkFBbUIsRUFBRTlGLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7RUFDOUI4RixhQUFhLEVBQUUvRixJQUFJLENBQUNDLEVBQUUsQ0FBQztBQUMzQixDQUFDLENBQUMsQ0FBQzs7QUFFSDtBQUNBbUMsTUFBTSxDQUFDNEQsTUFBTSxHQUFHO0VBQ1pDLGVBQWUsRUFBRWpHLElBQUksQ0FBQ0MsRUFBRSxDQUFFaUcsR0FBRyxJQUFLO0lBQzlCLEtBQUssSUFBSUMsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHRCxHQUFHLENBQUNFLE1BQU0sRUFBRUQsQ0FBQyxFQUFFLEVBQUU7TUFDakNELEdBQUcsQ0FBQ0MsQ0FBQyxDQUFDLEdBQUdFLElBQUksQ0FBQ0MsS0FBSyxDQUFDRCxJQUFJLENBQUNFLE1BQU0sQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO0lBQzVDO0lBQ0EsT0FBT0wsR0FBRztFQUNkLENBQUMsQ0FBQztFQUNGTSxNQUFNLEVBQUU7SUFDSkMsT0FBTyxFQUFFekcsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztJQUNsQnlHLE9BQU8sRUFBRTFHLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7SUFDbEIwRyxXQUFXLEVBQUUzRyxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0lBQ3RCMkcsU0FBUyxFQUFFNUcsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztJQUNwQjRHLFNBQVMsRUFBRTdHLElBQUksQ0FBQ0MsRUFBRSxDQUFDO0VBQ3ZCO0FBQ0osQ0FBQzs7QUFFRDtBQUNBbUMsTUFBTSxDQUFDMEUsU0FBUyxHQUFHO0VBQ2Y7RUFDQUMsaUJBQWlCLEVBQUVBLENBQUNDLEdBQUcsR0FBRyxLQUFLLEVBQUVDLFVBQVUsR0FBRyxDQUFDLENBQUMsS0FBSztJQUNqRCxNQUFNQyxPQUFPLEdBQUdDLFFBQVEsQ0FBQ0MsYUFBYSxDQUFDSixHQUFHLENBQUM7SUFDM0M1QyxNQUFNLENBQUNpRCxPQUFPLENBQUNKLFVBQVUsQ0FBQyxDQUFDSyxPQUFPLENBQUMsQ0FBQyxDQUFDQyxHQUFHLEVBQUVoRCxLQUFLLENBQUMsS0FBSztNQUNqRDJDLE9BQU8sQ0FBQ00sWUFBWSxDQUFDRCxHQUFHLEVBQUVoRCxLQUFLLENBQUM7SUFDcEMsQ0FBQyxDQUFDO0lBQ0YsT0FBTzJDLE9BQU87RUFDbEIsQ0FBQztFQUVEO0VBQ0FPLHlCQUF5QixFQUFFQSxDQUFDcEgsSUFBSSxHQUFHLENBQUMsQ0FBQyxLQUFLO0lBQ3RDLE9BQU87TUFDSCxHQUFHQSxJQUFJO01BQ1BxSCxHQUFHLEVBQUV0RixNQUFNLENBQUMwRSxTQUFTLENBQUNDLGlCQUFpQixDQUFDLENBQUM7TUFDekNZLE1BQU0sRUFBRTNILElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7TUFDakIySCxTQUFTLEVBQUU1SCxJQUFJLENBQUNDLEVBQUUsQ0FBRTRILFFBQVEsSUFBS25FLE9BQU8sQ0FBQ0MsT0FBTyxDQUFDLENBQUMsQ0FBQ21FLElBQUksQ0FBQ0QsUUFBUSxDQUFDLENBQUM7TUFDbEVFLFNBQVMsRUFBRS9ILElBQUksQ0FBQ0MsRUFBRSxDQUFDO0lBQ3ZCLENBQUM7RUFDTCxDQUFDO0VBRUQ7RUFDQStILGFBQWEsRUFBRUEsQ0FBQ2QsT0FBTyxFQUFFZSxTQUFTLEVBQUVDLFNBQVMsR0FBRyxDQUFDLENBQUMsS0FBSztJQUNuRCxNQUFNQyxLQUFLLEdBQUcsSUFBSUMsS0FBSyxDQUFDSCxTQUFTLEVBQUU7TUFBRUksT0FBTyxFQUFFO0lBQUssQ0FBQyxDQUFDO0lBQ3JEakUsTUFBTSxDQUFDa0UsTUFBTSxDQUFDSCxLQUFLLEVBQUVELFNBQVMsQ0FBQztJQUMvQmhCLE9BQU8sQ0FBQ25CLGFBQWEsQ0FBQ29DLEtBQUssQ0FBQztJQUM1QixPQUFPQSxLQUFLO0VBQ2hCLENBQUM7RUFFRDtFQUNBSSxPQUFPLEVBQUVBLENBQUNDLFNBQVMsRUFBRUMsT0FBTyxHQUFHLElBQUksS0FBSztJQUNwQyxPQUFPLElBQUkvRSxPQUFPLENBQUMsQ0FBQ0MsT0FBTyxFQUFFK0UsTUFBTSxLQUFLO01BQ3BDLE1BQU1DLFNBQVMsR0FBR0MsSUFBSSxDQUFDQyxHQUFHLENBQUMsQ0FBQztNQUM1QixNQUFNQyxLQUFLLEdBQUdBLENBQUEsS0FBTTtRQUNoQixJQUFJTixTQUFTLENBQUMsQ0FBQyxFQUFFO1VBQ2I3RSxPQUFPLENBQUMsQ0FBQztRQUNiLENBQUMsTUFBTSxJQUFJaUYsSUFBSSxDQUFDQyxHQUFHLENBQUMsQ0FBQyxHQUFHRixTQUFTLEdBQUdGLE9BQU8sRUFBRTtVQUN6Q0MsTUFBTSxDQUFDLElBQUlLLEtBQUssQ0FBQywrQkFBK0IsQ0FBQyxDQUFDO1FBQ3RELENBQUMsTUFBTTtVQUNIQyxVQUFVLENBQUNGLEtBQUssRUFBRSxFQUFFLENBQUM7UUFDekI7TUFDSixDQUFDO01BQ0RBLEtBQUssQ0FBQyxDQUFDO0lBQ1gsQ0FBQyxDQUFDO0VBQ04sQ0FBQztFQUVEO0VBQ0FHLGVBQWUsRUFBRUEsQ0FBQzVJLElBQUksRUFBRTZJLE1BQU0sR0FBRyxHQUFHLEtBQUs7SUFDckMsT0FBT3hGLE9BQU8sQ0FBQ0MsT0FBTyxDQUFDO01BQ25Cd0YsRUFBRSxFQUFFRCxNQUFNLElBQUksR0FBRyxJQUFJQSxNQUFNLEdBQUcsR0FBRztNQUNqQ0EsTUFBTTtNQUNORSxJQUFJLEVBQUVBLENBQUEsS0FBTTFGLE9BQU8sQ0FBQ0MsT0FBTyxDQUFDdEQsSUFBSSxDQUFDO01BQ2pDZ0osSUFBSSxFQUFFQSxDQUFBLEtBQU0zRixPQUFPLENBQUNDLE9BQU8sQ0FBQzJGLElBQUksQ0FBQ0MsU0FBUyxDQUFDbEosSUFBSSxDQUFDLENBQUM7TUFDakRtSixPQUFPLEVBQUUsSUFBSUMsT0FBTyxDQUFDO0lBQ3pCLENBQUMsQ0FBQztFQUNOLENBQUM7RUFFRDtFQUNBQyxjQUFjLEVBQUVBLENBQUNDLFNBQVMsR0FBRyxDQUFDLENBQUMsTUFBTTtJQUNqQ0MsRUFBRSxFQUFFLGFBQWE7SUFDakJDLElBQUksRUFBRSxXQUFXO0lBQ2pCQyxXQUFXLEVBQUUsbUJBQW1CO0lBQ2hDQyxTQUFTLEVBQUUsOEJBQThCO0lBQ3pDQyxTQUFTLEVBQUUsT0FBTztJQUNsQkMsVUFBVSxFQUFFLFdBQVc7SUFDdkJDLElBQUksRUFBRSxDQUFDLE1BQU0sRUFBRSxXQUFXLENBQUM7SUFDM0JDLE1BQU0sRUFBRSxHQUFHO0lBQ1hDLFNBQVMsRUFBRSxJQUFJO0lBQ2ZDLFVBQVUsRUFBRSxzQkFBc0I7SUFDbENDLFVBQVUsRUFBRSxzQkFBc0I7SUFDbEMsR0FBR1g7RUFDUCxDQUFDLENBQUM7RUFFRlksb0JBQW9CLEVBQUVBLENBQUNaLFNBQVMsR0FBRyxDQUFDLENBQUMsTUFBTTtJQUN2Q0MsRUFBRSxFQUFFLFlBQVk7SUFDaEJZLE1BQU0sRUFBRSxhQUFhO0lBQ3JCQyxlQUFlLEVBQUUsZUFBZTtJQUNoQ0MsSUFBSSxFQUFFLEtBQUs7SUFDWEMsS0FBSyxFQUFFLEVBQUU7SUFDVEMsU0FBUyxFQUFFLEdBQUc7SUFDZG5KLEtBQUssRUFBRSxHQUFHO0lBQ1ZNLE1BQU0sRUFBRSxHQUFHO0lBQ1g4SSxPQUFPLEVBQUUsaUJBQWlCO0lBQzFCQyxLQUFLLEVBQUUsQ0FBQyxhQUFhLENBQUM7SUFDdEI1QixNQUFNLEVBQUUsV0FBVztJQUNuQm1CLFVBQVUsRUFBRSxzQkFBc0I7SUFDbENVLFlBQVksRUFBRSxzQkFBc0I7SUFDcENDLFdBQVcsRUFBRSx3QkFBd0I7SUFDckMsR0FBR3JCO0VBQ1AsQ0FBQztBQUNMLENBQUM7O0FBRUQ7QUFDQSxNQUFNc0IsYUFBYSxHQUFHQyxPQUFPLENBQUNDLEtBQUs7QUFDbkNDLFNBQVMsQ0FBQyxNQUFNO0VBQ1pGLE9BQU8sQ0FBQ0MsS0FBSyxHQUFHLENBQUMsR0FBR0UsSUFBSSxLQUFLO0lBQ3pCLElBQ0ksT0FBT0EsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLFFBQVEsSUFDM0JBLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQ0MsUUFBUSxDQUFDLGlEQUFpRCxDQUFDLEVBQ3JFO01BQ0U7SUFDSjtJQUNBTCxhQUFhLENBQUNNLElBQUksQ0FBQ0wsT0FBTyxFQUFFLEdBQUdHLElBQUksQ0FBQztFQUN4QyxDQUFDO0FBQ0wsQ0FBQyxDQUFDO0FBRUZHLFFBQVEsQ0FBQyxNQUFNO0VBQ1hOLE9BQU8sQ0FBQ0MsS0FBSyxHQUFHRixhQUFhO0FBQ2pDLENBQUMsQ0FBQzs7QUFFRjtBQUNBUSxTQUFTLENBQUMsTUFBTTtFQUNaekwsSUFBSSxDQUFDMEwsYUFBYSxDQUFDLENBQUM7RUFDcEJ2RSxRQUFRLENBQUN3RSxJQUFJLENBQUNDLFNBQVMsR0FBRyxFQUFFO0VBQzVCeEcsWUFBWSxDQUFDRCxLQUFLLENBQUMsQ0FBQztFQUNwQkcsY0FBYyxDQUFDSCxLQUFLLENBQUMsQ0FBQztBQUMxQixDQUFDLENBQUM7O0FBRUY7QUFDQW5GLElBQUksQ0FBQ2dKLFVBQVUsQ0FBQyxLQUFLLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=