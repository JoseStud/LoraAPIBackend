{"version":3,"names":["window","pwaServiceWorker","require","pwaInstallation","pwaOffline","pwaCache","pwaUI","PWAManager","constructor","options","enableLogging","autoUpdate","enableOfflineMode","enableInstallPrompt","enableCaching","enableNotifications","state","isInitialized","isOnline","navigator","onLine","isInstalled","hasUpdate","swRegistration","deferredPrompt","offlineState","callbacks","onReady","onInstalled","onUpdateAvailable","onOffline","onOnline","onError","notificationQueue","createNotificationQueue","init","log","initInstallation","initServiceWorker","initOfflineMode","initUI","getStatus","error","handleError","status","checkInstallationStatus","installManager","setupEventListeners","onInstallPromptAvailable","event","showInstallPrompt","onAppInstalled","hideInstallPrompt","showNotification","installCleanup","cleanup","getDeferredPrompt","register","swCleanup","showUpdateAvailable","onControllerChange","location","reload","checkForUpdates","indicator","createOfflineIndicator","document","body","appendChild","toggleOfflineIndicator","applyResponsiveStyles","addEventListener","dismissal","manageInstallDismissal","isDismissed","prompt","createInstallPrompt","querySelector","installApp","dismiss","getElementById","remove","result","triggerInstall","userChoice","showUpdateBanner","updateApp","activateWaiting","title","message","type","add","getCacheInfo","getCacheStatus","clearCache","success","clearAllCaches","hasServiceWorker","Boolean","queuedActions","length","capabilities","getCapabilities","installCriteria","getInstallCriteria","getAnalytics","installation","getInstallationAnalytics","offline","getOfflineStatus","serviceWorker","getPerformanceMetrics","timestamp","Date","now","context","level","logMessage","DevLogger","console","destroy","clear","pwaManager","module","exports"],"sources":["index.js"],"sourcesContent":["/**\n * PWA Manager - Main Module\n * \n * Coordinates all PWA functionality and provides the main interface.\n */\n\n// Import required modules\nif (typeof window !== 'undefined') {\n    // Browser environment - modules loaded via script tags\n} else {\n    // Node.js environment - for testing\n    // eslint-disable-next-line no-unused-vars\n    const { pwaServiceWorker } = require('./service-worker');\n    // eslint-disable-next-line no-unused-vars\n    const { pwaInstallation } = require('./installation');\n    // eslint-disable-next-line no-unused-vars\n    const { pwaOffline } = require('./offline');\n    // eslint-disable-next-line no-unused-vars\n    const { pwaCache } = require('./cache');\n    // eslint-disable-next-line no-unused-vars\n    const { pwaUI } = require('./ui');\n}\n\n/**\n * Main PWA Manager class\n */\nclass PWAManager {\n    constructor(options = {}) {\n        this.options = {\n            enableLogging: true,\n            autoUpdate: true,\n            enableOfflineMode: true,\n            enableInstallPrompt: true,\n            enableCaching: true,\n            enableNotifications: true,\n            ...options\n        };\n        \n        this.state = {\n            isInitialized: false,\n            isOnline: navigator.onLine,\n            isInstalled: false,\n            hasUpdate: false,\n            swRegistration: null,\n            deferredPrompt: null,\n            offlineState: null\n        };\n        \n        this.callbacks = {\n            onReady: null,\n            onInstalled: null,\n            onUpdateAvailable: null,\n            onOffline: null,\n            onOnline: null,\n            onError: null,\n            ...options.callbacks\n        };\n        \n        // Initialize notification queue\n        if (this.options.enableNotifications) {\n            this.notificationQueue = window.pwaUI?.createNotificationQueue?.(3);\n        }\n        \n        this.init();\n    }\n    \n    /**\n     * Initializes the PWA Manager\n     */\n    async init() {\n        if (this.state.isInitialized) return;\n        \n        try {\n            this.log('Initializing PWA Manager...');\n            \n            // Check installation status\n            if (this.options.enableInstallPrompt) {\n                await this.initInstallation();\n            }\n            \n            // Register service worker\n            await this.initServiceWorker();\n            \n            // Initialize offline capabilities\n            if (this.options.enableOfflineMode) {\n                await this.initOfflineMode();\n            }\n            \n            // Initialize UI components\n            if (this.options.enableNotifications) {\n                this.initUI();\n            }\n            \n            this.state.isInitialized = true;\n            this.log('PWA Manager initialized successfully');\n            \n            if (this.callbacks.onReady) {\n                this.callbacks.onReady(this.getStatus());\n            }\n            \n        } catch (error) {\n            this.handleError('Initialization failed', error);\n        }\n    }\n    \n    /**\n     * Initializes installation management\n     */\n    async initInstallation() {\n        if (!window.pwaInstallation) {\n            this.log('Installation module not available', 'warn');\n            return;\n        }\n        \n        // Check current installation status\n        const status = window.pwaInstallation.checkInstallationStatus();\n        this.state.isInstalled = status.isInstalled;\n        \n        // Set up installation event listeners\n        const installManager = window.pwaInstallation.setupEventListeners({\n            onInstallPromptAvailable: (event) => {\n                this.state.deferredPrompt = event;\n                this.showInstallPrompt();\n            },\n            onAppInstalled: () => {\n                this.state.isInstalled = true;\n                this.hideInstallPrompt();\n                this.showNotification('App Installed!', 'LoRA Manager is now available from your home screen.', 'success');\n                \n                if (this.callbacks.onInstalled) {\n                    this.callbacks.onInstalled();\n                }\n            }\n        });\n        \n        // Store cleanup function\n        this.installCleanup = installManager.cleanup;\n        this.getDeferredPrompt = installManager.getDeferredPrompt;\n    }\n    \n    /**\n     * Initializes service worker\n     */\n    async initServiceWorker() {\n        if (!window.pwaServiceWorker) {\n            this.log('Service Worker module not available', 'warn');\n            return;\n        }\n        \n        try {\n            // Register service worker\n            this.state.swRegistration = await window.pwaServiceWorker.register();\n            \n            // Set up service worker event listeners\n            this.swCleanup = window.pwaServiceWorker.setupEventListeners(\n                this.state.swRegistration,\n                {\n                    onUpdateAvailable: () => {\n                        this.state.hasUpdate = true;\n                        this.showUpdateAvailable();\n                        \n                        if (this.callbacks.onUpdateAvailable) {\n                            this.callbacks.onUpdateAvailable();\n                        }\n                    },\n                    onControllerChange: () => {\n                        window.location.reload();\n                    }\n                }\n            );\n            \n            // Check for updates if enabled\n            if (this.options.autoUpdate) {\n                await this.checkForUpdates();\n            }\n            \n        } catch (error) {\n            this.handleError('Service Worker initialization failed', error);\n        }\n    }\n    \n    /**\n     * Initializes offline mode\n     */\n    async initOfflineMode() {\n        if (!window.pwaOffline) {\n            this.log('Offline module not available', 'warn');\n            return;\n        }\n        \n        // Initialize offline state\n        this.state.offlineState = window.pwaOffline.init({\n            onOnline: () => {\n                this.state.isOnline = true;\n                this.showNotification('Back Online!', 'Connection restored. Syncing data...', 'success');\n                \n                if (this.callbacks.onOnline) {\n                    this.callbacks.onOnline();\n                }\n            },\n            onOffline: () => {\n                this.state.isOnline = false;\n                this.showNotification('You\\'re Offline', 'Working in offline mode with cached data.', 'warning');\n                \n                if (this.callbacks.onOffline) {\n                    this.callbacks.onOffline();\n                }\n            }\n        });\n        \n        // Create offline indicator\n        const indicator = window.pwaOffline.createOfflineIndicator();\n        document.body.appendChild(indicator);\n        \n        // Update initial status\n        window.pwaOffline.toggleOfflineIndicator(!this.state.isOnline);\n    }\n    \n    /**\n     * Initializes UI components\n     */\n    initUI() {\n        if (!window.pwaUI) {\n            this.log('UI module not available', 'warn');\n            return;\n        }\n        \n        // Apply responsive styles\n        window.pwaUI.applyResponsiveStyles();\n        \n        // Handle window resize\n        window.addEventListener('resize', () => {\n            window.pwaUI.applyResponsiveStyles();\n        });\n    }\n    \n    /**\n     * Shows install prompt\n     */\n    showInstallPrompt() {\n        if (!window.pwaInstallation || this.state.isInstalled) return;\n        \n        const dismissal = window.pwaInstallation.manageInstallDismissal();\n        if (dismissal.isDismissed()) return;\n        \n        const prompt = window.pwaInstallation.createInstallPrompt();\n        document.body.appendChild(prompt);\n        \n        // Set up event listeners\n        prompt.querySelector('#pwa-install-btn').addEventListener('click', () => {\n            this.installApp();\n        });\n        \n        prompt.querySelector('#pwa-dismiss-btn').addEventListener('click', () => {\n            dismissal.dismiss();\n            this.hideInstallPrompt();\n        });\n        \n        prompt.querySelector('#pwa-close-btn').addEventListener('click', () => {\n            this.hideInstallPrompt();\n        });\n    }\n    \n    /**\n     * Hides install prompt\n     */\n    hideInstallPrompt() {\n        const prompt = document.getElementById('pwa-install-prompt');\n        if (prompt) {\n            prompt.remove();\n        }\n    }\n    \n    /**\n     * Installs the PWA\n     */\n    async installApp() {\n        if (!this.state.deferredPrompt) {\n            this.showNotification('Installation Not Available', 'Install option is not currently available.', 'warning');\n            return;\n        }\n        \n        try {\n            const result = await window.pwaInstallation.triggerInstall(this.state.deferredPrompt);\n            \n            if (result.userChoice) {\n                this.log('User accepted install prompt');\n            } else {\n                this.log('User dismissed install prompt');\n            }\n            \n            this.state.deferredPrompt = null;\n            this.hideInstallPrompt();\n            \n        } catch (error) {\n            this.handleError('Installation failed', error);\n        }\n    }\n    \n    /**\n     * Shows update available notification\n     */\n    showUpdateAvailable() {\n        if (!window.pwaUI) return;\n        \n        window.pwaUI.showUpdateBanner(\n            () => this.updateApp(),\n            () => this.log('User dismissed update notification')\n        );\n    }\n    \n    /**\n     * Updates the app\n     */\n    updateApp() {\n        if (!this.state.swRegistration) return;\n        \n        window.pwaServiceWorker.activateWaiting(this.state.swRegistration);\n    }\n    \n    /**\n     * Checks for app updates\n     */\n    async checkForUpdates() {\n        if (!this.state.swRegistration) return;\n        \n        try {\n            await window.pwaServiceWorker.checkForUpdates(this.state.swRegistration);\n        } catch (error) {\n            this.handleError('Update check failed', error);\n        }\n    }\n    \n    /**\n     * Shows notification\n     */\n    showNotification(title, message, type = 'info') {\n        if (!this.options.enableNotifications || !window.pwaUI) return;\n        \n        if (this.notificationQueue) {\n            this.notificationQueue.add(title, message, type);\n        } else {\n            window.pwaUI.showNotification(title, message, type);\n        }\n    }\n    \n    /**\n     * Gets cache information\n     */\n    async getCacheInfo() {\n        if (!this.state.swRegistration || !window.pwaCache) return null;\n        \n        try {\n            return await window.pwaCache.getCacheStatus(this.state.swRegistration);\n        } catch (error) {\n            this.handleError('Failed to get cache info', error);\n            return null;\n        }\n    }\n    \n    /**\n     * Clears cache\n     */\n    async clearCache() {\n        if (!this.state.swRegistration || !window.pwaCache) return false;\n        \n        try {\n            const success = await window.pwaCache.clearAllCaches(this.state.swRegistration);\n            if (success) {\n                this.showNotification('Cache Cleared', 'All cached data has been removed.', 'success');\n            }\n            return success;\n        } catch (error) {\n            this.handleError('Failed to clear cache', error);\n            return false;\n        }\n    }\n    \n    /**\n     * Gets PWA status\n     */\n    getStatus() {\n        return {\n            isInitialized: this.state.isInitialized,\n            isOnline: this.state.isOnline,\n            isInstalled: this.state.isInstalled,\n            hasUpdate: this.state.hasUpdate,\n            hasServiceWorker: Boolean(this.state.swRegistration),\n            queuedActions: this.state.offlineState?.queuedActions?.length || 0,\n            capabilities: window.pwaServiceWorker?.getCapabilities?.() || {},\n            installCriteria: window.pwaInstallation?.getInstallCriteria?.() || {}\n        };\n    }\n    \n    /**\n     * Gets analytics data\n     */\n    getAnalytics() {\n        return {\n            installation: window.pwaInstallation?.getInstallationAnalytics?.() || {},\n            offline: window.pwaOffline?.getOfflineStatus?.(this.state.offlineState) || {},\n            serviceWorker: window.pwaServiceWorker?.getPerformanceMetrics?.(this.state.swRegistration) || {},\n            timestamp: Date.now()\n        };\n    }\n    \n    /**\n     * Handles errors\n     */\n    handleError(context, error) {\n        const message = `PWA Manager - ${context}: ${error.message}`;\n        \n        this.log(message, 'error');\n        \n        if (this.callbacks.onError) {\n            this.callbacks.onError(error, context);\n        }\n        \n        // Show user-friendly error notification\n        if (this.options.enableNotifications) {\n            this.showNotification('Error', 'Something went wrong. Please try again.', 'error');\n        }\n    }\n    \n    /**\n     * Logs messages\n     */\n    log(message, level = 'info') {\n        if (!this.options.enableLogging) return;\n        \n        const logMessage = `[PWA Manager] ${message}`;\n        \n        if (window.DevLogger) {\n            window.DevLogger[level]?.(logMessage);\n        } else {\n            // eslint-disable-next-line no-console\n            console[level]?.(logMessage);\n        }\n    }\n    \n    /**\n     * Cleanup method\n     */\n    destroy() {\n        if (this.installCleanup) {\n            this.installCleanup();\n        }\n        \n        if (this.swCleanup) {\n            this.swCleanup();\n        }\n        \n        if (this.notificationQueue) {\n            this.notificationQueue.clear();\n        }\n        \n        this.state.isInitialized = false;\n    }\n}\n\n// Initialize PWA Manager when DOM is loaded\nif (typeof document !== 'undefined') {\n    document.addEventListener('DOMContentLoaded', () => {\n        window.pwaManager = new PWAManager();\n    });\n}\n\n// Export for use in other modules\nif (typeof module !== 'undefined' && module.exports) {\n    // Export as both default and named export for CommonJS consumers and tests\n    module.exports = PWAManager;\n    module.exports.PWAManager = PWAManager;\n} \n\nif (typeof window !== 'undefined') {\n    window.PWAManager = PWAManager;\n}\n"],"mappings":"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","ignoreList":[]}