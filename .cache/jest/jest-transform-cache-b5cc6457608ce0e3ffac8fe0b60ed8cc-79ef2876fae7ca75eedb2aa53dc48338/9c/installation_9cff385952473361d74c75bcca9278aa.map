{"version":3,"names":["pwaInstallation","checkInstallationStatus","isStandalone","window","matchMedia","matches","isNavigatorStandalone","navigator","standalone","isAndroidApp","document","referrer","includes","isIOSStandalone","isInstalled","navigatorStandalone","androidApp","iosStandalone","Boolean","setupEventListeners","callbacks","deferredPrompt","handleBeforeInstallPrompt","event","preventDefault","onInstallPromptAvailable","handleAppInstalled","onAppInstalled","handleDisplayModeChange","onDisplayModeChange","addEventListener","standaloneMedia","addListener","cleanup","removeEventListener","removeListener","getDeferredPrompt","setDeferredPrompt","prompt","triggerInstall","Error","result","DevLogger","debug","outcome","userChoice","error","message","isInstallSupported","beforeInstallPrompt","appleWebApp","test","userAgent","androidWebApp","chromeWebApp","chrome","edgeWebApp","firefoxWebApp","getInstallCriteria","isHTTPS","location","protocol","hostname","hasManifest","querySelector","hasServiceWorker","hasValidManifest","validateManifest","isInstallable","checkInstallability","manifestLink","response","fetch","href","manifest","json","required","hasRequired","every","field","hasValidIcon","icons","some","icon","sizes","valid","missingFields","filter","criteria","manageInstallDismissal","STORAGE_KEY","REMINDER_DAYS","isDismissed","dismissedTime","localStorage","getItem","daysSince","Date","now","parseInt","dismiss","setItem","toString","clearDismissal","removeItem","getDismissedTime","time","getDaysSinceDismissed","createInstallPrompt","options","title","installText","dismissText","className","createElement","id","innerHTML","showPlatformInstructions","instructions","platform","detectPlatform","canInstall","getInstallationAnalytics","installStatus","support","dismissal","supportLevel","Object","values","length","criteriaStatus","dismissalStatus","daysSinceDismissed","timestamp","module","exports"],"sources":["installation.js"],"sourcesContent":["/**\n * PWA Manager - Installation Module\n * \n * Handles PWA installation prompts, detection, and installation flow.\n */\n\n/**\n * PWA installation management operations\n */\nconst pwaInstallation = {\n    /**\n     * Checks if PWA is currently installed\n     */\n    checkInstallationStatus() {\n        // Check various PWA indicators\n        const isStandalone = window.matchMedia('(display-mode: standalone)').matches;\n        const isNavigatorStandalone = window.navigator.standalone === true;\n        const isAndroidApp = document.referrer.includes('android-app://');\n        const isIOSStandalone = window.navigator.standalone;\n        \n        return {\n            isInstalled: isStandalone || isNavigatorStandalone || isAndroidApp || isIOSStandalone,\n            standalone: isStandalone,\n            navigatorStandalone: isNavigatorStandalone,\n            androidApp: isAndroidApp,\n            iosStandalone: Boolean(isIOSStandalone)\n        };\n    },\n    \n    /**\n     * Sets up installation event listeners\n     */\n    setupEventListeners(callbacks = {}) {\n        let deferredPrompt = null;\n        \n        // Handle beforeinstallprompt\n        const handleBeforeInstallPrompt = (event) => {\n            event.preventDefault();\n            deferredPrompt = event;\n            \n            if (callbacks.onInstallPromptAvailable) {\n                callbacks.onInstallPromptAvailable(event);\n            }\n        };\n        \n        // Handle app installed\n        const handleAppInstalled = (event) => {\n            deferredPrompt = null;\n            \n            if (callbacks.onAppInstalled) {\n                callbacks.onAppInstalled(event);\n            }\n        };\n        \n        // Handle display mode changes\n        const handleDisplayModeChange = (event) => {\n            if (callbacks.onDisplayModeChange) {\n                callbacks.onDisplayModeChange(event.matches);\n            }\n        };\n        \n        window.addEventListener('beforeinstallprompt', handleBeforeInstallPrompt);\n        window.addEventListener('appinstalled', handleAppInstalled);\n        \n        // Monitor display mode changes\n        const standaloneMedia = window.matchMedia('(display-mode: standalone)');\n        standaloneMedia.addListener(handleDisplayModeChange);\n        \n        // Return cleanup function and current prompt\n        return {\n            cleanup: () => {\n                window.removeEventListener('beforeinstallprompt', handleBeforeInstallPrompt);\n                window.removeEventListener('appinstalled', handleAppInstalled);\n                standaloneMedia.removeListener(handleDisplayModeChange);\n            },\n            getDeferredPrompt: () => deferredPrompt,\n            setDeferredPrompt: (prompt) => { deferredPrompt = prompt; }\n        };\n    },\n    \n    /**\n     * Triggers the install prompt\n     */\n    async triggerInstall(deferredPrompt) {\n        if (!deferredPrompt) {\n            throw new Error('No deferred install prompt available');\n        }\n        \n        try {\n            const result = await deferredPrompt.prompt();\n            \n            if (window.DevLogger?.debug) {\n                window.DevLogger.debug('[PWA] Install prompt result:', result);\n            }\n            \n            return {\n                outcome: result.outcome,\n                userChoice: result.outcome === 'accepted'\n            };\n            \n        } catch (error) {\n            throw new Error(`Install prompt failed: ${error.message}`);\n        }\n    },\n    \n    /**\n     * Checks if installation is supported\n     */\n    isInstallSupported() {\n        // Check for various PWA installation methods\n        return {\n            beforeInstallPrompt: 'BeforeInstallPromptEvent' in window || 'onbeforeinstallprompt' in window,\n            appleWebApp: /iPad|iPhone|iPod/.test(navigator.userAgent),\n            androidWebApp: /Android/.test(navigator.userAgent),\n            chromeWebApp: 'chrome' in window && 'webstore' in window.chrome,\n            edgeWebApp: navigator.userAgent.includes('Edg/'),\n            firefoxWebApp: navigator.userAgent.includes('Firefox/')\n        };\n    },\n    \n    /**\n     * Gets installation criteria status\n     */\n    getInstallCriteria() {\n        return {\n            isHTTPS: location.protocol === 'https:' || location.hostname === 'localhost',\n            hasManifest: Boolean(document.querySelector('link[rel=\"manifest\"]')),\n            hasServiceWorker: 'serviceWorker' in navigator,\n            hasValidManifest: this.validateManifest(),\n            isInstallable: this.checkInstallability()\n        };\n    },\n    \n    /**\n     * Validates the web app manifest\n     */\n    async validateManifest() {\n        const manifestLink = document.querySelector('link[rel=\"manifest\"]');\n        if (!manifestLink) return false;\n        \n        try {\n            const response = await fetch(manifestLink.href);\n            const manifest = await response.json();\n            \n            // Check required fields\n            const required = ['name', 'short_name', 'start_url', 'display', 'icons'];\n            const hasRequired = required.every(field => manifest[field]);\n            \n            // Check for valid icon\n            const hasValidIcon = manifest.icons && manifest.icons.some(icon => \n                icon.sizes && (icon.sizes.includes('192x192') || icon.sizes.includes('512x512'))\n            );\n            \n            return {\n                valid: hasRequired && hasValidIcon,\n                manifest,\n                missingFields: required.filter(field => !manifest[field]),\n                hasValidIcon\n            };\n            \n        } catch (error) {\n            return { valid: false, error: error.message };\n        }\n    },\n    \n    /**\n     * Checks overall installability\n     */\n    checkInstallability() {\n        const criteria = this.getInstallCriteria();\n        return criteria.isHTTPS && criteria.hasManifest && criteria.hasServiceWorker;\n    },\n    \n    /**\n     * Manages install prompt dismissal\n     */\n    manageInstallDismissal() {\n        const STORAGE_KEY = 'pwa-install-dismissed';\n        const REMINDER_DAYS = 7;\n        \n        return {\n            isDismissed() {\n                const dismissedTime = localStorage.getItem(STORAGE_KEY);\n                if (!dismissedTime) return false;\n                \n                const daysSince = (Date.now() - parseInt(dismissedTime)) / (1000 * 60 * 60 * 24);\n                return daysSince < REMINDER_DAYS;\n            },\n            \n            dismiss() {\n                localStorage.setItem(STORAGE_KEY, Date.now().toString());\n            },\n            \n            clearDismissal() {\n                localStorage.removeItem(STORAGE_KEY);\n            },\n            \n            getDismissedTime() {\n                const time = localStorage.getItem(STORAGE_KEY);\n                return time ? new Date(parseInt(time)) : null;\n            },\n            \n            getDaysSinceDismissed() {\n                const time = localStorage.getItem(STORAGE_KEY);\n                if (!time) return null;\n                \n                return (Date.now() - parseInt(time)) / (1000 * 60 * 60 * 24);\n            }\n        };\n    },\n    \n    /**\n     * Creates install prompt UI\n     */\n    createInstallPrompt(options = {}) {\n        const {\n            title = 'Install App',\n            message = 'Install this app for a better experience?',\n            installText = 'Install',\n            dismissText = 'Not Now',\n            className = 'pwa-install-prompt'\n        } = options;\n        \n        const prompt = document.createElement('div');\n        prompt.id = 'pwa-install-prompt';\n        prompt.className = `${className} fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-80 bg-white border border-gray-200 rounded-lg shadow-lg p-4 z-50`;\n        \n        prompt.innerHTML = `\n            <div class=\"flex items-start space-x-3\">\n                <div class=\"flex-shrink-0\">\n                    <div class=\"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center\">\n                        <svg class=\"w-6 h-6 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10\"></path>\n                        </svg>\n                    </div>\n                </div>\n                <div class=\"flex-1 min-w-0\">\n                    <h3 class=\"text-sm font-semibold text-gray-900\">${title}</h3>\n                    <p class=\"text-sm text-gray-600 mt-1\">${message}</p>\n                    <div class=\"flex space-x-2 mt-3\">\n                        <button id=\"pwa-install-btn\" class=\"btn btn-primary btn-sm\">\n                            ${installText}\n                        </button>\n                        <button id=\"pwa-dismiss-btn\" class=\"btn btn-ghost btn-sm\">\n                            ${dismissText}\n                        </button>\n                    </div>\n                </div>\n                <button id=\"pwa-close-btn\" class=\"flex-shrink-0 text-gray-400 hover:text-gray-600\">\n                    <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path>\n                    </svg>\n                </button>\n            </div>\n        `;\n        \n        return prompt;\n    },\n    \n    /**\n     * Shows platform-specific install instructions\n     */\n    showPlatformInstructions() {\n        const userAgent = navigator.userAgent;\n        let instructions = '';\n        \n        if (/iPad|iPhone|iPod/.test(userAgent)) {\n            instructions = 'Tap the share button and select \"Add to Home Screen\"';\n        } else if (/Android/.test(userAgent)) {\n            instructions = 'Tap the menu button and select \"Add to Home Screen\" or \"Install App\"';\n        } else if (userAgent.includes('Chrome')) {\n            instructions = 'Click the install button in the address bar or menu';\n        } else if (userAgent.includes('Firefox')) {\n            instructions = 'This app can be installed from supported browsers like Chrome or Edge';\n        } else if (userAgent.includes('Safari')) {\n            instructions = 'Use the share menu and select \"Add to Home Screen\"';\n        } else {\n            instructions = 'Use a supported browser like Chrome, Firefox, or Safari to install this app';\n        }\n        \n        return {\n            platform: this.detectPlatform(),\n            instructions,\n            canInstall: this.isInstallSupported()\n        };\n    },\n    \n    /**\n     * Detects the user's platform\n     */\n    detectPlatform() {\n        const userAgent = navigator.userAgent;\n        \n        if (/iPad|iPhone|iPod/.test(userAgent)) return 'ios';\n        if (/Android/.test(userAgent)) return 'android';\n        if (/Windows/.test(userAgent)) return 'windows';\n        if (/Mac/.test(userAgent)) return 'mac';\n        if (/Linux/.test(userAgent)) return 'linux';\n        \n        return 'unknown';\n    },\n    \n    /**\n     * Gets installation analytics data\n     */\n    getInstallationAnalytics() {\n        const installStatus = this.checkInstallationStatus();\n        const criteria = this.getInstallCriteria();\n        const support = this.isInstallSupported();\n        const dismissal = this.manageInstallDismissal();\n        \n        return {\n            isInstalled: installStatus.isInstalled,\n            isInstallable: this.checkInstallability(),\n            platform: this.detectPlatform(),\n            supportLevel: Object.values(support).filter(Boolean).length,\n            criteriaStatus: criteria,\n            dismissalStatus: {\n                isDismissed: dismissal.isDismissed(),\n                daysSinceDismissed: dismissal.getDaysSinceDismissed()\n            },\n            userAgent: navigator.userAgent,\n            timestamp: Date.now()\n        };\n    }\n};\n\n// Export for use in other modules\nif (typeof module !== 'undefined' && module.exports) {\n    module.exports = { pwaInstallation };\n} else if (typeof window !== 'undefined') {\n    window.pwaInstallation = pwaInstallation;\n}\n"],"mappings":"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","ignoreList":[]}